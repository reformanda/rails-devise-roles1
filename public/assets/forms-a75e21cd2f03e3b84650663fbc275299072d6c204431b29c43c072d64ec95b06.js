/*! iCheck v1.0.2 by Damir Sultanov, http://git.io/arlzeA, MIT Licensed */
/*!
 * Jasny Bootstrap v3.1.2 (http://jasny.github.io/bootstrap)
 * Copyright 2012-2014 Arnold Daniels
 * Licensed under Apache-2.0 (https://github.com/jasny/bootstrap/blob/master/LICENSE)
 */
if(function(t){function e(t,e,n){var s=t[0],a=/er/.test(n)?_indeterminate:/bl/.test(n)?p:u,o=n==_update?{checked:s[u],disabled:s[p],indeterminate:"true"==t.attr(_indeterminate)||"false"==t.attr(_determinate)}:s[a];if(/^(ch|di|in)/.test(n)&&!o)i(t,a);else if(/^(un|en|de)/.test(n)&&o)l(t,a);else if(n==_update)for(var r in o)o[r]?i(t,r,!0):l(t,r,!0);else e&&"toggle"!=n||(e||t[_callback]("ifClicked"),o?s[_type]!==c&&l(t,a):i(t,a))}function i(e,i,n){var f=e[0],m=e.parent(),g=i==u,v=i==_indeterminate,b=i==p,y=v?_determinate:g?d:"enabled",_=s(e,y+a(f[_type])),w=s(e,i+a(f[_type]));if(!0!==f[i]){if(!n&&i==u&&f[_type]==c&&f.name){var x=e.closest("form"),k='input[name="'+f.name+'"]',k=x.length?x.find(k):t(k);k.each(function(){this!==f&&t(this).data(r)&&l(t(this),i)})}v?(f[i]=!0,f[u]&&l(e,u,"force")):(n||(f[i]=!0),g&&f[_indeterminate]&&l(e,_indeterminate,!1)),o(e,g,i,n)}f[p]&&s(e,_cursor,!0)&&m.find("."+h).css(_cursor,"default"),m[_add](w||s(e,i)||""),m.attr("role")&&!v&&m.attr("aria-"+(b?p:u),"true"),m[_remove](_||s(e,y)||"")}function l(t,e,i){var l=t[0],n=t.parent(),r=e==u,c=e==_indeterminate,f=e==p,m=c?_determinate:r?d:"enabled",g=s(t,m+a(l[_type])),v=s(t,e+a(l[_type]));!1!==l[e]&&(!c&&i&&"force"!=i||(l[e]=!1),o(t,r,m,i)),!l[p]&&s(t,_cursor,!0)&&n.find("."+h).css(_cursor,"pointer"),n[_remove](v||s(t,e)||""),n.attr("role")&&!c&&n.attr("aria-"+(f?p:u),"false"),n[_add](g||s(t,m)||"")}function n(e,i){e.data(r)&&(e.parent().html(e.attr("style",e.data(r).s||"")),i&&e[_callback](i),e.off(".i").unwrap(),t(_label+'[for="'+e[0].id+'"]').add(e.closest(_label)).off(".i"))}function s(t,e,i){return t.data(r)?t.data(r).o[e+(i?"":"Class")]:void 0}function a(t){return t.charAt(0).toUpperCase()+t.slice(1)}function o(t,e,i,l){l||(e&&t[_callback]("ifToggled"),t[_callback]("ifChanged")[_callback]("if"+a(i)))}var r="iCheck",h=r+"-helper",c="radio",u="checked",d="un"+u,p="disabled";_determinate="determinate",_indeterminate="in"+_determinate,_update="update",_type="type",_click="click",_touch="touchbegin.i touchend.i",_add="addClass",_remove="removeClass",_callback="trigger",_label="label",_cursor="cursor",_mobile=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent),t.fn[r]=function(s,a){var o='input[type="checkbox"], input[type="'+c+'"]',d=t(),f=function(e){e.each(function(){var e=t(this);d=e.is(o)?d.add(e):d.add(e.find(o))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(s))return s=s.toLowerCase(),f(this),d.each(function(){var i=t(this);"destroy"==s?n(i,"ifDestroyed"):e(i,!0,s),t.isFunction(a)&&a()});if("object"!=typeof s&&s)return this;var m=t.extend({checkedClass:u,disabledClass:p,indeterminateClass:_indeterminate,labelHover:!0},s),g=m.handle,v=m.hoverClass||"hover",b=m.focusClass||"focus",y=m.activeClass||"active",_=!!m.labelHover,w=m.labelHoverClass||"hover",x=0|(""+m.increaseArea).replace("%","");return"checkbox"!=g&&g!=c||(o='input[type="'+g+'"]'),-50>x&&(x=-50),f(this),d.each(function(){var s=t(this);n(s);var a=this,o=a.id,d=-x+"%",f=100+2*x+"%",f={position:"absolute",top:d,left:d,display:"block",width:f,height:f,margin:0,padding:0,background:"#fff",border:0,opacity:0},d=_mobile?{position:"absolute",visibility:"hidden"}:x?f:{position:"absolute",opacity:0},g="checkbox"==a[_type]?m.checkboxClass||"icheckbox":m.radioClass||"i"+c,k=t(_label+'[for="'+o+'"]').add(s.closest(_label)),C=!!m.aria,M=r+"-"+Math.random().toString(36).substr(2,6),D='<div class="'+g+'" '+(C?'role="'+a[_type]+'" ':"");C&&k.each(function(){D+='aria-labelledby="',this.id?D+=this.id:(this.id=M,D+=M),D+='"'}),D=s.wrap(D+"/>")[_callback]("ifCreated").parent().append(m.insert),f=t('<ins class="'+h+'"/>').css(f).appendTo(D),s.data(r,{o:m,s:s.attr("style")}).css(d),m.inheritClass&&D[_add](a.className||""),m.inheritID&&o&&D.attr("id",r+"-"+o),"static"==D.css("position")&&D.css("position","relative"),e(s,!0,_update),k.length&&k.on(_click+".i mouseover.i mouseout.i "+_touch,function(i){var l=i[_type],n=t(this);if(!a[p]){if(l==_click){if(t(i.target).is("a"))return;e(s,!1,!0)}else _&&(/ut|nd/.test(l)?(D[_remove](v),n[_remove](w)):(D[_add](v),n[_add](w)));if(!_mobile)return!1;i.stopPropagation()}}),s.on(_click+".i focus.i blur.i keyup.i keydown.i keypress.i",function(t){var e=t[_type];return t=t.keyCode,e==_click?!1:"keydown"==e&&32==t?(a[_type]==c&&a[u]||(a[u]?l(s,u):i(s,u)),!1):void("keyup"==e&&a[_type]==c?!a[u]&&i(s,u):/us|ur/.test(e)&&D["blur"==e?_remove:_add](b))}),f.on(_click+" mousedown mouseup mouseover mouseout "+_touch,function(t){var i=t[_type],l=/wn|up/.test(i)?y:v;if(!a[p]){if(i==_click?e(s,!1,!0):(/wn|er|in/.test(i)?D[_add](l):D[_remove](l+" "+y),k.length&&_&&l==v&&k[/ut|nd/.test(i)?_remove:_add](w)),!_mobile)return!1;t.stopPropagation()}})})}}(window.jQuery||window.Zepto),/*! 
 * jQuery Steps v1.0.6 - 04/27/2014
 * Copyright (c) 2014 Rafael Staib (http://www.jquery-steps.com)
 * Licensed under MIT http://www.opensource.org/licenses/MIT
 */
!function(t,e){function i(t,e){f(t).push(e)}function l(l,n,s){var a=l.children(n.headerTag),o=l.children(n.bodyTag);a.length>o.length?Y(K,"contents"):a.length<o.length&&Y(K,"titles");var r=n.startIndex;if(s.stepCount=a.length,n.saveState&&t.cookie){var h=t.cookie(q+g(l)),c=parseInt(h,0);!isNaN(c)&&c<s.stepCount&&(r=c)}s.currentIndex=r,a.each(function(n){var s=t(this),a=o.eq(n),r=a.data("mode"),h=null==r?Q.html:v(Q,/^\s*$/.test(r)||isNaN(r)?r:parseInt(r,0)),c=h===Q.html||a.data("url")===e?"":a.data("url"),u=h!==Q.html&&"1"===a.data("loaded"),d=t.extend({},et,{title:s.html(),content:h===Q.html?a.html():"",contentUrl:c,contentMode:h,contentLoaded:u});i(l,d)})}function n(t){t.triggerHandler("canceled")}function s(t,e){return t.currentIndex-e}function a(e,i){var l=r(e);e.unbind(l).removeData("uid").removeData("options").removeData("state").removeData("steps").removeData("eventNamespace").find(".actions a").unbind(l),e.removeClass(i.clearFixCssClass+" vertical");var n=e.find(".content > *");n.removeData("loaded").removeData("mode").removeData("url"),n.removeAttr("id").removeAttr("role").removeAttr("tabindex").removeAttr("class").removeAttr("style")._removeAria("labelledby")._removeAria("hidden"),e.find(".content > [data-mode='async'],.content > [data-mode='iframe']").empty();var s=t('<{0} class="{1}"></{0}>'.format(e.get(0).tagName,e.attr("class"))),a=e._id();return null!=a&&""!==a&&s._id(a),s.html(e.find(".content").html()),e.after(s),e.remove(),s}function o(t,e){var i=t.find(".steps li").eq(e.currentIndex);t.triggerHandler("finishing",[e.currentIndex])?(i.addClass("done").removeClass("error"),t.triggerHandler("finished",[e.currentIndex])):i.addClass("error")}function r(t){var e=t.data("eventNamespace");return null==e&&(e="."+g(t),t.data("eventNamespace",e)),e}function h(t,e){var i=g(t);return t.find("#"+i+V+e)}function c(t,e){var i=g(t);return t.find("#"+i+Z+e)}function u(t,e){var i=g(t);return t.find("#"+i+G+e)}function d(t){return t.data("options")}function p(t){return t.data("state")}function f(t){return t.data("steps")}function m(t,e){var i=f(t);return(0>e||e>=i.length)&&Y(X),i[e]}function g(t){var e=t.data("uid");return null==e&&(e=t._id(),null==e&&(e="steps-uid-".concat(B),t._id(e)),B++,t.data("uid",e)),e}function v(t,i){if(U("enumType",t),U("keyOrValue",i),"string"==typeof i){var l=t[i];return l===e&&Y("The enum key '{0}' does not exist.",i),l}if("number"==typeof i){for(var n in t)if(t[n]===i)return i;Y("Invalid enum value '{0}'.",i)}else Y("Invalid key or value type.")}function b(t,e,i){return S(t,e,i,w(i,1))}function y(t,e,i){return S(t,e,i,s(i,1))}function _(t,e,i,l){if((0>l||l>=i.stepCount)&&Y(X),!(e.forceMoveForward&&l<i.currentIndex)){var n=i.currentIndex;return t.triggerHandler("stepChanging",[i.currentIndex,l])?(i.currentIndex=l,$(t,e,i),A(t,e,i,n),E(t,e,i),D(t,e,i),R(t,e,i,l,n),t.triggerHandler("stepChanged",[l,n])):t.find(".steps li").eq(n).addClass("error"),!0}}function w(t,e){return t.currentIndex+e}function x(e){var i=t.extend(!0,{},it,e);return this.each(function(){var e=t(this),n={currentIndex:i.startIndex,currentStep:null,stepCount:0,transitionElement:null};e.data("options",i),e.data("state",n),e.data("steps",[]),l(e,i,n),z(e,i,n),P(e,i),i.autoFocus&&0===B&&h(e,i.startIndex).focus()})}function k(e,i,l,n,s){(0>n||n>l.stepCount)&&Y(X),s=t.extend({},et,s),C(e,n,s),l.currentIndex!==l.stepCount&&l.currentIndex>=n&&(l.currentIndex++,$(e,i,l)),l.stepCount++;var a=e.find(".content"),o=t("<{0}>{1}</{0}>".format(i.headerTag,s.title)),r=t("<{0}></{0}>".format(i.bodyTag));return(null==s.contentMode||s.contentMode===Q.html)&&r.html(s.content),0===n?a.prepend(r).prepend(o):c(e,n-1).after(r).after(o),L(e,l,r,n),N(e,i,l,o,n),I(e,i,l,n),n===l.currentIndex&&A(e,i,l),E(e,i,l),e}function C(t,e,i){f(t).splice(e,0,i)}function M(e){var i=t(this),l=d(i),n=p(i);if(l.suppressPaginationOnFocus&&i.find(":focus").is(":input"))return e.preventDefault(),!1;var s={left:37,right:39};e.keyCode===s.left?(e.preventDefault(),y(i,l,n)):e.keyCode===s.right&&(e.preventDefault(),b(i,l,n))}function D(e,i,l){if(l.stepCount>0){var n=m(e,l.currentIndex);if(!i.enableContentCache||!n.contentLoaded)switch(v(Q,n.contentMode)){case Q.iframe:e.find(".content > .body").eq(l.currentIndex).empty().html('<iframe src="'+n.contentUrl+'" frameborder="0" scrolling="no" />').data("loaded","1");break;case Q.async:var s=c(e,l.currentIndex)._aria("busy","true").empty().append(H(i.loadingTemplate,{text:i.labels.loading}));t.ajax({url:n.contentUrl,cache:!1}).done(function(t){s.empty().html(t)._aria("busy","false").data("loaded","1")})}}}function S(t,e,i,l){var n=i.currentIndex;if(l>=0&&l<i.stepCount&&!(e.forceMoveForward&&l<i.currentIndex)){var s=h(t,l),a=s.parent(),o=a.hasClass("disabled");return a._enableAria(),s.click(),n===i.currentIndex&&o?(a._enableAria(!1),!1):!0}return!1}function T(e){e.preventDefault();var i=t(this),l=i.parent().parent().parent().parent(),s=d(l),a=p(l),r=i.attr("href");switch(r.substring(r.lastIndexOf("#")+1)){case"cancel":n(l);break;case"finish":o(l,a);break;case"next":b(l,s,a);break;case"previous":y(l,s,a)}}function E(t,e,i){if(e.enablePagination){var l=t.find(".actions a[href$='#finish']").parent(),n=t.find(".actions a[href$='#next']").parent();if(!e.forceMoveForward){var s=t.find(".actions a[href$='#previous']").parent();s._enableAria(i.currentIndex>0)}e.enableFinishButton&&e.showFinishButtonAlways?(l._enableAria(i.stepCount>0),n._enableAria(i.stepCount>1&&i.stepCount>i.currentIndex+1)):(l._showAria(e.enableFinishButton&&i.stepCount>=i.currentIndex+1),n._showAria(0===i.stepCount||i.stepCount>i.currentIndex+1)._enableAria(i.stepCount>i.currentIndex+1||!e.enableFinishButton))}}function A(e,i,l,n){var s=h(e,l.currentIndex),a=t('<span class="current-info audible">'+i.labels.current+" </span>"),o=e.find(".content > .title");if(null!=n){var r=h(e,n);r.parent().addClass("done").removeClass("error")._selectAria(!1),o.eq(n).removeClass("current").next(".body").removeClass("current"),a=r.find(".current-info"),s.focus()}s.prepend(a).parent()._selectAria().removeClass("done")._enableAria(),o.eq(l.currentIndex).addClass("current").next(".body").addClass("current")}function I(t,e,i,l){for(var n=g(t),s=l;s<i.stepCount;s++){var a=n+V+s,o=n+Z+s,r=n+G+s,h=t.find(".title").eq(s)._id(r);t.find(".steps a").eq(s)._id(a)._aria("controls",o).attr("href","#"+r).html(H(e.titleTemplate,{index:s+1,title:h.html()})),t.find(".body").eq(s)._id(o)._aria("labelledby",r)}}function P(t,e){var i=r(t);t.bind("canceled"+i,e.onCanceled),t.bind("finishing"+i,e.onFinishing),t.bind("finished"+i,e.onFinished),t.bind("stepChanging"+i,e.onStepChanging),t.bind("stepChanged"+i,e.onStepChanged),e.enableKeyNavigation&&t.bind("keyup"+i,M),t.find(".actions a").bind("click"+i,T)}function F(t,e,i,l){return 0>l||l>=i.stepCount||i.currentIndex===l?!1:(j(t,l),i.currentIndex>l&&(i.currentIndex--,$(t,e,i)),i.stepCount--,u(t,l).remove(),c(t,l).remove(),h(t,l).parent().remove(),0===l&&t.find(".steps li").first().addClass("first"),l===i.stepCount&&t.find(".steps li").eq(l).addClass("last"),I(t,e,i,l),E(t,e,i),!0)}function j(t,e){f(t).splice(e,1)}function z(e,i,l){var n='<{0} class="{1}">{2}</{0}>',s=v(J,i.stepsOrientation),a=s===J.vertical?" vertical":"",o=t(n.format(i.contentContainerTag,"content "+i.clearFixCssClass,e.html())),r=t(n.format(i.stepsContainerTag,"steps "+i.clearFixCssClass,'<ul role="tablist"></ul>')),h=o.children(i.headerTag),c=o.children(i.bodyTag);e.attr("role","application").empty().append(r).append(o).addClass(i.cssClass+" "+i.clearFixCssClass+a),c.each(function(i){L(e,l,t(this),i)}),h.each(function(n){N(e,i,l,t(this),n)}),A(e,i,l),O(e,i,l)}function L(t,e,i,l){var n=g(t),s=n+Z+l,a=n+G+l;i._id(s).attr("role","tabpanel")._aria("labelledby",a).addClass("body")._showAria(e.currentIndex===l)}function O(t,e,i){if(e.enablePagination){var l='<{0} class="actions {1}"><ul role="menu" aria-label="{2}">{3}</ul></{0}>',n='<li><a href="#{0}" role="menuitem">{1}</a></li>',s="";e.forceMoveForward||(s+=n.format("previous",e.labels.previous)),s+=n.format("next",e.labels.next),e.enableFinishButton&&(s+=n.format("finish",e.labels.finish)),e.enableCancelButton&&(s+=n.format("cancel",e.labels.cancel)),t.append(l.format(e.actionContainerTag,e.clearFixCssClass,e.labels.pagination,s)),E(t,e,i),D(t,e,i)}}function H(t,i){for(var l=t.match(/#([a-z]*)#/gi),n=0;n<l.length;n++){var s=l[n],a=s.substring(1,s.length-1);i[a]===e&&Y("The key '{0}' does not exist in the substitute collection!",a),t=t.replace(s,i[a])}return t}function N(e,i,l,n,s){var a=g(e),o=a+V+s,h=a+Z+s,c=a+G+s,u=e.find(".steps > ul"),d=H(i.titleTemplate,{index:s+1,title:n.html()}),p=t('<li role="tab"><a id="'+o+'" href="#'+c+'" aria-controls="'+h+'">'+d+"</a></li>");p._enableAria(i.enableAllSteps||l.currentIndex>s),l.currentIndex>s&&p.addClass("done"),n._id(c).attr("tabindex","-1").addClass("title"),0===s?u.prepend(p):u.find("li").eq(s-1).after(p),0===s&&u.find("li").removeClass("first").eq(s).addClass("first"),s===l.stepCount-1&&u.find("li").removeClass("last").eq(s).addClass("last"),p.children("a").bind("click"+r(e),W)}function $(e,i,l){i.saveState&&t.cookie&&t.cookie(q+g(e),l.currentIndex)}function R(e,i,l,n,s){var a=e.find(".content > .body"),o=v(tt,i.transitionEffect),r=i.transitionEffectSpeed,h=a.eq(n),c=a.eq(s);switch(o){case tt.fade:case tt.slide:var u=o===tt.fade?"fadeOut":"slideUp",d=o===tt.fade?"fadeIn":"slideDown";l.transitionElement=h,c[u](r,function(){var e=t(this)._showAria(!1).parent().parent(),i=p(e);i.transitionElement&&(i.transitionElement[d](r,function(){t(this)._showAria()}),i.transitionElement=null)}).promise();break;case tt.slideLeft:var f=c.outerWidth(!0),m=n>s?-f:f,g=n>s?f:-f;c.animate({left:m},r,function(){t(this)._showAria(!1)}).promise(),h.css("left",g+"px")._showAria().animate({left:0},r).promise();break;default:c._showAria(!1),h._showAria()}}function W(e){e.preventDefault();var i=t(this),l=i.parent().parent().parent().parent(),n=d(l),s=p(l),a=s.currentIndex;if(i.parent().is(":not(.disabled):not(.current)")){var o=i.attr("href"),r=parseInt(o.substring(o.lastIndexOf("-")+1),0);_(l,n,s,r)}return a===s.currentIndex?(h(l,a).focus(),!1):void 0}function Y(t){throw arguments.length>1&&(t=t.format(Array.prototype.slice.call(arguments,1))),new Error(t)}function U(t,e){null==e&&Y("The argument '{0}' is null or undefined.",t)}t.fn.extend({_aria:function(t,e){return this.attr("aria-"+t,e)},_removeAria:function(t){return this.removeAttr("aria-"+t)},_enableAria:function(t){return null==t||t?this.removeClass("disabled")._aria("disabled","false"):this.addClass("disabled")._aria("disabled","true")},_showAria:function(t){return null==t||t?this.show()._aria("hidden","false"):this.hide()._aria("hidden","true")},_selectAria:function(t){return null==t||t?this.addClass("current")._aria("selected","true"):this.removeClass("current")._aria("selected","false")},_id:function(t){return t?this.attr("id",t):this.attr("id")}}),String.prototype.format||(String.prototype.format=function(){for(var e=1===arguments.length&&t.isArray(arguments[0])?arguments[0]:arguments,i=this,l=0;l<e.length;l++){var n=new RegExp("\\{"+l+"\\}","gm");i=i.replace(n,e[l])}return i});var B=0,q="jQu3ry_5teps_St@te_",V="-t-",Z="-p-",G="-h-",X="Index out of range.",K="One or more corresponding step {0} are missing.";t.fn.steps=function(e){return t.fn.steps[e]?t.fn.steps[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.steps"):x.apply(this,arguments)},t.fn.steps.add=function(t){var e=p(this);return k(this,d(this),e,e.stepCount,t)},t.fn.steps.destroy=function(){return a(this,d(this))},t.fn.steps.finish=function(){o(this,p(this))},t.fn.steps.getCurrentIndex=function(){return p(this).currentIndex},t.fn.steps.getCurrentStep=function(){return m(this,p(this).currentIndex)},t.fn.steps.getStep=function(t){return m(this,t)},t.fn.steps.insert=function(t,e){return k(this,d(this),p(this),t,e)},t.fn.steps.next=function(){return b(this,d(this),p(this))},t.fn.steps.previous=function(){return y(this,d(this),p(this))},t.fn.steps.remove=function(t){return F(this,d(this),p(this),t)},t.fn.steps.setStep=function(){throw new Error("Not yet implemented!")},t.fn.steps.skip=function(){throw new Error("Not yet implemented!")};var Q=t.fn.steps.contentMode={html:0,iframe:1,async:2},J=t.fn.steps.stepsOrientation={horizontal:0,vertical:1},tt=t.fn.steps.transitionEffect={none:0,fade:1,slide:2,slideLeft:3},et=t.fn.steps.stepModel={title:"",content:"",contentUrl:"",contentMode:Q.html,contentLoaded:!1},it=t.fn.steps.defaults={headerTag:"h1",bodyTag:"div",contentContainerTag:"div",actionContainerTag:"div",stepsContainerTag:"div",cssClass:"wizard",clearFixCssClass:"clearfix",stepsOrientation:J.horizontal,titleTemplate:'<span class="number">#index#.</span> #title#',loadingTemplate:'<span class="spinner"></span> #text#',autoFocus:!1,enableAllSteps:!1,enableKeyNavigation:!0,enablePagination:!0,suppressPaginationOnFocus:!0,enableContentCache:!0,enableCancelButton:!0,enableFinishButton:!0,preloadContent:!1,showFinishButtonAlways:!1,forceMoveForward:!1,saveState:!1,startIndex:0,transitionEffect:tt.none,transitionEffectSpeed:200,onStepChanging:function(){return!0},onStepChanged:function(){},onCanceled:function(){},onFinishing:function(){return!0},onFinished:function(){},labels:{cancel:"Cancel",current:"current step:",pagination:"Pagination",finish:"Finish",next:"Next",previous:"Previous",loading:"Loading ..."}}}(jQuery),/*! jQuery Validation Plugin - v1.13.0 - 7/1/2014
 * http://jqueryvalidation.org/
 * Copyright (c) 2014 JÃ¶rn Zaefferer; Licensed MIT */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return void(e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var i=t.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(e.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(e.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(e){function l(){var l;return i.settings.submitHandler?(i.submitButton&&(l=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&l.remove(),!1):!0}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,l()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):l():(i.focusInvalid(),!1)})),i)},valid:function(){var e,i;return t(this[0]).is("form")?e=this.validate().form():(e=!0,i=t(this[0].form).validate(),this.each(function(){e=i.element(this)&&e})),e},removeAttrs:function(e){var i={},l=this;return t.each(e.split(/\s/),function(t,e){i[e]=l.attr(e),l.removeAttr(e)}),i},rules:function(e,i){var l,n,s,a,o,r,h=this[0];if(e)switch(l=t.data(h.form,"validator").settings,n=l.rules,s=t.validator.staticRules(h),e){case"add":t.extend(s,t.validator.normalizeRule(i)),delete s.messages,n[h.name]=s,i.messages&&(l.messages[h.name]=t.extend(l.messages[h.name],i.messages));break;case"remove":return i?(r={},t.each(i.split(/\s/),function(e,i){r[i]=s[i],delete s[i],"required"===i&&t(h).removeAttr("aria-required")}),r):(delete n[h.name],s)}return a=t.validator.normalizeRules(t.extend({},t.validator.classRules(h),t.validator.attributeRules(h),t.validator.dataRules(h),t.validator.staticRules(h)),h),a.required&&(o=a.required,delete a.required,a=t.extend({required:o},a),t(h).attr("aria-required","true")),a.remote&&(o=a.remote,delete a.remote,a=t.extend(a,{remote:o})),a}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){(9!==e.which||""!==this.elementValue(t))&&(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,l){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(l):t(e).addClass(i).removeClass(l)},unhighlight:function(e,i,l){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(l):t(e).removeClass(i).addClass(l)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this[0].form,"validator"),l="on"+e.type.replace(/^validate/,""),n=i.settings;n[l]&&!this.is(n.ignore)&&n[l].call(i,this[0],e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,l=this.groups={};t.each(this.settings.groups,function(e,i){"string"==typeof i&&(i=i.split(/\s/)),t.each(i,function(t,i){l[i]=e})}),i=this.settings.rules,t.each(i,function(e,l){i[e]=t.validator.normalizeRule(l)}),t(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",e).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var i=this.clean(e),l=this.validationTargetFor(i),n=!0;return this.lastElement=l,void 0===l?delete this.invalid[i.name]:(this.prepareElement(l),this.currentElements=t(l),n=this.check(l)!==!1,n?delete this.invalid[l.name]:this.invalid[l.name]=!0),t(e).attr("aria-invalid",!n),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var i in e)this.errorList.push({message:e[i],element:this.findByName(i)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!e.objectLength(t(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i,l=t(e),n=e.type;return"radio"===n||"checkbox"===n?t("input[name='"+e.name+"']:checked").val():"number"===n&&"undefined"!=typeof e.validity?e.validity.badInput?!1:l.val():(i=l.val(),"string"==typeof i?i.replace(/\r/g,""):i)},check:function(e){e=this.validationTargetFor(this.clean(e));var i,l,n,s=t(e).rules(),a=t.map(s,function(t,e){return e}).length,o=!1,r=this.elementValue(e);for(l in s){n={method:l,parameters:s[l]};try{if(i=t.validator.methods[l].call(this,r,e,n.parameters),"dependency-mismatch"===i&&1===a){o=!0;continue}if(o=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,n),!1}catch(h){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+n.method+"' method.",h),h}}return o?void 0:(this.objectLength(s)&&this.successList.push(e),!0)},customDataMessage:function(e,i){return t(e).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,i){return this.findDefined(this.customMessage(e.name,i),this.customDataMessage(e,i),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,i){var l=this.defaultMessage(e,i.method),n=/\$?\{(\d+)\}/g;"function"==typeof l?l=l.call(this,i.parameters,e):n.test(l)&&(l=t.validator.format(l.replace(n,"{$1}"),i.parameters)),this.errorList.push({message:l,element:e,method:i.method}),this.errorMap[e.name]=l,this.submitted[e.name]=l},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var l,n,s,a=this.errorsFor(e),o=this.idOrName(e),r=t(e).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(i)):(a=t("<"+this.settings.errorElement+">").attr("id",o+"-error").addClass(this.settings.errorClass).html(i||""),l=a,this.settings.wrapper&&(l=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(l):this.settings.errorPlacement?this.settings.errorPlacement(l,t(e)):l.insertAfter(e),a.is("label")?a.attr("for",o):0===a.parents("label[for='"+o+"']").length&&(s=a.attr("id"),r?r.match(new RegExp("\b"+s+"\b"))||(r+=" "+s):r=s,t(e).attr("aria-describedby",r),n=this.groups[e.name],n&&t.each(this.groups,function(e,i){i===n&&t("[name='"+e+"']",this.currentForm).attr("aria-describedby",a.attr("id"))}))),!i&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,e)),this.toShow=this.toShow.add(a)},errorsFor:function(e){var i=this.idOrName(e),l=t(e).attr("aria-describedby"),n="label[for='"+i+"'], label[for='"+i+"'] *";return l&&(n=n+", #"+l.replace(/\s+/g,", #")),this.errors().filter(n)},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),t},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,e):!0},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},l=t(e).attr("class");return l&&t.each(l.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},attributeRules:function(e){var i,l,n={},s=t(e),a=e.getAttribute("type");for(i in t.validator.methods)"required"===i?(l=e.getAttribute(i),""===l&&(l=!0),l=!!l):l=s.attr(i),/min|max/.test(i)&&(null===a||/number|range|text/.test(a))&&(l=Number(l)),l||0===l?n[i]=l:a===i&&"range"!==a&&(n[i]=!0);return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(e){var i,l,n={},s=t(e);for(i in t.validator.methods)l=s.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),void 0!==l&&(n[i]=l);return n},staticRules:function(e){var i={},l=t.data(e.form,"validator");return l.settings.rules&&(i=t.validator.normalizeRule(l.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(l,n){if(n===!1)return void delete e[l];if(n.param||n.depends){var s=!0;switch(typeof n.depends){case"string":s=!!t(n.depends,i.form).length;break;case"function":s=n.depends.call(i,i)}s?e[l]=void 0!==n.param?n.param:!0:delete e[l]}}),t.each(e,function(l,n){e[l]=t.isFunction(n)?n(i):n}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,l){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==l?l:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,l){if(!this.depend(l,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var n=t(i).val();return n&&n.length>0}return this.checkable(i)?this.getLength(e,i)>0:t.trim(e).length>0},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i,l,n=0,s=0,a=!1;if(t=t.replace(/\D/g,""),t.length<13||t.length>19)return!1;for(i=t.length-1;i>=0;i--)l=t.charAt(i),s=parseInt(l,10),a&&(s*=2)>9&&(s-=9),n+=s,a=!a;return n%10===0},minlength:function(e,i,l){var n=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||n>=l},maxlength:function(e,i,l){var n=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||l>=n},rangelength:function(e,i,l){var n=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||n>=l[0]&&n<=l[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||i>=t},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},equalTo:function(e,i,l){var n=t(l);return this.settings.onfocusout&&n.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(i).valid()}),e===n.val()},remote:function(e,i,l){if(this.optional(i))return"dependency-mismatch";var n,s,a=this.previousValue(i);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),a.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=a.message,l="string"==typeof l&&{url:l}||l,a.old===e?a.valid:(a.old=e,n=this,this.startRequest(i),s={},s[i.name]=e,t.ajax(t.extend(!0,{url:l,mode:"abort",port:"validate"+i.name,dataType:"json",data:s,context:n.currentForm,success:function(l){var s,o,r,h=l===!0||"true"===l;n.settings.messages[i.name].remote=a.originalMessage,h?(r=n.formSubmitted,n.prepareElement(i),n.formSubmitted=r,n.successList.push(i),delete n.invalid[i.name],n.showErrors()):(s={},o=l||n.defaultMessage(i,"remote"),s[i.name]=a.message=t.isFunction(o)?o(e):o,n.invalid[i.name]=!0,n.showErrors(s)),a.valid=h,n.stopRequest(i,h)}},l)),"pending")}}}),t.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var e,i={};t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,l){var n=t.port;"abort"===t.mode&&(i[n]&&i[n].abort(),i[n]=l)}):(e=t.ajax,t.ajax=function(l){var n=("mode"in l?l:t.ajaxSettings).mode,s=("port"in l?l:t.ajaxSettings).port;return"abort"===n?(i[s]&&i[s].abort(),i[s]=e.apply(this,arguments),i[s]):e.apply(this,arguments)}),t.extend(t.fn,{validateDelegate:function(e,i,l){return this.bind(i,function(i){var n=t(i.target);return n.is(e)?l.apply(n,arguments):void 0})}})}),function(){function t(e){var i=t.modules[e];if(!i)throw new Error('failed to require "'+e+'"');return"exports"in i||"function"!=typeof i.definition||(i.client=i.component=!0,i.definition.call(this,i.exports={},i),delete i.definition),i.exports}t.modules={},t.register=function(e,i){t.modules[e]={definition:i}},t.define=function(e,i){t.modules[e]={exports:i}},t.register("component~emitter@1.1.2",function(t,e){function i(t){return t?l(t):void 0}function l(t){for(var e in i.prototype)t[e]=i.prototype[e];return t}e.exports=i,i.prototype.on=i.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},i.prototype.once=function(t,e){function i(){l.off(t,i),e.apply(this,arguments)}var l=this;return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var l,n=0;n<i.length;n++)if(l=i[n],l===e||l.fn===e){i.splice(n,1);break}return this},i.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i){i=i.slice(0);for(var l=0,n=i.length;n>l;++l)i[l].apply(this,e)}return this},i.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},i.prototype.hasListeners=function(t){return!!this.listeners(t).length}}),t.register("dropzone",function(e,i){i.exports=t("dropzone/lib/dropzone.js")}),t.register("dropzone/lib/dropzone.js",function(e,i){/*
         *
         * More info at [www.dropzonejs.com](http://www.dropzonejs.com)
         *
         * Copyright (c) 2012, Matias Meno
         *
         * Permission is hereby granted, free of charge, to any person obtaining a copy
         * of this software and associated documentation files (the "Software"), to deal
         * in the Software without restriction, including without limitation the rights
         * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
         * copies of the Software, and to permit persons to whom the Software is
         * furnished to do so, subject to the following conditions:
         *
         * The above copyright notice and this permission notice shall be included in
         * all copies or substantial portions of the Software.
         *
         * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
         * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
         * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
         * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
         * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
         * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
         * THE SOFTWARE.
         *
         */
(function(){var e,l,n,s,a,o,r,h,c={}.hasOwnProperty,u=function(t,e){function i(){this.constructor=t}for(var l in e)c.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},d=[].slice;l="undefined"!=typeof Emitter&&null!==Emitter?Emitter:t("component~emitter@1.1.2"),r=function(){},e=function(t){function e(t,l){var n,s,a;if(this.element=t,this.version=e.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(e.instances.push(this),this.element.dropzone=this,n=null!=(a=e.optionsForElement(this.element))?a:{},this.options=i({},this.defaultOptions,n,null!=l?l:{}),this.options.forceFallback||!e.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(s=this.getExistingFallback())&&s.parentNode&&s.parentNode.removeChild(s),this.options.previewsContainer?this.previewsContainer=e.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element,this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=e.getElements(this.options.clickable,"clickable")),this.init()}var i;return u(e,t),e.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached"],e.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:100,thumbnailHeight:100,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(t,e){return e()},init:function(){return r},forceFallback:!1,fallback:function(){var t,i,l,n,s,a;for(this.element.className=""+this.element.className+" dz-browser-not-supported",a=this.element.getElementsByTagName("div"),n=0,s=a.length;s>n;n++)t=a[n],/(^| )dz-message($| )/.test(t.className)&&(i=t,t.className="dz-message");return i||(i=e.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(i)),l=i.getElementsByTagName("span")[0],l&&(l.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(t){var e,i,l;return e={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},i=t.width/t.height,l=this.options.thumbnailWidth/this.options.thumbnailHeight,t.height<this.options.thumbnailHeight||t.width<this.options.thumbnailWidth?(e.trgHeight=e.srcHeight,e.trgWidth=e.srcWidth):i>l?(e.srcHeight=t.height,e.srcWidth=e.srcHeight*l):(e.srcWidth=t.width,e.srcHeight=e.srcWidth/l),e.srcX=(t.width-e.srcWidth)/2,e.srcY=(t.height-e.srcHeight)/2,e},drop:function(){return this.element.classList.remove("dz-drag-hover")},dragstart:r,dragend:function(){return this.element.classList.remove("dz-drag-hover")},dragenter:function(){return this.element.classList.add("dz-drag-hover")},dragover:function(){return this.element.classList.add("dz-drag-hover")},dragleave:function(){return this.element.classList.remove("dz-drag-hover")},paste:r,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var i,l,n,s,a,o,r,h,c,u,d,p,f;for(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),t.previewElement=e.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),u=t.previewElement.querySelectorAll("[data-dz-name]"),s=0,r=u.length;r>s;s++)i=u[s],i.textContent=t.name;for(d=t.previewElement.querySelectorAll("[data-dz-size]"),a=0,h=d.length;h>a;a++)i=d[a],i.innerHTML=this.filesize(t.size);for(this.options.addRemoveLinks&&(t._removeLink=e.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink)),l=function(i){return function(l){return l.preventDefault(),l.stopPropagation(),t.status===e.UPLOADING?e.confirm(i.options.dictCancelUploadConfirmation,function(){return i.removeFile(t)}):i.options.dictRemoveFileConfirmation?e.confirm(i.options.dictRemoveFileConfirmation,function(){return i.removeFile(t)}):i.removeFile(t)}}(this),p=t.previewElement.querySelectorAll("[data-dz-remove]"),f=[],o=0,c=p.length;c>o;o++)n=p[o],f.push(n.addEventListener("click",l));return f},removedfile:function(t){var e;return null!=(e=t.previewElement)&&e.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(t,e){var i,l,n,s,a;for(t.previewElement.classList.remove("dz-file-preview"),t.previewElement.classList.add("dz-image-preview"),s=t.previewElement.querySelectorAll("[data-dz-thumbnail]"),a=[],l=0,n=s.length;n>l;l++)i=s[l],i.alt=t.name,a.push(i.src=e);return a},error:function(t,e){var i,l,n,s,a;for(t.previewElement.classList.add("dz-error"),"String"!=typeof e&&e.error&&(e=e.error),s=t.previewElement.querySelectorAll("[data-dz-errormessage]"),a=[],l=0,n=s.length;n>l;l++)i=s[l],a.push(i.textContent=e);return a},errormultiple:r,processing:function(t){return t.previewElement.classList.add("dz-processing"),t._removeLink?t._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:r,uploadprogress:function(t,e){var i,l,n,s,a;for(s=t.previewElement.querySelectorAll("[data-dz-uploadprogress]"),a=[],l=0,n=s.length;n>l;l++)i=s[l],a.push(i.style.width=""+e+"%");return a},totaluploadprogress:r,sending:r,sendingmultiple:r,success:function(t){return t.previewElement.classList.add("dz-success")},successmultiple:r,canceled:function(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:r,complete:function(t){return t._removeLink?t._removeLink.textContent=this.options.dictRemoveFile:void 0},completemultiple:r,maxfilesexceeded:r,maxfilesreached:r,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-details">\n    <div class="dz-filename"><span data-dz-name></span></div>\n    <div class="dz-size" data-dz-size></div>\n    <img data-dz-thumbnail />\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-success-mark"><span>\u2714</span></div>\n  <div class="dz-error-mark"><span>\u2718</span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n</div>'},i=function(){var t,e,i,l,n,s,a;for(l=arguments[0],i=2<=arguments.length?d.call(arguments,1):[],s=0,a=i.length;a>s;s++){e=i[s];for(t in e)n=e[t],l[t]=n}return l},e.prototype.getAcceptedFiles=function(){var t,e,i,l,n;for(l=this.files,n=[],e=0,i=l.length;i>e;e++)t=l[e],t.accepted&&n.push(t);return n},e.prototype.getRejectedFiles=function(){var t,e,i,l,n;for(l=this.files,n=[],e=0,i=l.length;i>e;e++)t=l[e],t.accepted||n.push(t);return n},e.prototype.getFilesWithStatus=function(t){var e,i,l,n,s;for(n=this.files,s=[],i=0,l=n.length;l>i;i++)e=n[i],e.status===t&&s.push(e);return s},e.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(e.QUEUED)},e.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(e.UPLOADING)},e.prototype.getActiveFiles=function(){var t,i,l,n,s;for(n=this.files,s=[],i=0,l=n.length;l>i;i++)t=n[i],t.status!==e.UPLOADING&&t.status!==e.QUEUED||s.push(t);return s},e.prototype.init=function(){var t,i,l,n,s,a,o;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(e.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(l=function(t){return function(){return t.hiddenFileInput&&document.body.removeChild(t.hiddenFileInput),t.hiddenFileInput=document.createElement("input"),t.hiddenFileInput.setAttribute("type","file"),(null==t.options.maxFiles||t.options.maxFiles>1)&&t.hiddenFileInput.setAttribute("multiple","multiple"),t.hiddenFileInput.className="dz-hidden-input",null!=t.options.acceptedFiles&&t.hiddenFileInput.setAttribute("accept",t.options.acceptedFiles),t.hiddenFileInput.style.visibility="hidden",t.hiddenFileInput.style.position="absolute",t.hiddenFileInput.style.top="0",t.hiddenFileInput.style.left="0",t.hiddenFileInput.style.height="0",t.hiddenFileInput.style.width="0",document.body.appendChild(t.hiddenFileInput),t.hiddenFileInput.addEventListener("change",function(){var e,i,n,s;if(i=t.hiddenFileInput.files,i.length)for(n=0,s=i.length;s>n;n++)e=i[n],t.addFile(e);return l()})}}(this))(),this.URL=null!=(a=window.URL)?a:window.webkitURL,o=this.events,n=0,s=o.length;s>n;n++)t=o[n],this.on(t,this.options[t]);return this.on("uploadprogress",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(t){return function(){return t.updateTotalUploadProgress()}}(this)),this.on("canceled",function(t){return function(e){return t.emit("complete",e)}}(this)),this.on("complete",function(t){return function(){return 0===t.getUploadingFiles().length&&0===t.getQueuedFiles().length?setTimeout(function(){return t.emit("queuecomplete")},0):void 0}}(this)),i=function(t){return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(t){return function(e){return t.emit("dragstart",e)}}(this),dragenter:function(t){return function(e){return i(e),t.emit("dragenter",e)}}(this),dragover:function(t){return function(e){var l;try{l=e.dataTransfer.effectAllowed}catch(n){}return e.dataTransfer.dropEffect="move"===l||"linkMove"===l?"move":"copy",i(e),t.emit("dragover",e)}}(this),dragleave:function(t){return function(e){return t.emit("dragleave",e)}}(this),drop:function(t){return function(e){return i(e),t.drop(e)}}(this),dragend:function(t){return function(e){return t.emit("dragend",e)}}(this)}}],this.clickableElements.forEach(function(t){return function(i){return t.listeners.push({element:i,events:{click:function(l){return i!==t.element||l.target===t.element||e.elementInside(l.target,t.element.querySelector(".dz-message"))?t.hiddenFileInput.click():void 0}}})}}(this)),this.enable(),this.options.init.call(this)},e.prototype.destroy=function(){var t;return this.disable(),this.removeAllFiles(!0),(null!=(t=this.hiddenFileInput)?t.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,e.instances.splice(e.instances.indexOf(this),1)},e.prototype.updateTotalUploadProgress=function(){var t,e,i,l,n,s,a,o;if(l=0,i=0,t=this.getActiveFiles(),t.length){for(o=this.getActiveFiles(),s=0,a=o.length;a>s;s++)e=o[s],l+=e.upload.bytesSent,i+=e.upload.total;n=100*l/i}else n=100;return this.emit("totaluploadprogress",n,i,l)},e.prototype.getFallbackForm=function(){var t,i,l,n;return(t=this.getExistingFallback())?t:(l='<div class="dz-fallback">',this.options.dictFallbackText&&(l+="<p>"+this.options.dictFallbackText+"</p>"),l+='<input type="file" name="'+this.options.paramName+(this.options.uploadMultiple?"[]":"")+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',i=e.createElement(l),"FORM"!==this.element.tagName?(n=e.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),n.appendChild(i)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=n?n:i)},e.prototype.getExistingFallback=function(){var t,e,i,l,n,s;for(e=function(t){var e,i,l;for(i=0,l=t.length;l>i;i++)if(e=t[i],/(^| )fallback($| )/.test(e.className))return e},s=["div","form"],l=0,n=s.length;n>l;l++)if(i=s[l],t=e(this.element.getElementsByTagName(i)))return t},e.prototype.setupEventListeners=function(){var t,e,i,l,n,s,a;for(s=this.listeners,a=[],l=0,n=s.length;n>l;l++)t=s[l],a.push(function(){var l,n;l=t.events,n=[];for(e in l)i=l[e],n.push(t.element.addEventListener(e,i,!1));return n}());return a},e.prototype.removeEventListeners=function(){var t,e,i,l,n,s,a;for(s=this.listeners,a=[],l=0,n=s.length;n>l;l++)t=s[l],a.push(function(){var l,n;l=t.events,n=[];for(e in l)i=l[e],n.push(t.element.removeEventListener(e,i,!1));return n}());return a},e.prototype.disable=function(){var t,e,i,l,n;for(this.clickableElements.forEach(function(t){return t.classList.remove("dz-clickable")}),this.removeEventListeners(),l=this.files,n=[],e=0,i=l.length;i>e;e++)t=l[e],n.push(this.cancelUpload(t));return n},e.prototype.enable=function(){return this.clickableElements.forEach(function(t){return t.classList.add("dz-clickable")}),this.setupEventListeners()},e.prototype.filesize=function(t){var e;return t>=109951162777.6?(t/=109951162777.6,e="TiB"):t>=107374182.4?(t/=107374182.4,e="GiB"):t>=104857.6?(t/=104857.6,e="MiB"):t>=102.4?(t/=102.4,e="KiB"):(t=10*t,e="b"),"<strong>"+Math.round(t)/10+"</strong> "+e},e.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},e.prototype.drop=function(t){var e,i;t.dataTransfer&&(this.emit("drop",t),e=t.dataTransfer.files,e.length&&(i=t.dataTransfer.items,i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(e)))},e.prototype.paste=function(t){var e,i;if(null!=(null!=t&&null!=(i=t.clipboardData)?i.items:void 0))return this.emit("paste",t),e=t.clipboardData.items,e.length?this._addFilesFromItems(e):void 0},e.prototype.handleFiles=function(t){var e,i,l,n;for(n=[],i=0,l=t.length;l>i;i++)e=t[i],n.push(this.addFile(e));return n},e.prototype._addFilesFromItems=function(t){var e,i,l,n,s;for(s=[],l=0,n=t.length;n>l;l++)i=t[l],null!=i.webkitGetAsEntry&&(e=i.webkitGetAsEntry())?e.isFile?s.push(this.addFile(i.getAsFile())):e.isDirectory?s.push(this._addFilesFromDirectory(e,e.name)):s.push(void 0):null!=i.getAsFile&&(null==i.kind||"file"===i.kind)?s.push(this.addFile(i.getAsFile())):s.push(void 0);return s},e.prototype._addFilesFromDirectory=function(t,e){var i,l;return i=t.createReader(),l=function(t){return function(i){var l,n,s;for(n=0,s=i.length;s>n;n++)l=i[n],l.isFile?l.file(function(i){return t.options.ignoreHiddenFiles&&"."===i.name.substring(0,1)?void 0:(i.fullPath=""+e+"/"+i.name,t.addFile(i))}):l.isDirectory&&t._addFilesFromDirectory(l,""+e+"/"+l.name)}}(this),i.readEntries(l,function(t){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(t):void 0})},e.prototype.accept=function(t,i){return t.size>1024*this.options.maxFilesize*1024?i(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):e.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(i(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,i):i(this.options.dictInvalidFileType)},e.prototype.addFile=function(t){return t.upload={progress:0,total:t.size,bytesSent:0},this.files.push(t),t.status=e.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,function(e){return function(i){return i?(t.accepted=!1,e._errorProcessing([t],i)):(t.accepted=!0,e.options.autoQueue&&e.enqueueFile(t)),e._updateMaxFilesReachedClass()}}(this))},e.prototype.enqueueFiles=function(t){var e,i,l;for(i=0,l=t.length;l>i;i++)e=t[i],this.enqueueFile(e);return null},e.prototype.enqueueFile=function(t){if(t.status!==e.ADDED||t.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");return t.status=e.QUEUED,this.options.autoProcessQueue?setTimeout(function(t){return function(){return t.processQueue()}}(this),0):void 0},e.prototype._thumbnailQueue=[],e.prototype._processingThumbnail=!1,e.prototype._enqueueThumbnail=function(t){return this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(t),setTimeout(function(t){return function(){return t._processThumbnailQueue()}}(this),0)):void 0},e.prototype._processThumbnailQueue=function(){return this._processingThumbnail||0===this._thumbnailQueue.length?void 0:(this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(t){return function(){return t._processingThumbnail=!1,t._processThumbnailQueue()}}(this)))},e.prototype.removeFile=function(t){return t.status===e.UPLOADING&&this.cancelUpload(t),this.files=h(this.files,t),this.emit("removedfile",t),0===this.files.length?this.emit("reset"):void 0},e.prototype.removeAllFiles=function(t){var i,l,n,s;for(null==t&&(t=!1),s=this.files.slice(),l=0,n=s.length;n>l;l++)i=s[l],(i.status!==e.UPLOADING||t)&&this.removeFile(i);return null},e.prototype.createThumbnail=function(t,e){var i;return i=new FileReader,i.onload=function(l){return function(){var n;return n=document.createElement("img"),n.onload=function(){var i,s,a,r,h,c,u,d;return t.width=n.width,t.height=n.height,a=l.options.resize.call(l,t),null==a.trgWidth&&(a.trgWidth=l.options.thumbnailWidth),null==a.trgHeight&&(a.trgHeight=l.options.thumbnailHeight),i=document.createElement("canvas"),s=i.getContext("2d"),i.width=a.trgWidth,i.height=a.trgHeight,o(s,n,null!=(h=a.srcX)?h:0,null!=(c=a.srcY)?c:0,a.srcWidth,a.srcHeight,null!=(u=a.trgX)?u:0,null!=(d=a.trgY)?d:0,a.trgWidth,a.trgHeight),r=i.toDataURL("image/png"),l.emit("thumbnail",t,r),null!=e?e():void 0},n.src=i.result}}(this),i.readAsDataURL(t)},e.prototype.processQueue=function(){var t,e,i,l;if(e=this.options.parallelUploads,i=this.getUploadingFiles().length,t=i,!(i>=e)&&(l=this.getQueuedFiles(),l.length>0)){if(this.options.uploadMultiple)return this.processFiles(l.slice(0,e-i));for(;e>t;){if(!l.length)return;this.processFile(l.shift()),t++}}},e.prototype.processFile=function(t){return this.processFiles([t])},e.prototype.processFiles=function(t){var i,l,n;for(l=0,n=t.length;n>l;l++)i=t[l],i.processing=!0,i.status=e.UPLOADING,this.emit("processing",i);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)},e.prototype._getFilesWithXhr=function(t){var e,i;return i=function(){var i,l,n,s;for(n=this.files,s=[],i=0,l=n.length;l>i;i++)e=n[i],e.xhr===t&&s.push(e);return s}.call(this)},e.prototype.cancelUpload=function(t){var i,l,n,s,a,o,r;if(t.status===e.UPLOADING){for(l=this._getFilesWithXhr(t.xhr),n=0,a=l.length;a>n;n++)i=l[n],i.status=e.CANCELED;for(t.xhr.abort(),s=0,o=l.length;o>s;s++)i=l[s],this.emit("canceled",i);this.options.uploadMultiple&&this.emit("canceledmultiple",l)}else(r=t.status)!==e.ADDED&&r!==e.QUEUED||(t.status=e.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));return this.options.autoProcessQueue?this.processQueue():void 0},e.prototype.uploadFile=function(t){return this.uploadFiles([t])},e.prototype.uploadFiles=function(t){var l,n,s,a,o,r,h,c,u,d,p,f,m,g,v,b,y,_,w,x,k,C,M,D,S,T,E,A,I,P,F;for(b=new XMLHttpRequest,y=0,k=t.length;k>y;y++)l=t[y],l.xhr=b;b.open(this.options.method,this.options.url,!0),b.withCredentials=!!this.options.withCredentials,m=null,s=function(e){return function(){var i,n,s;for(s=[],i=0,n=t.length;n>i;i++)l=t[i],s.push(e._errorProcessing(t,m||e.options.dictResponseError.replace("{{statusCode}}",b.status),b));return s}}(this),g=function(e){return function(i){var n,s,a,o,r,h,c,u,d;if(null!=i)for(s=100*i.loaded/i.total,a=0,h=t.length;h>a;a++)l=t[a],l.upload={progress:s,total:i.total,bytesSent:i.loaded};else{for(n=!0,s=100,o=0,c=t.length;c>o;o++)l=t[o],100===l.upload.progress&&l.upload.bytesSent===l.upload.total||(n=!1),l.upload.progress=s,l.upload.bytesSent=l.upload.total;if(n)return}for(d=[],r=0,u=t.length;u>r;r++)l=t[r],d.push(e.emit("uploadprogress",l,s,l.upload.bytesSent));return d}}(this),b.onload=function(i){return function(l){var n;if(t[0].status!==e.CANCELED&&4===b.readyState){if(m=b.responseText,b.getResponseHeader("content-type")&&~b.getResponseHeader("content-type").indexOf("application/json"))try{m=JSON.parse(m)}catch(a){l=a,m="Invalid JSON response from server."}return g(),200<=(n=b.status)&&300>n?i._finished(t,m,l):s()}}}(this),b.onerror=function(){return function(){return t[0].status!==e.CANCELED?s():void 0}}(this),f=null!=(E=b.upload)?E:b,f.onprogress=g,r={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&i(r,this.options.headers);for(a in r)o=r[a],b.setRequestHeader(a,o);if(n=new FormData,this.options.params){A=this.options.params;for(d in A)v=A[d],n.append(d,v)}for(_=0,C=t.length;C>_;_++)l=t[_],this.emit("sending",l,b,n);if(this.options.uploadMultiple&&this.emit("sendingmultiple",t,b,n),"FORM"===this.element.tagName)for(I=this.element.querySelectorAll("input, textarea, select, button"),w=0,M=I.length;M>w;w++)if(h=I[w],c=h.getAttribute("name"),u=h.getAttribute("type"),"SELECT"===h.tagName&&h.hasAttribute("multiple"))for(P=h.options,x=0,D=P.length;D>x;x++)p=P[x],p.selected&&n.append(c,p.value);else(!u||"checkbox"!==(F=u.toLowerCase())&&"radio"!==F||h.checked)&&n.append(c,h.value);for(T=0,S=t.length;S>T;T++)l=t[T],n.append(""+this.options.paramName+(this.options.uploadMultiple?"[]":""),l,l.name);return b.send(n)},e.prototype._finished=function(t,i,l){var n,s,a;for(s=0,a=t.length;a>s;s++)n=t[s],n.status=e.SUCCESS,this.emit("success",n,i,l),this.emit("complete",n);return this.options.uploadMultiple&&(this.emit("successmultiple",t,i,l),this.emit("completemultiple",t)),this.options.autoProcessQueue?this.processQueue():void 0},e.prototype._errorProcessing=function(t,i,l){var n,s,a;for(s=0,a=t.length;a>s;s++)n=t[s],n.status=e.ERROR,this.emit("error",n,i,l),this.emit("complete",n);return this.options.uploadMultiple&&(this.emit("errormultiple",t,i,l),this.emit("completemultiple",t)),this.options.autoProcessQueue?this.processQueue():void 0},e}(l),e.version="3.8.7",e.options={},e.optionsForElement=function(t){return t.getAttribute("id")?e.options[n(t.getAttribute("id"))]:void 0},e.instances=[],e.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},e.autoDiscover=!0,e.discover=function(){var t,i,l,n,s,a;for(document.querySelectorAll?l=document.querySelectorAll(".dropzone"):(l=[],t=function(t){var e,i,n,s;for(s=[],i=0,n=t.length;n>i;i++)e=t[i],/(^| )dropzone($| )/.test(e.className)?s.push(l.push(e)):s.push(void 0);return s},t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),a=[],n=0,s=l.length;s>n;n++)i=l[n],e.optionsForElement(i)!==!1?a.push(new e(i)):a.push(void 0);return a},e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],e.isBrowserSupported=function(){var t,i,l,n,s;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(s=e.blacklistedBrowsers,l=0,n=s.length;n>l;l++)i=s[l],i.test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},h=function(t,e){var i,l,n,s;for(s=[],l=0,n=t.length;n>l;l++)i=t[l],i!==e&&s.push(i);return s},n=function(t){return t.replace(/[\-_](\w)/g,function(t){return t.charAt(1).toUpperCase()})},e.createElement=function(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.childNodes[0]},e.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},e.getElement=function(t,e){var i;if("string"==typeof t?i=document.querySelector(t):null!=t.nodeType&&(i=t),null==i)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},e.getElements=function(t,e){var i,l,n,s,a,o,r,h;if(t instanceof Array){n=[];try{for(s=0,o=t.length;o>s;s++)l=t[s],n.push(this.getElement(l,e))}catch(c){i=c,n=null}}else if("string"==typeof t)for(n=[],h=document.querySelectorAll(t),a=0,r=h.length;r>a;a++)l=h[a],n.push(l);else null!=t.nodeType&&(n=[t]);if(null==n||!n.length)throw new Error("Invalid `"+e+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return n},e.confirm=function(t,e,i){return window.confirm(t)?e():null!=i?i():void 0},e.isValidFile=function(t,e){var i,l,n,s,a;if(!e)return!0;for(e=e.split(","),l=t.type,i=l.replace(/\/.*$/,""),s=0,a=e.length;a>s;s++)if(n=e[s],n=n.trim(),"."===n.charAt(0)){if(-1!==t.name.toLowerCase().indexOf(n.toLowerCase(),t.name.length-n.length))return!0}else if(/\/\*$/.test(n)){if(i===n.replace(/\/.*$/,""))return!0}else if(l===n)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new e(this,t)})}),"undefined"!=typeof i&&null!==i?i.exports=e:window.Dropzone=e,e.ADDED="added",e.QUEUED="queued",e.ACCEPTED=e.QUEUED,e.UPLOADING="uploading",e.PROCESSING=e.UPLOADING,e.CANCELED="canceled",e.ERROR="error",e.SUCCESS="success",a=function(t){var e,i,l,n,s,a,o,r,h,c;for(o=t.naturalWidth,a=t.naturalHeight,i=document.createElement("canvas"),i.width=1,i.height=a,l=i.getContext("2d"),l.drawImage(t,0,0),n=l.getImageData(0,0,1,a).data,c=0,s=a,r=a;r>c;)e=n[4*(r-1)+3],0===e?s=r:c=r,r=s+c>>1;return h=r/a,0===h?1:h},o=function(t,e,i,l,n,s,o,r,h,c){var u;return u=a(e),t.drawImage(e,i,l,n,s,o,r,h,c/u)},s=function(t,e){var i,l,n,s,a,o,r,h,c;if(n=!1,c=!0,l=t.document,h=l.documentElement,i=l.addEventListener?"addEventListener":"attachEvent",r=l.addEventListener?"removeEventListener":"detachEvent",o=l.addEventListener?"":"on",s=function(i){return"readystatechange"!==i.type||"complete"===l.readyState?(("load"===i.type?t:l)[r](o+i.type,s,!1),!n&&(n=!0)?e.call(t,i.type||i):void 0):void 0},a=function(){var t;try{h.doScroll("left")}catch(e){return t=e,void setTimeout(a,50)}return s("poll")},"complete"!==l.readyState){if(l.createEventObject&&h.doScroll){try{c=!t.frameElement}catch(u){}c&&a()}return l[i](o+"DOMContentLoaded",s,!1),l[i](o+"readystatechange",s,!1),t[i](o+"load",s,!1)}},e._autoDiscoverFunction=function(){return e.autoDiscover?e.discover():void 0},s(window,e._autoDiscoverFunction)}).call(this)}),"object"==typeof exports?module.exports=t("dropzone"):"function"==typeof define&&define.amd?define([],function(){return t("dropzone")}):this.Dropzone=t("dropzone")}(),!function(t){"function"==typeof define&&define.amd?define(["jquery","codemirror"],t):t(window.jQuery,window.CodeMirror)}(function(t,e){"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){var i,l,n=this.length>>>0,s=!1;for(1<arguments.length&&(l=e,s=!0),i=0;n>i;++i)this.hasOwnProperty(i)&&(s?l=t(l,this[i],i,this):(l=this[i],s=!0));if(!s)throw new TypeError("Reduce of empty array with no initial value");return l});var i={bMac:navigator.appVersion.indexOf("Mac")>-1,bMSIE:navigator.userAgent.indexOf("MSIE")>-1||navigator.userAgent.indexOf("Trident")>-1,bFF:navigator.userAgent.indexOf("Firefox")>-1,jqueryVersion:parseFloat(t.fn.jquery),bCodeMirror:!!e},l=function(){var t=function(t){return function(e){return t===e}},e=function(t,e){return t===e},i=function(){return!0},l=function(){return!1},n=function(t){return function(){return!t.apply(t,arguments)}},s=function(t){return t};return{eq:t,eq2:e,ok:i,fail:l,not:n,self:s}}(),n=function(){var t=function(t){return t[0]},e=function(t){return t[t.length-1]},i=function(t){return t.slice(0,t.length-1)},n=function(t){return t.slice(1)},s=function(t,e){var i=t.indexOf(e);return-1===i?null:t[i+1]},a=function(t,e){var i=t.indexOf(e);return-1===i?null:t[i-1]},o=function(t,e){return e=e||l.self,t.reduce(function(t,i){return t+e(i)},0)},r=function(t){for(var e=[],i=-1,l=t.length;++i<l;)e[i]=t[i];return e},h=function(i,l){if(0===i.length)return[];var s=n(i);return s.reduce(function(t,i){var n=e(t);return l(e(n),i)?n[n.length]=i:t[t.length]=[i],t},[[t(i)]])},c=function(t){for(var e=[],i=0,l=t.length;l>i;i++)t[i]&&e.push(t[i]);return e};return{head:t,last:e,initial:i,tail:n,prev:a,next:s,sum:o,from:r,compact:c,clusterBy:h}}(),s=function(){var e=function(e){return e&&t(e).hasClass("note-editable")},a=function(e){return e&&t(e).hasClass("note-control-sizing")},o=function(t){var e=function(e){return function(){return t.find(e)}};return{editor:function(){return t},dropzone:e(".note-dropzone"),toolbar:e(".note-toolbar"),editable:e(".note-editable"),codable:e(".note-codable"),statusbar:e(".note-statusbar"),popover:e(".note-popover"),handle:e(".note-handle"),dialog:e(".note-dialog")}},r=function(t){return function(e){return e&&e.nodeName===t}},h=function(t){return t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName)},c=function(t){return t&&/^UL|^OL/.test(t.nodeName)},u=function(t){return t&&/^TD|^TH/.test(t.nodeName)},d=function(t,i){for(;t;){if(i(t))return t;if(e(t))break;t=t.parentNode}return null},p=function(t,e){e=e||l.fail;var i=[];return d(t,function(t){return i.push(t),e(t)}),i},f=function(e,i){for(var l=p(e),n=i;n;n=n.parentNode)if(t.inArray(n,l)>-1)return n;return null},m=function(t,e){var i=[],l=!1,n=!1;return function s(a){if(a){if(a===t&&(l=!0),l&&!n&&i.push(a),a===e)return void(n=!0);for(var o=0,r=a.childNodes.length;r>o;o++)s(a.childNodes[o])}}(f(t,e)),i},g=function(t,e){e=e||l.fail;for(var i=[];t&&(i.push(t),!e(t));)t=t.previousSibling;return i},v=function(t,e){e=e||l.fail;for(var i=[];t&&(i.push(t),!e(t));)t=t.nextSibling;return i},b=function(t,e){var i=[];return e=e||l.ok,function n(l){t!==l&&e(l)&&i.push(l);for(var s=0,a=l.childNodes.length;a>s;s++)n(l.childNodes[s])}(t),i},y=function(t,e){var i=e.nextSibling,l=e.parentNode;return i?l.insertBefore(t,i):l.appendChild(t),t},_=function(e,i){return t.each(i,function(t,i){e.appendChild(i)}),e},w=r("#text"),x=function(t){return w(t)?t.nodeValue.length:t.childNodes.length},k=function(t){for(var e=0;t=t.previousSibling;)e+=1;return e},C=function(e,i){var s=n.initial(p(i,l.eq(e)));return t.map(s,k).reverse()},M=function(t,e){for(var i=t,l=0,n=e.length;n>l;l++)i=i.childNodes[e[l]];return i},D=function(t,e){if(0===e)return t;if(e>=x(t))return t.nextSibling;if(w(t))return t.splitText(e);var i=t.childNodes[e];return t=y(t.cloneNode(!1),t),_(t,v(i))},S=function(t,e,i){var n=p(e,l.eq(t));return 1===n.length?D(e,i):n.reduce(function(t,l){var n=l.cloneNode(!1);return y(n,l),t===e&&(t=D(t,i)),_(n,v(t)),n})},T=function(t,e){if(t&&t.parentNode){if(t.removeNode)return t.removeNode(e);var i=t.parentNode;if(!e){var l,n,s=[];for(l=0,n=t.childNodes.length;n>l;l++)s.push(t.childNodes[l]);for(l=0,n=s.length;n>l;l++)i.insertBefore(s[l],t)}i.removeChild(t)}},E=function(t){return s.isTextarea(t[0])?t.val():t.html()};return{blank:i.bMSIE?"&nbsp;":"<br/>",emptyPara:"<p><br/></p>",
isEditable:e,isControlSizing:a,buildLayoutInfo:o,isText:w,isPara:h,isList:c,isTable:r("TABLE"),isCell:u,isAnchor:r("A"),isDiv:r("DIV"),isLi:r("LI"),isSpan:r("SPAN"),isB:r("B"),isU:r("U"),isS:r("S"),isI:r("I"),isImg:r("IMG"),isTextarea:r("TEXTAREA"),ancestor:d,listAncestor:p,listNext:v,listPrev:g,listDescendant:b,commonAncestor:f,listBetween:m,insertAfter:y,position:k,makeOffsetPath:C,fromOffsetPath:M,split:S,remove:T,html:E}}(),a={version:"0.5.2",options:{width:null,height:null,focus:!1,tabsize:4,styleWithSpan:!0,disableLinkTarget:!1,disableDragAndDrop:!1,codemirror:null,lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview"]],["help",["help"]]],oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onToolbarClick:null,keyMap:{pc:{"CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule"},mac:{"CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule"}}},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",strike:"Strike",clear:"Remove Font Style",height:"Line Height",name:"Font Family",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",dragImageHere:"Drag an image here",selectFromFiles:"Select from files",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, or DailyMotion)"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"BackColor",foreground:"FontColor",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style"},history:{undo:"Undo",redo:"Redo"}}}},o=function(){var e=function(e){return t.Deferred(function(i){t.extend(new FileReader,{onload:function(t){var e=t.target.result;i.resolve(e)},onerror:function(){i.reject(this)}}).readAsDataURL(e)}).promise()},i=function(e){return t.Deferred(function(i){t("<img>").one("load",function(){i.resolve(t(this))}).one("error abort",function(){i.reject(t(this))}).css({display:"none"}).appendTo(document.body).attr("src",e)}).promise()};return{readFileAsDataURL:e,createImage:i}}(),r={isEdit:function(t){return-1!==[8,9,13,32].indexOf(t)},nameFromCode:{8:"BACKSPACE",9:"TAB",13:"ENTER",32:"SPACE",48:"NUM0",49:"NUM1",50:"NUM2",51:"NUM3",52:"NUM4",53:"NUM5",54:"NUM6",55:"NUM7",56:"NUM8",66:"B",69:"E",73:"I",74:"J",75:"K",76:"L",82:"R",83:"S",85:"U",89:"Y",90:"Z",191:"SLASH",219:"LEFTBRACKET",220:"BACKSLASH",221:"RIGHTBRACKET"}},h=function(){var e=function(e,l){if(i.jqueryVersion<1.9){var n={};return t.each(l,function(t,i){n[i]=e.css(i)}),n}return e.css.call(e,l)};this.stylePara=function(e,i){t.each(e.nodes(s.isPara),function(e,l){t(l).css(i)})},this.current=function(i,l){var n=t(s.isText(i.sc)?i.sc.parentNode:i.sc),a=["font-family","font-size","text-align","list-style-type","line-height"],o=e(n,a)||{};if(o["font-size"]=parseInt(o["font-size"],10),o["font-bold"]=document.queryCommandState("bold")?"bold":"normal",o["font-italic"]=document.queryCommandState("italic")?"italic":"normal",o["font-underline"]=document.queryCommandState("underline")?"underline":"normal",o["font-strikethrough"]=document.queryCommandState("strikeThrough")?"strikethrough":"normal",i.isOnList()){var r=["circle","disc","disc-leading-zero","square"],h=t.inArray(o["list-style-type"],r)>-1;o["list-style"]=h?"unordered":"ordered"}else o["list-style"]="none";var c=s.ancestor(i.sc,s.isPara);if(c&&c.style["line-height"])o["line-height"]=c.style.lineHeight;else{var u=parseInt(o["line-height"],10)/parseInt(o["font-size"],10);o["line-height"]=u.toFixed(1)}return o.image=s.isImg(l)&&l,o.anchor=i.isOnAnchor()&&s.ancestor(i.sc,s.isAnchor),o.aAncestor=s.listAncestor(i.sc,s.isEditable),o}},c=function(){var e=!!document.createRange,i=function(t,e){var i,l,a=t.parentElement(),o=document.body.createTextRange(),r=n.from(a.childNodes);for(i=0;i<r.length;i++)if(!s.isText(r[i])){if(o.moveToElementText(r[i]),o.compareEndPoints("StartToStart",t)>=0)break;l=r[i]}if(0!==i&&s.isText(r[i-1])){var h=document.body.createTextRange(),c=null;h.moveToElementText(l||a),h.collapse(!l),c=l?l.nextSibling:a.firstChild;var u=t.duplicate();u.setEndPoint("StartToStart",h);for(var d=u.text.replace(/[\r\n]/g,"").length;d>c.nodeValue.length&&c.nextSibling;)d-=c.nodeValue.length,c=c.nextSibling;c.nodeValue,e&&c.nextSibling&&s.isText(c.nextSibling)&&d===c.nodeValue.length&&(d-=c.nodeValue.length,c=c.nextSibling),a=c,i=d}return{cont:a,offset:i}},a=function(t){var e=function(t,i){var a,o;if(s.isText(t)){var r=s.listPrev(t,l.not(s.isText)),h=n.last(r).previousSibling;a=h||t.parentNode,i+=n.sum(n.tail(r),s.length),o=!h}else{if(a=t.childNodes[i]||t,s.isText(a))return e(a,i);i=0,o=!1}return{cont:a,collapseToStart:o,offset:i}},i=document.body.createTextRange(),a=e(t.cont,t.offset);return i.moveToElementText(a.cont),i.collapse(a.collapseToStart),i.moveStart("character",a.offset),i},o=function(i,o,r,h){this.sc=i,this.so=o,this.ec=r,this.eo=h;var c=function(){if(e){var t=document.createRange();return t.setStart(i,o),t.setEnd(r,h),t}var l=a({cont:i,offset:o});return l.setEndPoint("EndToEnd",a({cont:r,offset:h})),l};this.select=function(){var t=c();if(e){var i=document.getSelection();i.rangeCount>0&&i.removeAllRanges(),i.addRange(t)}else t.select()},this.nodes=function(e){var a=s.listBetween(i,r),o=n.compact(t.map(a,function(t){return s.ancestor(t,e)}));return t.map(n.clusterBy(o,l.eq2),n.head)},this.commonAncestor=function(){return s.commonAncestor(i,r)};var u=function(t){return function(){var e=s.ancestor(i,t);return!!e&&e===s.ancestor(r,t)}};this.isOnEditable=u(s.isEditable),this.isOnList=u(s.isList),this.isOnAnchor=u(s.isAnchor),this.isOnCell=u(s.isCell),this.isCollapsed=function(){return i===r&&o===h},this.insertNode=function(t){var i=c();e?i.insertNode(t):i.pasteHTML(t.outerHTML)},this.toString=function(){var t=c();return e?t.toString():t.text},this.bookmark=function(t){return{s:{path:s.makeOffsetPath(t,i),offset:o},e:{path:s.makeOffsetPath(t,r),offset:h}}}};return{create:function(t,l,n,s){if(0===arguments.length)if(e){var a=document.getSelection();if(0===a.rangeCount)return null;var r=a.getRangeAt(0);t=r.startContainer,l=r.startOffset,n=r.endContainer,s=r.endOffset}else{var h=document.selection.createRange(),c=h.duplicate();c.collapse(!1);var u=h;u.collapse(!0);var d=i(u,!0),p=i(c,!1);t=d.cont,l=d.offset,n=p.cont,s=p.offset}else 2===arguments.length&&(n=t,s=l);return new o(t,l,n,s)},createFromNode:function(t){return this.create(t,0,t,1)},createFromBookmark:function(t,e){var i=s.fromOffsetPath(t,e.s.path),l=e.s.offset,n=s.fromOffsetPath(t,e.e.path),a=e.e.offset;return new o(i,l,n,a)}}}(),u=function(){this.tab=function(t,e){var i=s.ancestor(t.commonAncestor(),s.isCell),l=s.ancestor(i,s.isTable),a=s.listDescendant(l,s.isCell),o=n[e?"prev":"next"](a,i);o&&c.create(o,0).select()},this.createTable=function(e,i){for(var l,n=[],a=0;e>a;a++)n.push("<td>"+s.blank+"</td>");l=n.join("");for(var o,r=[],h=0;i>h;h++)r.push("<tr>"+l+"</tr>");o=r.join("");var c='<table class="table table-bordered">'+o+"</table>";return t(c)[0]}},d=function(){var e=new h,l=new u;this.saveRange=function(t){t.data("range",c.create())},this.restoreRange=function(t){var e=t.data("range");e&&e.select()},this.currentStyle=function(t){var i=c.create();return i.isOnEditable()&&e.current(i,t)},this.undo=function(t){t.data("NoteHistory").undo(t)},this.redo=function(t){t.data("NoteHistory").redo(t)};for(var n=this.recordUndo=function(t){t.data("NoteHistory").recordUndo(t)},a=["bold","italic","underline","strikethrough","justifyLeft","justifyCenter","justifyRight","justifyFull","insertOrderedList","insertUnorderedList","indent","outdent","formatBlock","removeFormat","backColor","foreColor","insertHorizontalRule","fontName"],r=0,d=a.length;d>r;r++)this[a[r]]=function(t){return function(e,i){n(e),document.execCommand(t,!1,i)}}(a[r]);var p=function(e,i,l){n(e);var a=new Array(l+1).join("&nbsp;");i.insertNode(t('<span id="noteTab">'+a+"</span>")[0]);var o=t("#noteTab").removeAttr("id");i=c.create(o[0],1),i.select(),s.remove(o[0])};this.tab=function(t,e){var i=c.create();i.isCollapsed()&&i.isOnCell()?l.tab(i):p(t,i,e.tabsize)},this.untab=function(){var t=c.create();t.isCollapsed()&&t.isOnCell()&&l.tab(t,!0)},this.insertImage=function(t,e){o.createImage(e).then(function(e){n(t),e.css({display:"",width:Math.min(t.width(),e.width())}),c.create().insertNode(e[0])}).fail(function(){var e=t.data("callbacks");e.onImageUploadError&&e.onImageUploadError()})},this.insertVideo=function(e,i){n(e);var l,s=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,a=i.match(s),o=/\/\/instagram.com\/p\/(.[a-zA-Z0-9]*)/,r=i.match(o),h=/\/\/vine.co\/v\/(.[a-zA-Z0-9]*)/,u=i.match(h),d=/\/\/(player.)?vimeo.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/,p=i.match(d),f=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,m=i.match(f);if(a&&11===a[2].length){var g=a[2];l=t("<iframe>").attr("src","//www.youtube.com/embed/"+g).attr("width","640").attr("height","360")}else r&&r[0].length>0?l=t("<iframe>").attr("src",r[0]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true"):u&&u[0].length>0?l=t("<iframe>").attr("src",u[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed"):p&&p[3].length>0?l=t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("src","//player.vimeo.com/video/"+p[3]).attr("width","640").attr("height","360"):m&&m[2].length>0&&(l=t("<iframe>").attr("src","//www.dailymotion.com/embed/video/"+m[2]).attr("width","640").attr("height","360"));l&&(l.attr("frameborder",0),c.create().insertNode(l[0]))},this.formatBlock=function(t,e){n(t),e=i.bMSIE?"<"+e+">":e,document.execCommand("FormatBlock",!1,e)},this.formatPara=function(t){this.formatBlock(t,"P")};for(var r=1;6>=r;r++)this["formatH"+r]=function(t){return function(e){this.formatBlock(e,"H"+t)}}(r);this.fontSize=function(t,e){n(t),document.execCommand("fontSize",!1,3),i.bFF?t.find("font[size=3]").removeAttr("size").css("font-size",e+"px"):t.find("span").filter(function(){return"medium"===this.style.fontSize}).css("font-size",e+"px")},this.lineHeight=function(t,i){n(t),e.stylePara(c.create(),{lineHeight:i})},this.unlink=function(t){var e=c.create();if(e.isOnAnchor()){n(t);var i=s.ancestor(e.sc,s.isAnchor);e=c.createFromNode(i),e.select(),document.execCommand("unlink")}},this.createLink=function(e,l,a){var o=c.create();n(e);var r=l;if(-1!==l.indexOf("@")&&-1===l.indexOf(":")?r="mailto:"+l:-1===l.indexOf("://")&&(r="http://"+l),(i.bMSIE||i.bFF)&&o.isCollapsed()){o.insertNode(t('<A id="linkAnchor">'+l+"</A>")[0]);var h=t("#linkAnchor").attr("href",r).removeAttr("id");o=c.createFromNode(h[0]),o.select()}else document.execCommand("createlink",!1,r),o=c.create();t.each(o.nodes(s.isAnchor),function(e,i){a?t(i).attr("target","_blank"):t(i).removeAttr("target")})},this.getLinkInfo=function(){var e=c.create(),i=!0,l="";if(e.isOnAnchor()){var n=s.ancestor(e.sc,s.isAnchor);e=c.createFromNode(n),i="_blank"===t(n).attr("target"),l=n.href}return{text:e.toString(),url:l,newWindow:i}},this.getVideoInfo=function(){var t=c.create();if(t.isOnAnchor()){var e=s.ancestor(t.sc,s.isAnchor);t=c.createFromNode(e)}return{text:t.toString()}},this.color=function(t,e){var i=JSON.parse(e),l=i.foreColor,s=i.backColor;n(t),l&&document.execCommand("foreColor",!1,l),s&&document.execCommand("backColor",!1,s)},this.insertTable=function(t,e){n(t);var i=e.split("x");c.create().insertNode(l.createTable(i[0],i[1]))},this.floatMe=function(t,e,i){n(t),i.css("float",e)},this.resize=function(t,e,i){n(t),i.css({width:t.width()*e+"px",height:""})},this.resizeTo=function(t,e,i){var l;if(i){var n=t.y/t.x,s=e.data("ratio");l={width:s>n?t.x:t.y/s,height:s>n?t.x*s:t.y}}else l={width:t.x,height:t.y};e.css(l)},this.removeMedia=function(t,e,i){n(t),i.detach()}},p=function(){var t=[],e=[],i=function(t){var e=t[0],i=c.create();return{contents:t.html(),bookmark:i.bookmark(e),scrollTop:t.scrollTop()}},l=function(t,e){t.html(e.contents).scrollTop(e.scrollTop),c.createFromBookmark(t[0],e.bookmark).select()};this.undo=function(n){var s=i(n);0!==t.length&&(l(n,t.pop()),e.push(s))},this.redo=function(n){var s=i(n);0!==e.length&&(l(n,e.pop()),t.push(s))},this.recordUndo=function(l){e=[],t.push(i(l))}},f=function(){this.update=function(e,i){var l=function(e,i){e.find(".dropdown-menu li a").each(function(){var e=t(this).data("value")+""==i+"";this.className=e?"checked":""})},s=function(t,i){var l=e.find(t);l.toggleClass("active",i())},a=e.find(".note-fontname");if(a.length>0){var o=i["font-family"];o&&(o=n.head(o.split(",")),o=o.replace(/\'/g,""),a.find(".note-current-fontname").text(o),l(a,o))}var r=e.find(".note-fontsize");r.find(".note-current-fontsize").text(i["font-size"]),l(r,parseFloat(i["font-size"]));var h=e.find(".note-height");l(h,parseFloat(i["line-height"])),s('button[data-event="bold"]',function(){return"bold"===i["font-bold"]}),s('button[data-event="italic"]',function(){return"italic"===i["font-italic"]}),s('button[data-event="underline"]',function(){return"underline"===i["font-underline"]}),s('button[data-event="strikethrough"]',function(){return"strikethrough"===i["font-strikethrough"]}),s('button[data-event="justifyLeft"]',function(){return"left"===i["text-align"]||"start"===i["text-align"]}),s('button[data-event="justifyCenter"]',function(){return"center"===i["text-align"]}),s('button[data-event="justifyRight"]',function(){return"right"===i["text-align"]}),s('button[data-event="justifyFull"]',function(){return"justify"===i["text-align"]}),s('button[data-event="insertUnorderedList"]',function(){return"unordered"===i["list-style"]}),s('button[data-event="insertOrderedList"]',function(){return"ordered"===i["list-style"]})},this.updateRecentColor=function(e,i,l){var n=t(e).closest(".note-color"),s=n.find(".note-recent-color"),a=JSON.parse(s.attr("data-value"));a[i]=l,s.attr("data-value",JSON.stringify(a));var o="backColor"===i?"background-color":"color";s.find("i").css(o,l)},this.updateFullscreen=function(t,e){var i=t.find('button[data-event="fullscreen"]');i.toggleClass("active",e)},this.updateCodeview=function(t,e){var i=t.find('button[data-event="codeview"]');i.toggleClass("active",e)},this.activate=function(t){t.find("button").not('button[data-event="codeview"]').removeClass("disabled")},this.deactivate=function(t){t.find("button").not('button[data-event="codeview"]').addClass("disabled")}},m=function(){var e=function(e,i){var l=t(i),n=l.position(),s=l.height();e.css({display:"block",left:n.left,top:n.top+s})};this.update=function(t,i){var l=t.find(".note-link-popover");if(i.anchor){var n=l.find("a");n.attr("href",i.anchor.href).html(i.anchor.href),e(l,i.anchor)}else l.hide();var s=t.find(".note-image-popover");i.image?e(s,i.image):s.hide()},this.hide=function(t){t.children().hide()}},g=function(){this.update=function(e,i){var l=e.find(".note-control-selection");if(i.image){var n=t(i.image),s=n.position(),a={w:n.width(),h:n.height()};l.css({display:"block",left:s.left,top:s.top,width:a.w,height:a.h}).data("target",i.image);var o=a.w+"x"+a.h;l.find(".note-control-selection-info").text(o)}else l.hide()},this.hide=function(t){t.children().hide()}},v=function(){var e=function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)};this.showImageDialog=function(i,l){return t.Deferred(function(t){var n=l.find(".note-image-dialog"),s=l.find(".note-image-input"),a=l.find(".note-image-url"),o=l.find(".note-image-btn");n.one("shown.bs.modal",function(){s.replaceWith(s.clone().on("change",function(){n.modal("hide"),t.resolve(this.files)})),o.click(function(e){e.preventDefault(),n.modal("hide"),t.resolve(a.val())}),a.keyup(function(){e(o,a.val())}).val("").focus()}).one("hidden.bs.modal",function(){i.focus(),s.off("change"),a.off("keyup"),o.off("click")}).modal("show")})},this.showVideoDialog=function(i,l,n){return t.Deferred(function(t){var s=l.find(".note-video-dialog"),a=s.find(".note-video-url"),o=s.find(".note-video-btn");s.one("shown.bs.modal",function(){a.val(n.text).keyup(function(){e(o,a.val())}).trigger("keyup").trigger("focus"),o.click(function(e){e.preventDefault(),s.modal("hide"),t.resolve(a.val())})}).one("hidden.bs.modal",function(){i.focus(),a.off("keyup"),o.off("click")}).modal("show")})},this.showLinkDialog=function(i,l,n){return t.Deferred(function(t){var s=l.find(".note-link-dialog"),a=s.find(".note-link-text"),o=s.find(".note-link-url"),r=s.find(".note-link-btn"),h=s.find("input[type=checkbox]");s.one("shown.bs.modal",function(){a.val(n.text),o.keyup(function(){e(r,o.val()),n.text||a.val(o.val())}).val(n.url).trigger("focus"),h.prop("checked",n.newWindow),r.one("click",function(e){e.preventDefault(),s.modal("hide"),t.resolve(o.val(),h.is(":checked"))})}).one("hidden.bs.modal",function(){i.focus(),o.off("keyup")}).modal("show")}).promise()},this.showHelpDialog=function(t,e){var i=e.find(".note-help-dialog");i.one("hidden.bs.modal",function(){t.focus()}).modal("show")}},b=function(){var l=new d,a=new f,h=new m,c=new g,u=new v,b=function(e){var i=t(e).closest(".note-editor");return i.length>0&&s.buildLayoutInfo(i)},y=function(e,i){l.restoreRange(e);var n=e.data("callbacks");n.onImageUpload?n.onImageUpload(i,l,e):t.each(i,function(t,i){o.readFileAsDataURL(i).then(function(t){l.insertImage(e,t)}).fail(function(){n.onImageUploadError&&n.onImageUploadError()})})},_=function(t){s.isImg(t.target)&&t.preventDefault()},w=function(t){var e=b(t.currentTarget||t.target),i=l.currentStyle(t.target);i&&(a.update(e.toolbar(),i),h.update(e.popover(),i),c.update(e.handle(),i))},x=function(t){var e=b(t.currentTarget||t.target);h.hide(e.popover()),c.hide(e.handle())},k=function(t){var e=t.originalEvent;if(e.clipboardData&&e.clipboardData.items&&e.clipboardData.items.length){var i=b(t.currentTarget||t.target),l=n.head(e.clipboardData.items),s="file"===l.kind&&-1!==l.type.indexOf("image/");s&&y(i.editable(),[l.getAsFile()])}},C=function(e){if(s.isControlSizing(e.target)){var i=b(e.target),n=i.handle(),a=i.popover(),o=i.editable(),r=i.editor(),u=n.find(".note-control-selection").data("target"),d=t(u),p=d.offset(),f=t(document).scrollTop();r.on("mousemove",function(t){l.resizeTo({x:t.clientX-p.left,y:t.clientY-(p.top-f)},d,!t.shiftKey),c.update(n,{image:u}),h.update(a,{image:u})}).one("mouseup",function(){r.off("mousemove")}),d.data("ratio")||d.data("ratio",d.height()/d.width()),l.recordUndo(o),e.stopPropagation(),e.preventDefault()}},M=function(e){var i=t(e.target).closest("[data-event]");i.length>0&&e.preventDefault()},D=function(n){var o=t(n.target).closest("[data-event]");if(o.length>0){var r,h,c,d=o.attr("data-event"),p=o.attr("data-value"),f=b(n.target),m=f.editor(),g=f.toolbar(),v=f.dialog(),_=f.editable(),x=f.codable(),k=m.data("options");if(-1!==t.inArray(d,["resize","floatMe","removeMedia"])){var C=f.handle(),M=C.find(".note-control-selection");c=t(M.data("target"))}if(l[d]&&(_.trigger("focus"),l[d](_,p,c)),-1!==t.inArray(d,["backColor","foreColor"]))a.updateRecentColor(o[0],d,p);else if("showLinkDialog"===d){_.focus();var D=l.getLinkInfo();l.saveRange(_),u.showLinkDialog(_,v,D).then(function(t,e){l.restoreRange(_),l.createLink(_,t,e)})}else if("showImageDialog"===d)_.focus(),u.showImageDialog(_,v).then(function(t){"string"==typeof t?(l.restoreRange(_),l.insertImage(_,t)):y(_,t)});else if("showVideoDialog"===d){_.focus();var S=l.getVideoInfo();l.saveRange(_),u.showVideoDialog(_,v,S).then(function(t){l.restoreRange(_),l.insertVideo(_,t)})}else if("showHelpDialog"===d)u.showHelpDialog(_,v);else if("fullscreen"===d){var T=t("html, body"),E=function(t){m.css("width",t.w),_.css("height",t.h),x.css("height",t.h),x.data("cmEditor")&&x.data("cmEditor").setSize(null,t.h)};m.toggleClass("fullscreen");var A=m.hasClass("fullscreen");A?(_.data("orgHeight",_.css("height")),t(window).on("resize",function(){E({w:t(window).width(),h:t(window).height()-g.outerHeight()})}).trigger("resize"),T.css("overflow","hidden")):(t(window).off("resize"),E({w:k.width||"",h:_.data("orgHeight")}),T.css("overflow","auto")),a.updateFullscreen(g,A)}else if("codeview"===d){m.toggleClass("codeview");var I=m.hasClass("codeview");if(I){if(x.val(_.html()),x.height(_.height()),a.deactivate(g),x.focus(),i.bCodeMirror){h=e.fromTextArea(x[0],t.extend({mode:"text/html",lineNumbers:!0},k.codemirror));var P=m.data("options").codemirror.tern||!1;P&&(r=new e.TernServer(P),h.ternServer=r,h.on("cursorActivity",function(t){r.updateArgHints(t)})),h.setSize(null,_.outerHeight()),h.autoFormatRange&&h.autoFormatRange({line:0,ch:0},{line:h.lineCount(),ch:h.getTextArea().value.length}),x.data("cmEditor",h)}}else i.bCodeMirror&&(h=x.data("cmEditor"),x.val(h.getValue()),h.toTextArea()),_.html(x.val()||s.emptyPara),_.height(k.height?x.height():"auto"),a.activate(g),_.focus();a.updateCodeview(f.toolbar(),I)}w(n)}},S=24,T=function(e){var i=t(document),l=b(e.target).editable(),n=l.offset().top-i.scrollTop();i.on("mousemove",function(t){var e=t.clientY-(n+S);l.height(e)}).one("mouseup",function(){i.off("mousemove")}),e.stopPropagation(),e.preventDefault()},E=18,A=function(e){var i,l=t(e.target.parentNode),n=l.next(),s=l.find(".note-dimension-picker-mousecatcher"),a=l.find(".note-dimension-picker-highlighted"),o=l.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var r=t(e.target).offset();i={x:e.pageX-r.left,y:e.pageY-r.top}}else i={x:e.offsetX,y:e.offsetY};var h={c:Math.ceil(i.x/E)||1,r:Math.ceil(i.y/E)||1};a.css({width:h.c+"em",height:h.r+"em"}),s.attr("data-value",h.c+"x"+h.r),3<h.c&&h.c<10&&o.css({width:h.c+1+"em"}),3<h.r&&h.r<10&&o.css({height:h.r+1+"em"}),n.html(h.c+" x "+h.r)},I=function(e){var i=t(),l=e.dropzone,n=e.dropzone.find(".note-dropzone-message");t(document).on("dragenter",function(t){var s=e.editor.hasClass("codeview");s||0!==i.length||(e.editor.addClass("dragover"),l.width(e.editor.width()),l.height(e.editor.height()),n.text("Drag Image Here")),i=i.add(t.target)}).on("dragleave",function(t){i=i.not(t.target),0===i.length&&e.editor.removeClass("dragover")}).on("drop",function(){i=t(),e.editor.removeClass("dragover")}),l.on("dragenter",function(){l.addClass("hover"),n.text("Drop Image")}).on("dragleave",function(){l.removeClass("hover"),n.text("Drag Image Here")}),l.on("drop",function(t){var e=t.originalEvent.dataTransfer;if(e&&e.files){var i=b(t.currentTarget||t.target);i.editable().focus(),y(i.editable(),e.files)}t.preventDefault()}).on("dragover",!1)};this.bindKeyMap=function(t,e){var i=t.editor,n=t.editable;n.on("keydown",function(t){var s=[];t.metaKey&&s.push("CMD"),t.ctrlKey&&s.push("CTRL"),t.shiftKey&&s.push("SHIFT");var a=r.nameFromCode[t.keyCode];a&&s.push(a);var o=e[s.join("+")];o?(t.preventDefault(),l[o](n,i.data("options"))):r.isEdit(t.keyCode)&&l.recordUndo(n)})},this.attach=function(t,e){this.bindKeyMap(t,e.keyMap[i.bMac?"mac":"pc"]),t.editable.on("mousedown",_),t.editable.on("keyup mouseup",w),t.editable.on("scroll",x),t.editable.on("paste",k),e.disableDragAndDrop||I(t),t.handle.on("mousedown",C),t.toolbar.on("click",D),t.popover.on("click",D),t.toolbar.on("mousedown",M),t.popover.on("mousedown",M),t.statusbar.on("mousedown",T);var n=t.toolbar,s=n.find(".note-dimension-picker-mousecatcher");if(s.on("mousemove",A),t.editable.on("blur",function(){l.saveRange(t.editable)}),t.editor.data("options",e),e.styleWithSpan&&!i.bMSIE&&setTimeout(function(){document.execCommand("styleWithCSS",0,!0)}),t.editable.data("NoteHistory",new p),e.onenter&&t.editable.keypress(function(t){t.keyCode===r.ENTER&&e.onenter(t)}),e.onfocus&&t.editable.focus(e.onfocus),e.onblur&&t.editable.blur(e.onblur),e.onkeyup&&t.editable.keyup(e.onkeyup),e.onkeydown&&t.editable.keydown(e.onkeydown),e.onpaste&&t.editable.on("paste",e.onpaste),e.onToolbarClick&&t.toolbar.click(e.onToolbarClick),e.onChange){var a=function(){e.onChange(t.editable,t.editable.html())};i.bMSIE?t.editable.on("DOMCharacterDataModified, DOMSubtreeModified, DOMNodeInserted",a):t.editable.on("input",a)}t.editable.data("callbacks",{onAutoSave:e.onAutoSave,onImageUpload:e.onImageUpload,onImageUploadError:e.onImageUploadError,onFileUpload:e.onFileUpload,onFileUploadError:e.onFileUpload})},this.dettach=function(t){t.editable.off(),t.toolbar.off(),t.handle.off(),t.popover.off()}},y=function(){var e,l,n,a,o;e={picture:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.image+'" data-event="showImageDialog" tabindex="-1"><i class="fa fa-picture-o icon-picture"></i></button>'},link:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.link.link+'" data-event="showLinkDialog" tabindex="-1"><i class="fa fa-link icon-link"></i></button>'},video:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.video.video+'" data-event="showVideoDialog" tabindex="-1"><i class="fa fa-youtube-play icon-play"></i></button>'},table:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+t.table.table+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-table icon-table"></i> <span class="caret"></span></button><ul class="dropdown-menu"><div class="note-dimension-picker"><div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div><div class="note-dimension-picker-highlighted"></div><div class="note-dimension-picker-unhighlighted"></div></div><div class="note-dimension-display"> 1 x 1 </div></ul>'},style:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+t.style.style+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-magic icon-magic"></i> <span class="caret"></span></button><ul class="dropdown-menu"><li><a data-event="formatBlock" data-value="p">'+t.style.normal+'</a></li><li><a data-event="formatBlock" data-value="blockquote"><blockquote>'+t.style.blockquote+'</blockquote></a></li><li><a data-event="formatBlock" data-value="pre">'+t.style.pre+'</a></li><li><a data-event="formatBlock" data-value="h1"><h1>'+t.style.h1+'</h1></a></li><li><a data-event="formatBlock" data-value="h2"><h2>'+t.style.h2+'</h2></a></li><li><a data-event="formatBlock" data-value="h3"><h3>'+t.style.h3+'</h3></a></li><li><a data-event="formatBlock" data-value="h4"><h4>'+t.style.h4+'</h4></a></li><li><a data-event="formatBlock" data-value="h5"><h5>'+t.style.h5+'</h5></a></li><li><a data-event="formatBlock" data-value="h6"><h6>'+t.style.h6+"</h6></a></li></ul>"},fontname:function(t){var e=["Serif","Sans","Arial","Arial Black","Courier","Courier New","Comic Sans MS","Helvetica","Impact","Lucida Grande","Lucida Sans","Tahoma","Times","Times New Roman","Verdana"],i='<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+t.font.name+'" tabindex="-1"><span class="note-current-fontname">Arial</span> <b class="caret"></b></button>';i+='<ul class="dropdown-menu">';for(var l=0;l<e.length;l++)i+='<li><a data-event="fontName" data-value="'+e[l]+'"><i class="fa fa-check icon-ok"></i> '+e[l]+"</a></li>";return i+="</ul>"},fontsize:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+t.font.size+'" tabindex="-1"><span class="note-current-fontsize">11</span> <b class="caret"></b></button><ul class="dropdown-menu"><li><a data-event="fontSize" data-value="8"><i class="fa fa-check icon-ok"></i> 8</a></li><li><a data-event="fontSize" data-value="9"><i class="fa fa-check icon-ok"></i> 9</a></li><li><a data-event="fontSize" data-value="10"><i class="fa fa-check icon-ok"></i> 10</a></li><li><a data-event="fontSize" data-value="11"><i class="fa fa-check icon-ok"></i> 11</a></li><li><a data-event="fontSize" data-value="12"><i class="fa fa-check icon-ok"></i> 12</a></li><li><a data-event="fontSize" data-value="14"><i class="fa fa-check icon-ok"></i> 14</a></li><li><a data-event="fontSize" data-value="18"><i class="fa fa-check icon-ok"></i> 18</a></li><li><a data-event="fontSize" data-value="24"><i class="fa fa-check icon-ok"></i> 24</a></li><li><a data-event="fontSize" data-value="36"><i class="fa fa-check icon-ok"></i> 36</a></li></ul>'},color:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small note-recent-color" title="'+t.color.recent+'" data-event="color" data-value=\'{"backColor":"yellow"}\' tabindex="-1"><i class="fa fa-font icon-font" style="color:black;background-color:yellow;"></i></button><button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+t.color.more+'" data-toggle="dropdown" tabindex="-1"><span class="caret"></span></button><ul class="dropdown-menu"><li><div class="btn-group"><div class="note-palette-title">'+t.color.background+'</div><div class="note-color-reset" data-event="backColor" data-value="inherit" title="'+t.color.transparent+'">'+t.color.setTransparent+'</div><div class="note-color-palette" data-target-event="backColor"></div></div><div class="btn-group"><div class="note-palette-title">'+t.color.foreground+'</div><div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+t.color.reset+'">'+t.color.resetToDefault+'</div><div class="note-color-palette" data-target-event="foreColor"></div></div></li></ul>'},bold:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.bold+'" data-shortcut="Ctrl+B" data-mac-shortcut="\u2318+B" data-event="bold" tabindex="-1"><i class="fa fa-bold icon-bold"></i></button>'},italic:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.italic+'" data-shortcut="Ctrl+I" data-mac-shortcut="\u2318+I" data-event="italic" tabindex="-1"><i class="fa fa-italic icon-italic"></i></button>'},underline:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.underline+'" data-shortcut="Ctrl+U" data-mac-shortcut="\u2318+U" data-event="underline" tabindex="-1"><i class="fa fa-underline icon-underline"></i></button>'},strike:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.strike+'" data-event="strikethrough" tabindex="-1"><i class="fa fa-strikethrough icon-strikethrough"></i></button>'},clear:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.font.clear+'" data-shortcut="Ctrl+\\" data-mac-shortcut="\u2318+\\" data-event="removeFormat" tabindex="-1"><i class="fa fa-eraser icon-eraser"></i></button>';
},ul:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.lists.unordered+'" data-shortcut="Ctrl+Shift+8" data-mac-shortcut="\u2318+\u21e7+7" data-event="insertUnorderedList" tabindex="-1"><i class="fa fa-list-ul icon-list-ul"></i></button>'},ol:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.lists.ordered+'" data-shortcut="Ctrl+Shift+7" data-mac-shortcut="\u2318+\u21e7+8" data-event="insertOrderedList" tabindex="-1"><i class="fa fa-list-ol icon-list-ol"></i></button>'},paragraph:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" title="'+t.paragraph.paragraph+'" data-toggle="dropdown" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i>  <span class="caret"></span></button><div class="dropdown-menu"><div class="note-align btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.left+'" data-shortcut="Ctrl+Shift+L" data-mac-shortcut="\u2318+\u21e7+L" data-event="justifyLeft" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.center+'" data-shortcut="Ctrl+Shift+E" data-mac-shortcut="\u2318+\u21e7+E" data-event="justifyCenter" tabindex="-1"><i class="fa fa-align-center icon-align-center"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.right+'" data-shortcut="Ctrl+Shift+R" data-mac-shortcut="\u2318+\u21e7+R" data-event="justifyRight" tabindex="-1"><i class="fa fa-align-right icon-align-right"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.justify+'" data-shortcut="Ctrl+Shift+J" data-mac-shortcut="\u2318+\u21e7+J" data-event="justifyFull" tabindex="-1"><i class="fa fa-align-justify icon-align-justify"></i></button></div><div class="note-list btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.outdent+'" data-shortcut="Ctrl+[" data-mac-shortcut="\u2318+[" data-event="outdent" tabindex="-1"><i class="fa fa-outdent icon-indent-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.paragraph.indent+'" data-shortcut="Ctrl+]" data-mac-shortcut="\u2318+]" data-event="indent" tabindex="-1"><i class="fa fa-indent icon-indent-right"></i></button></div></div>'},height:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small dropdown-toggle" data-toggle="dropdown" title="'+t.font.height+'" tabindex="-1"><i class="fa fa-text-height icon-text-height"></i>&nbsp; <b class="caret"></b></button><ul class="dropdown-menu"><li><a data-event="lineHeight" data-value="1.0"><i class="fa fa-check icon-ok"></i> 1.0</a></li><li><a data-event="lineHeight" data-value="1.2"><i class="fa fa-check icon-ok"></i> 1.2</a></li><li><a data-event="lineHeight" data-value="1.4"><i class="fa fa-check icon-ok"></i> 1.4</a></li><li><a data-event="lineHeight" data-value="1.5"><i class="fa fa-check icon-ok"></i> 1.5</a></li><li><a data-event="lineHeight" data-value="1.6"><i class="fa fa-check icon-ok"></i> 1.6</a></li><li><a data-event="lineHeight" data-value="1.8"><i class="fa fa-check icon-ok"></i> 1.8</a></li><li><a data-event="lineHeight" data-value="2.0"><i class="fa fa-check icon-ok"></i> 2.0</a></li><li><a data-event="lineHeight" data-value="3.0"><i class="fa fa-check icon-ok"></i> 3.0</a></li></ul>'},help:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.options.help+'" data-event="showHelpDialog" tabindex="-1"><i class="fa fa-question icon-question"></i></button>'},fullscreen:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.options.fullscreen+'" data-event="fullscreen" tabindex="-1"><i class="fa fa-arrows-alt icon-fullscreen"></i></button>'},codeview:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.options.codeview+'" data-event="codeview" tabindex="-1"><i class="fa fa-code icon-code"></i></button>'},undo:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.history.undo+'" data-event="undo" tabindex="-1"><i class="fa fa-undo icon-undo"></i></button>'},redo:function(t){return'<button type="button" class="btn btn-default btn-sm btn-small" title="'+t.history.redo+'" data-event="redo" tabindex="-1"><i class="fa fa-repeat icon-repeat"></i></button>'}},l=function(t){return'<div class="note-popover"><div class="note-link-popover popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content note-link-content"><a href="http://www.google.com" target="_blank">www.google.com</a>&nbsp;&nbsp;<div class="note-insert btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.link.edit+'" data-event="showLinkDialog" tabindex="-1"><i class="fa fa-edit icon-edit"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.link.unlink+'" data-event="unlink" tabindex="-1"><i class="fa fa-unlink icon-unlink"></i></button></div></div></div><div class="note-image-popover popover bottom in" style="display: none;"><div class="arrow"></div><div class="popover-content note-image-content"><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.resizeFull+'" data-event="resize" data-value="1" tabindex="-1"><span class="note-fontsize-10">100%</span> </button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.resizeHalf+'" data-event="resize" data-value="0.5" tabindex="-1"><span class="note-fontsize-10">50%</span> </button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.resizeQuarter+'" data-event="resize" data-value="0.25" tabindex="-1"><span class="note-fontsize-10">25%</span> </button></div><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.floatLeft+'" data-event="floatMe" data-value="left" tabindex="-1"><i class="fa fa-align-left icon-align-left"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.floatRight+'" data-event="floatMe" data-value="right" tabindex="-1"><i class="fa fa-align-right icon-align-right"></i></button><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.floatNone+'" data-event="floatMe" data-value="none" tabindex="-1"><i class="fa fa-align-justify icon-align-justify"></i></button></div><div class="btn-group"><button type="button" class="btn btn-default btn-sm btn-small" title="'+t.image.remove+'" data-event="removeMedia" data-value="none" tabindex="-1"><i class="fa fa-trash-o icon-trash"></i></button></div></div></div></div>'};var n=function(){return'<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="note-control-sizing note-control-se"></div><div class="note-control-selection-info"></div></div></div>'},r=function(t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.textFormatting+"</th></tr></thead><tbody><tr><td>\u2318 + B</td><td>"+t.font.bold+"</td></tr><tr><td>\u2318 + I</td><td>"+t.font.italic+"</td></tr><tr><td>\u2318 + U</td><td>"+t.font.underline+"</td></tr><tr><td>\u2318 + \u21e7 + S</td><td>"+t.font.strike+"</td></tr><tr><td>\u2318 + \\</td><td>"+t.font.clear+"</td></tr></tr></tbody></table>"},h=function(t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.action+"</th></tr></thead><tbody><tr><td>\u2318 + Z</td><td>"+t.history.undo+"</td></tr><tr><td>\u2318 + \u21e7 + Z</td><td>"+t.history.redo+"</td></tr><tr><td>\u2318 + ]</td><td>"+t.paragraph.indent+"</td></tr><tr><td>\u2318 + [</td><td>"+t.paragraph.outdent+"</td></tr><tr><td>\u2318 + ENTER</td><td>"+t.hr.insert+"</td></tr></tbody></table>"},c=function(t,e){var i='<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.extraKeys+"</th></tr></thead><tbody>";for(var l in e.extraKeys)e.extraKeys.hasOwnProperty(l)&&(i+="<tr><td>"+l+"</td><td>"+e.extraKeys[l]+"</td></tr>");return i+="</tbody></table>"},u=function(t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.paragraphFormatting+"</th></tr></thead><tbody><tr><td>\u2318 + \u21e7 + L</td><td>"+t.paragraph.left+"</td></tr><tr><td>\u2318 + \u21e7 + E</td><td>"+t.paragraph.center+"</td></tr><tr><td>\u2318 + \u21e7 + R</td><td>"+t.paragraph.right+"</td></tr><tr><td>\u2318 + \u21e7 + J</td><td>"+t.paragraph.justify+"</td></tr><tr><td>\u2318 + \u21e7 + NUM7</td><td>"+t.lists.ordered+"</td></tr><tr><td>\u2318 + \u21e7 + NUM8</td><td>"+t.lists.unordered+"</td></tr></tbody></table>"},d=function(t){return'<table class="note-shortcut"><thead><tr><th></th><th>'+t.shortcut.documentStyle+"</th></tr></thead><tbody><tr><td>\u2318 + NUM0</td><td>"+t.style.normal+"</td></tr><tr><td>\u2318 + NUM1</td><td>"+t.style.h1+"</td></tr><tr><td>\u2318 + NUM2</td><td>"+t.style.h2+"</td></tr><tr><td>\u2318 + NUM3</td><td>"+t.style.h3+"</td></tr><tr><td>\u2318 + NUM4</td><td>"+t.style.h4+"</td></tr><tr><td>\u2318 + NUM5</td><td>"+t.style.h5+"</td></tr><tr><td>\u2318 + NUM6</td><td>"+t.style.h6+"</td></tr></tbody></table>"},p=function(t,e){var i='<table class="note-shortcut-layout"><tbody><tr><td>'+h(t,e)+"</td><td>"+r(t,e)+"</td></tr><tr><td>"+d(t,e)+"</td><td>"+u(t,e)+"</td></tr>";return e.extraKeys&&(i+='<tr><td colspan="2">'+c(t,e)+"</td></tr>"),i+="</tbody</table>"},f=function(t){return t.replace(/\u2318/g,"Ctrl").replace(/\u21e7/g,"Shift")};a=function(t,e){var l=function(){return'<div class="note-image-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4>'+t.image.insert+'</h4></div><div class="modal-body"><div class="row-fluid"><h5>'+t.image.selectFromFiles+'</h5><input class="note-image-input" type="file" name="files" accept="image/*" /><h5>'+t.image.url+'</h5><input class="note-image-url form-control span12" type="text" /></div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-image-btn disabled" disabled="disabled">'+t.image.insert+"</button></div></div></div></div>"},n=function(){return'<div class="note-link-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4>'+t.link.insert+'</h4></div><div class="modal-body"><div class="row-fluid"><div class="form-group"><label>'+t.link.textToDisplay+'</label><input class="note-link-text form-control span12" disabled type="text" /></div><div class="form-group"><label>'+t.link.url+'</label><input class="note-link-url form-control span12" type="text" /></div>'+(e.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+t.link.openInNewWindow+"</label></div>")+'</div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-link-btn disabled" disabled="disabled">'+t.link.insert+"</button></div></div></div></div>"},s=function(){return'<div class="note-video-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4>'+t.video.insert+'</h4></div><div class="modal-body"><div class="row-fluid"><div class="form-group"><label>'+t.video.url+'</label>&nbsp;<small class="text-muted">'+t.video.providers+'</small><input class="note-video-url form-control span12" type="text" /></div></div></div><div class="modal-footer"><button href="#" class="btn btn-primary note-video-btn disabled" disabled="disabled">'+t.video.insert+"</button></div></div></div></div>"},a=function(){return'<div class="note-help-dialog modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+t.shortcut.close+'</a><div class="title">'+t.shortcut.shortcuts+"</div>"+(i.bMac?p(t,e):f(p(t,e)))+'<p class="text-center"><a href="//hackerwins.github.io/summernote/" target="_blank">Summernote 0.5.2</a> \xb7 <a href="//github.com/HackerWins/summernote" target="_blank">Project</a> \xb7 <a href="//github.com/HackerWins/summernote/issues" target="_blank">Issues</a></p></div></div></div></div>'};return'<div class="note-dialog">'+l()+n()+s()+a()+"</div>"},o=function(){return'<div class="note-resizebar"><div class="note-icon-bar"></div><div class="note-icon-bar"></div><div class="note-icon-bar"></div></div>'};var m=function(e,l){e.find("button").each(function(e,l){var n=t(l),s=n.attr(i.bMac?"data-mac-shortcut":"data-shortcut");s&&n.attr("title",function(t,e){return e+" ("+s+")"})}).tooltip({container:"body",trigger:"hover",placement:l||"top"}).on("click",function(){t(this).tooltip("hide")})},g=[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],v=function(e){e.find(".note-color-palette").each(function(){for(var e=t(this),i=e.attr("data-target-event"),l=[],n=0,s=g.length;s>n;n++){for(var a=g[n],o=[],r=0,h=a.length;h>r;r++){var c=a[r];o.push(['<button type="button" class="note-color-btn" style="background-color:',c,';" data-event="',i,'" data-value="',c,'" title="',c,'" data-toggle="button" tabindex="-1"></button>'].join(""))}l.push("<div>"+o.join("")+"</div>")}e.html(l.join(""))})};this.createLayout=function(i,r){var h=i.next();if(!h||!h.hasClass("note-editor")){var c=t('<div class="note-editor"></div>');r.width&&c.width(r.width),r.height>0&&t('<div class="note-statusbar">'+o()+"</div>").prependTo(c);var u=!i.is(":disabled"),d=t('<div class="note-editable" contentEditable="'+u+'"></div>').prependTo(c);r.height&&d.height(r.height),r.direction&&d.attr("dir",r.direction),d.html(s.html(i)||s.emptyPara),t('<textarea class="note-codable"></textarea>').prependTo(c);for(var p=t.summernote.lang[r.lang],f="",g=0,b=r.toolbar.length;b>g;g++){var y=r.toolbar[g];f+='<div class="note-'+y[0]+' btn-group">';for(var _=0,w=y[1].length;w>_;_++)f+=e[y[1][_]](p);f+="</div>"}f='<div class="note-toolbar btn-toolbar">'+f+"</div>";var x=t(f).prependTo(c);v(x),m(x,"bottom");var k=t(l(p)).prependTo(c);m(k),t(n()).prependTo(c);var C=t(a(p,r)).prependTo(c);C.find("button.close, a.modal-close").click(function(){t(this).closest(".modal").modal("hide")}),t('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(c),c.insertAfter(i),i.hide()}},this.layoutInfoFromHolder=function(t){var e=t.next();if(e.hasClass("note-editor")){var i=s.buildLayoutInfo(e);for(var l in i)i.hasOwnProperty(l)&&(i[l]=i[l].call());return i}},this.removeLayout=function(t){var e=this.layoutInfoFromHolder(t);e&&(t.html(e.editable.html()),e.editor.remove(),t.show())}};t.summernote=t.summernote||{},t.extend(t.summernote,a);var _=new y,w=new b;t.fn.extend({summernote:function(e){if(e=t.extend({},t.summernote.options,e),this.each(function(i,l){var n=t(l);_.createLayout(n,e);var a=_.layoutInfoFromHolder(n);w.attach(a,e),s.isTextarea(n[0])&&n.closest("form").submit(function(){n.html(n.code())})}),this.first()&&e.focus){var i=_.layoutInfoFromHolder(this.first());i.editable.focus()}return this.length>0&&e.oninit&&e.oninit(),this},code:function(e){if(void 0===e){var l=this.first();if(0===l.length)return;var n=_.layoutInfoFromHolder(l);if(n&&n.editable){var s=n.editor.hasClass("codeview");return s&&i.bCodeMirror&&n.codable.data("cmEditor").save(),s?n.codable.val():n.editable.html()}return l.html()}return this.each(function(i,l){var n=_.layoutInfoFromHolder(t(l));n&&n.editable&&n.editable.html(e)}),this},destroy:function(){return this.each(function(e,i){var l=t(i),n=_.layoutInfoFromHolder(l);n&&n.editable&&(w.dettach(n),_.removeLayout(l))}),this}})}),!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):window.jQuery&&!window.jQuery.fn.colorpicker&&t(window.jQuery)}(function(t){"use strict";var e=function(t){this.value={h:0,s:0,b:0,a:1},this.origFormat=null,t&&(void 0!==t.toLowerCase?(t+="","#"===t.charAt(0)||3!==t.length&&6!==t.length||(t="#"+t),this.setColor(t)):void 0!==t.h&&(this.value=t))};e.prototype={constructor:e,colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},_sanitizeNumber:function(t){return"number"==typeof t?t:isNaN(t)||null===t||""===t||void 0===t?1:void 0!==t.toLowerCase?parseFloat(t):1},setColor:function(t){t=t.toLowerCase(),this.value=this.stringToHSB(t)||{h:0,s:0,b:0,a:1}},stringToHSB:function(e){e=e.toLowerCase();var i=this,l=!1;return t.each(this.stringParsers,function(t,n){var s=n.re.exec(e),a=s&&n.parse.apply(i,[s]),o=n.format||"rgba";return a?(l=o.match(/hsla?/)?i.RGBtoHSB.apply(i,i.HSLtoRGB.apply(i,a)):i.RGBtoHSB.apply(i,a),i.origFormat=o,!1):!0}),l},setHue:function(t){this.value.h=1-t},setSaturation:function(t){this.value.s=t},setBrightness:function(t){this.value.b=1-t},setAlpha:function(t){this.value.a=parseInt(100*(1-t),10)/100},toRGB:function(t,e,i,l){t||(t=this.value.h,e=this.value.s,i=this.value.b),t*=360;var n,s,a,o,r;return t=t%360/60,r=i*e,o=r*(1-Math.abs(t%2-1)),n=s=a=i-r,t=~~t,n+=[r,o,0,0,o,r][t],s+=[o,r,r,o,0,0][t],a+=[0,0,o,r,r,o][t],{r:Math.round(255*n),g:Math.round(255*s),b:Math.round(255*a),a:l||this.value.a}},toHex:function(t,e,i,l){var n=this.toRGB(t,e,i,l);return"#"+(1<<24|parseInt(n.r)<<16|parseInt(n.g)<<8|parseInt(n.b)).toString(16).substr(1)},toHSL:function(t,e,i,l){t=t||this.value.h,e=e||this.value.s,i=i||this.value.b,l=l||this.value.a;var n=t,s=(2-e)*i,a=e*i;return a/=s>0&&1>=s?s:2-s,s/=2,a>1&&(a=1),{h:isNaN(n)?0:n,s:isNaN(a)?0:a,l:isNaN(s)?0:s,a:isNaN(l)?0:l}},toAlias:function(t,e,i,l){var n=this.toHex(t,e,i,l);for(var s in this.colors)if(this.colors[s]==n)return s;return!1},RGBtoHSB:function(t,e,i,l){t/=255,e/=255,i/=255;var n,s,a,o;return a=Math.max(t,e,i),o=a-Math.min(t,e,i),n=0===o?null:a===t?(e-i)/o:a===e?(i-t)/o+2:(t-e)/o+4,n=(n+360)%6*60/360,s=0===o?0:o/a,{h:this._sanitizeNumber(n),s:s,b:a,a:this._sanitizeNumber(l)}},HueToRGB:function(t,e,i){return 0>i?i+=1:i>1&&(i-=1),1>6*i?t+(e-t)*i*6:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t},HSLtoRGB:function(t,e,i,l){0>e&&(e=0);var n;n=.5>=i?i*(1+e):i+e-i*e;var s=2*i-n,a=t+1/3,o=t,r=t-1/3,h=Math.round(255*this.HueToRGB(s,n,a)),c=Math.round(255*this.HueToRGB(s,n,o)),u=Math.round(255*this.HueToRGB(s,n,r));return[h,c,u,this._sanitizeNumber(l)]},toString:function(t){switch(t=t||"rgba"){case"rgb":var e=this.toRGB();return"rgb("+e.r+","+e.g+","+e.b+")";case"rgba":var e=this.toRGB();return"rgba("+e.r+","+e.g+","+e.b+","+e.a+")";case"hsl":var i=this.toHSL();return"hsl("+Math.round(360*i.h)+","+Math.round(100*i.s)+"%,"+Math.round(100*i.l)+"%)";case"hsla":var i=this.toHSL();return"hsla("+Math.round(360*i.h)+","+Math.round(100*i.s)+"%,"+Math.round(100*i.l)+"%,"+i.a+")";case"hex":return this.toHex();case"alias":return this.toAlias()||this.toHex();default:return!1}},stringParsers:[{re:/#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,format:"hex",parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),1]}},{re:/#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,format:"hex",parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),1]}},{re:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,format:"rgb",parse:function(t){return[t[1],t[2],t[3],1]}},{re:/rgb\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,format:"rgb",parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],1]}},{re:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/hsl\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,format:"hsl",parse:function(t){return[t[1]/360,t[2]/100,t[3]/100,t[4]]}},{re:/hsla\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"hsla",parse:function(t){return[t[1]/360,t[2]/100,t[3]/100,t[4]]}},{re:/^([a-z]{3,})$/,format:"alias",parse:function(t){var e=this.colorNameToHex(t[0])||"#000000",i=this.stringParsers[0].re.exec(e),l=i&&this.stringParsers[0].parse.apply(this,[i]);return l}}],colorNameToHex:function(t){return"undefined"!=typeof this.colors[t.toLowerCase()]?this.colors[t.toLowerCase()]:!1}};var i={horizontal:!1,inline:!1,color:!1,format:!1,input:"input",container:!1,component:".add-on, .input-group-addon",sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"}},slidersHorz:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:100,maxTop:0,callLeft:"setHue",callTop:!1},alpha:{maxLeft:100,maxTop:0,callLeft:"setAlpha",callTop:!1}},template:'<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div></div>'},l=function(l,n){this.element=t(l).addClass("colorpicker-element"),this.options=t.extend({},i,this.element.data(),n),this.component=this.options.component,this.component=this.component!==!1?this.element.find(this.component):!1,this.component&&0===this.component.length&&(this.component=!1),this.container=this.options.container===!0?this.element:this.options.container,this.container=this.container!==!1?t(this.container):!1,this.input=this.element.is("input")?this.element:this.options.input?this.element.find(this.options.input):!1,this.input&&0===this.input.length&&(this.input=!1),this.color=new e(this.options.color!==!1?this.options.color:this.getValue()),this.format=this.options.format!==!1?this.options.format:this.color.origFormat,this.picker=t(this.options.template),this.picker.addClass(this.options.inline?"colorpicker-inline colorpicker-visible":"colorpicker-hidden"),this.options.horizontal&&this.picker.addClass("colorpicker-horizontal"),("rgba"===this.format||"hsla"===this.format)&&this.picker.addClass("colorpicker-with-alpha"),this.picker.on("mousedown.colorpicker touchstart.colorpicker",t.proxy(this.mousedown,this)),this.picker.appendTo(this.container?this.container:t("body")),this.input!==!1&&(this.input.on({"keyup.colorpicker":t.proxy(this.keyup,this)}),this.component===!1&&this.element.on({"focus.colorpicker":t.proxy(this.show,this)}),this.options.inline===!1&&this.element.on({"focusout.colorpicker":t.proxy(this.hide,this)})),this.component!==!1&&this.component.on({"click.colorpicker":t.proxy(this.show,this)}),this.input===!1&&this.component===!1&&this.element.on({"click.colorpicker":t.proxy(this.show,this)}),this.input!==!1&&this.component!==!1&&"color"===this.input.attr("type")&&this.input.on({"click.colorpicker":t.proxy(this.show,this),"focus.colorpicker":t.proxy(this.show,this)}),this.update(),t(t.proxy(function(){this.element.trigger("create")},this))};l.version="2.0.0-beta",l.Color=e,l.prototype={constructor:l,destroy:function(){this.picker.remove(),this.element.removeData("colorpicker").off(".colorpicker"),this.input!==!1&&this.input.off(".colorpicker"),this.component!==!1&&this.component.off(".colorpicker"),this.element.removeClass("colorpicker-element"),this.element.trigger({type:"destroy"})},reposition:function(){if(this.options.inline!==!1||this.options.container)return!1;var t=this.container&&this.container[0]!==document.body?"position":"offset",e=this.component?this.component[t]():this.element[t]();this.picker.css({top:e.top+(this.component?this.component.outerHeight():this.element.outerHeight()),left:e.left})},show:function(e){return this.isDisabled()?!1:(this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden"),this.reposition(),t(window).on("resize.colorpicker",t.proxy(this.reposition,this)),!e||this.hasInput()&&"color"!==this.input.attr("type")||e.stopPropagation&&e.preventDefault&&(e.stopPropagation(),e.preventDefault()),this.options.inline===!1&&t(window.document).on({"mousedown.colorpicker":t.proxy(this.hide,this)}),void this.element.trigger({type:"showPicker",color:this.color}))},hide:function(){this.picker.addClass("colorpicker-hidden").removeClass("colorpicker-visible"),t(window).off("resize.colorpicker",this.reposition),t(document).off({"mousedown.colorpicker":this.hide}),this.update(),this.element.trigger({type:"hidePicker",color:this.color})},updateData:function(t){return t=t||this.color.toString(this.format),this.element.data("color",t),t},updateInput:function(t){return t=t||this.color.toString(this.format),this.input!==!1&&this.input.prop("value",t),t},updatePicker:function(t){void 0!==t&&(this.color=new e(t));var i=this.options.horizontal===!1?this.options.sliders:this.options.slidersHorz,l=this.picker.find("i");return 0!==l.length?(this.options.horizontal===!1?(i=this.options.sliders,l.eq(1).css("top",i.hue.maxTop*(1-this.color.value.h)).end().eq(2).css("top",i.alpha.maxTop*(1-this.color.value.a))):(i=this.options.slidersHorz,l.eq(1).css("left",i.hue.maxLeft*(1-this.color.value.h)).end().eq(2).css("left",i.alpha.maxLeft*(1-this.color.value.a))),l.eq(0).css({top:i.saturation.maxTop-this.color.value.b*i.saturation.maxTop,left:this.color.value.s*i.saturation.maxLeft}),this.picker.find(".colorpicker-saturation").css("backgroundColor",this.color.toHex(this.color.value.h,1,1,1)),this.picker.find(".colorpicker-alpha").css("backgroundColor",this.color.toHex()),this.picker.find(".colorpicker-color, .colorpicker-color div").css("backgroundColor",this.color.toString(this.format)),t):void 0},updateComponent:function(t){if(t=t||this.color.toString(this.format),this.component!==!1){var e=this.component.find("i").eq(0);e.length>0?e.css({backgroundColor:t}):this.component.css({backgroundColor:t})}return t},update:function(t){var e=this.updateComponent();return(this.getValue(!1)!==!1||t===!0)&&(this.updateInput(e),this.updateData(e)),this.updatePicker(),e},setValue:function(t){this.color=new e(t),this.update(),this.element.trigger({type:"changeColor",color:this.color,value:t})},getValue:function(t){t=void 0===t?"#000000":t;var e;return e=this.hasInput()?this.input.val():this.element.data("color"),(void 0===e||""===e||null===e)&&(e=t),e},hasInput:function(){return this.input!==!1},isDisabled:function(){return this.hasInput()?this.input.prop("disabled")===!0:!1},disable:function(){return this.hasInput()?(this.input.prop("disabled",!0),!0):!1},enable:function(){return this.hasInput()?(this.input.prop("disabled",!1),!0):!1},currentSlider:null,mousePointer:{left:0,top:0},mousedown:function(e){e.pageX||e.pageY||!e.originalEvent||(e.pageX=e.originalEvent.touches[0].pageX,e.pageY=e.originalEvent.touches[0].pageY),e.stopPropagation(),e.preventDefault();var i=t(e.target),l=i.closest("div"),n=this.options.horizontal?this.options.slidersHorz:this.options.sliders;if(!l.is(".colorpicker")){if(l.is(".colorpicker-saturation"))this.currentSlider=t.extend({},n.saturation);else if(l.is(".colorpicker-hue"))this.currentSlider=t.extend({},n.hue);else{if(!l.is(".colorpicker-alpha"))return!1;this.currentSlider=t.extend({},n.alpha)}var s=l.offset();this.currentSlider.guide=l.find("i")[0].style,this.currentSlider.left=e.pageX-s.left,this.currentSlider.top=e.pageY-s.top,this.mousePointer={left:e.pageX,top:e.pageY},t(document).on({"mousemove.colorpicker":t.proxy(this.mousemove,this),"touchmove.colorpicker":t.proxy(this.mousemove,this),"mouseup.colorpicker":t.proxy(this.mouseup,this),"touchend.colorpicker":t.proxy(this.mouseup,this)}).trigger("mousemove")}return!1},mousemove:function(t){t.pageX||t.pageY||!t.originalEvent||(t.pageX=t.originalEvent.touches[0].pageX,t.pageY=t.originalEvent.touches[0].pageY),t.stopPropagation(),t.preventDefault();var e=Math.max(0,Math.min(this.currentSlider.maxLeft,this.currentSlider.left+((t.pageX||this.mousePointer.left)-this.mousePointer.left))),i=Math.max(0,Math.min(this.currentSlider.maxTop,this.currentSlider.top+((t.pageY||this.mousePointer.top)-this.mousePointer.top)));return this.currentSlider.guide.left=e+"px",this.currentSlider.guide.top=i+"px",this.currentSlider.callLeft&&this.color[this.currentSlider.callLeft].call(this.color,e/this.currentSlider.maxLeft),this.currentSlider.callTop&&this.color[this.currentSlider.callTop].call(this.color,i/this.currentSlider.maxTop),this.update(!0),this.element.trigger({type:"changeColor",color:this.color}),!1},mouseup:function(e){return e.stopPropagation(),e.preventDefault(),t(document).off({"mousemove.colorpicker":this.mousemove,"touchmove.colorpicker":this.mousemove,"mouseup.colorpicker":this.mouseup,"touchend.colorpicker":this.mouseup}),!1},keyup:function(t){if(38===t.keyCode)this.color.value.a<1&&(this.color.value.a=Math.round(100*(this.color.value.a+.01))/100),this.update(!0);else if(40===t.keyCode)this.color.value.a>0&&(this.color.value.a=Math.round(100*(this.color.value.a-.01))/100),this.update(!0);else{
var i=this.input.val();this.color=new e(i),this.getValue(!1)!==!1&&(this.updateData(),this.updateComponent(),this.updatePicker())}this.element.trigger({type:"changeColor",color:this.color,value:i})}},t.colorpicker=l,t.fn.colorpicker=function(e){var i=arguments;return this.each(function(){var n=t(this),s=n.data("colorpicker"),a="object"==typeof e?e:{};s||"string"==typeof e?"string"==typeof e&&s[e].apply(s,Array.prototype.slice.call(i,1)):n.data("colorpicker",new l(this,a))})},t.fn.colorpicker.constructor=l}),/*!
 * Cropper v0.7.6-beta
 * https://github.com/fengyuanchen/cropper
 *
 * Copyright 2014 Fengyuan Chen
 * Released under the MIT license
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){"use strict";var e=t(window),i=t(document),l=window.location,n=!0,s=!1,a=null,o=NaN,r=1/0,h="undefined",c="directive",u=".cropper",d=/^(e|n|w|s|ne|nw|sw|se|all|crop|move|zoom)$/,p=/^(x|y|width|height)$/,f=/^(naturalWidth|naturalHeight|width|height|aspectRatio|ratio|rotate)$/,m="cropper-modal",g="cropper-hidden",v="cropper-invisible",b="cropper-move",y="cropper-crop",_="cropper-disabled",w="mousedown touchstart",x="mousemove touchmove",k="mouseup mouseleave touchend touchleave touchcancel",C="wheel mousewheel DOMMouseScroll",M="resize"+u,D="dblclick",S="build"+u,T="built"+u,E="dragstart"+u,A="dragmove"+u,I="dragend"+u,P=function(t){return"number"==typeof t},F=function(e,i){this.element=e,this.$element=t(e),this.defaults=t.extend({},F.DEFAULTS,t.isPlainObject(i)?i:{}),this.$original=a,this.ready=s,this.built=s,this.cropped=s,this.rotated=s,this.disabled=s,this.replaced=s,this.init()},j=Math.round,z=Math.sqrt,L=Math.min,O=Math.max,H=Math.abs,N=Math.sin,$=Math.cos,R=parseFloat;F.prototype={constructor:F,support:{canvas:t.isFunction(t("<canvas>")[0].getContext)},init:function(){var e=this.defaults;t.each(e,function(t,i){switch(t){case"aspectRatio":e[t]=H(R(i))||o;break;case"autoCropArea":e[t]=H(R(i))||.8;break;case"minWidth":case"minHeight":e[t]=H(R(i))||0;break;case"maxWidth":case"maxHeight":e[t]=H(R(i))||r}}),this.image={rotate:0},this.load()},load:function(){var e,i,l=this,s=this.$element,a=this.element,o=this.image,r="";s.is("img")?i=s.prop("src"):s.is("canvas")&&this.support.canvas&&(i=a.toDataURL()),i&&(this.replaced&&(o.rotate=0),this.defaults.checkImageOrigin&&(s.prop("crossOrigin")||this.isCrossOriginURL(i))&&(r=" crossOrigin"),this.$clone=e=t("<img"+r+' src="'+i+'">'),e.one("load",function(){o.naturalWidth=this.naturalWidth||e.width(),o.naturalHeight=this.naturalHeight||e.height(),o.aspectRatio=o.naturalWidth/o.naturalHeight,l.url=i,l.ready=n,l.build()}),e.addClass(v).prependTo("body"))},isCrossOriginURL:function(t){var e=t.match(/^(https?:)\/\/([^\:\/\?#]+):?(\d*)/i);return!e||e[1]===l.protocol&&e[2]===l.hostname&&e[3]===l.port?s:n},build:function(){var e,l,s=this.$element,a=this.defaults;this.ready&&(this.built&&this.unbuild(),s.one(S,a.build),e=t.Event(S),s.trigger(e),e.isDefaultPrevented()||(this.$cropper=l=t(F.TEMPLATE),s.addClass(g),this.$clone.removeClass(v).prependTo(l),this.rotated||(this.$original=this.$clone.clone(),this.$original.addClass(g).prependTo(this.$cropper),this.originalImage=t.extend({},this.image)),this.$container=s.parent(),this.$container.append(l),this.$canvas=l.find(".cropper-canvas"),this.$dragger=l.find(".cropper-dragger"),this.$viewer=l.find(".cropper-viewer"),a.autoCrop?this.cropped=n:this.$dragger.addClass(g),a.dragCrop&&this.setDragMode("crop"),a.modal&&this.$canvas.addClass(m),!a.dashed&&this.$dragger.find(".cropper-dashed").addClass(g),!a.movable&&this.$dragger.find(".cropper-face").data(c,"move"),!a.resizable&&this.$dragger.find(".cropper-line, .cropper-point").addClass(g),this.$scope=a.multiple?this.$cropper:i,this.addListeners(),this.initPreview(),this.built=n,this.update(),s.one(T,a.built),s.trigger(T)))},unbuild:function(){this.built&&(this.built=s,this.removeListeners(),this.$preview.empty(),this.$preview=a,this.$dragger=a,this.$canvas=a,this.$container=a,this.$cropper.remove(),this.$cropper=a)},update:function(t){this.initContainer(),this.initCropper(),this.initImage(),this.initDragger(),t?(this.setData(t,n),this.setDragMode("crop")):this.setData(this.defaults.data)},resize:function(){clearTimeout(this.resizing),this.resizing=setTimeout(t.proxy(this.update,this,this.getData()),200)},preview:function(){var e=this.image,i=this.dragger,l=e.width,n=e.height,s=i.left-e.left,a=i.top-e.top;this.$viewer.find("img").css({width:j(l),height:j(n),marginLeft:-j(s),marginTop:-j(a)}),this.$preview.each(function(){var e=t(this),o=e.width()/i.width;e.find("img").css({width:j(l*o),height:j(n*o),marginLeft:-j(s*o),marginTop:-j(a*o)})})},addListeners:function(){var i=this.defaults;this.$element.on(E,i.dragstart).on(A,i.dragmove).on(I,i.dragend),this.$cropper.on(w,this._dragstart=t.proxy(this.dragstart,this)).on(D,this._dblclick=t.proxy(this.dblclick,this)),i.zoomable&&this.$cropper.on(C,this._wheel=t.proxy(this.wheel,this)),this.$scope.on(x,this._dragmove=t.proxy(this.dragmove,this)).on(k,this._dragend=t.proxy(this.dragend,this)),e.on(M,this._resize=t.proxy(this.resize,this))},removeListeners:function(){var t=this.defaults;this.$element.off(E,t.dragstart).off(A,t.dragmove).off(I,t.dragend),this.$cropper.off(w,this._dragstart).off(D,this._dblclick),t.zoomable&&this.$cropper.off(C,this._wheel),this.$scope.off(x,this._dragmove).off(k,this._dragend),e.off(M,this._resize)},initPreview:function(){var e='<img src="'+this.url+'">';this.$preview=t(this.defaults.preview),this.$viewer.html(e),this.$preview.html(e).find("img").css("cssText","min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;")},initContainer:function(){var t=this.$container;this.container={width:O(t.width(),300),height:O(t.height(),150)}},initCropper:function(){var t,e=this.container,i=this.image;i.naturalWidth*e.height/i.naturalHeight-e.width>=0?(t={width:e.width,height:e.width/i.aspectRatio,left:0},t.top=(e.height-t.height)/2):(t={width:e.height*i.aspectRatio,height:e.height,top:0},t.left=(e.width-t.width)/2),this.$cropper.css({width:j(t.width),height:j(t.height),left:j(t.left),top:j(t.top)}),this.cropper=t},initImage:function(){var e=this.image,i=this.cropper,l={_width:i.width,_height:i.height,width:i.width,height:i.height,left:0,top:0,ratio:i.width/e.naturalWidth};this.defaultImage=t.extend({},e,l),e._width!==i.width||e._height!==i.height?t.extend(e,l):(e=t.extend({},l,e),this.replaced&&(this.replaced=s,e.ratio=l.ratio)),this.image=e,this.renderImage()},renderImage:function(t){var e=this.image;"zoom"===t&&(e.left-=(e.width-e.oldWidth)/2,e.top-=(e.height-e.oldHeight)/2),e.left=L(O(e.left,e._width-e.width),0),e.top=L(O(e.top,e._height-e.height),0),this.$clone.css({width:j(e.width),height:j(e.height),marginLeft:j(e.left),marginTop:j(e.top)}),t&&(this.defaults.done(this.getData()),this.preview())},initDragger:function(){var e,i=this.defaults,l=this.cropper,n=i.aspectRatio||this.image.aspectRatio,s=this.image.ratio;e=l.height*n-l.width>=0?{height:l.width/n,width:l.width,left:0,top:(l.height-l.width/n)/2,maxWidth:l.width,maxHeight:l.width/n}:{height:l.height,width:l.height*n,left:(l.width-l.height*n)/2,top:0,maxWidth:l.height*n,maxHeight:l.height},e.minWidth=0,e.minHeight=0,i.aspectRatio?(isFinite(i.maxWidth)?(e.maxWidth=L(e.maxWidth,i.maxWidth*s),e.maxHeight=e.maxWidth/n):isFinite(i.maxHeight)&&(e.maxHeight=L(e.maxHeight,i.maxHeight*s),e.maxWidth=e.maxHeight*n),i.minWidth>0?(e.minWidth=O(0,i.minWidth*s),e.minHeight=e.minWidth/n):i.minHeight>0&&(e.minHeight=O(0,i.minHeight*s),e.minWidth=e.minHeight*n)):(e.maxWidth=L(e.maxWidth,i.maxWidth*s),e.maxHeight=L(e.maxHeight,i.maxHeight*s),e.minWidth=O(0,i.minWidth*s),e.minHeight=O(0,i.minHeight*s)),e.minWidth=L(e.maxWidth,e.minWidth),e.minHeight=L(e.maxHeight,e.minHeight),e.height*=i.autoCropArea,e.width*=i.autoCropArea,e.left=(l.width-e.width)/2,e.top=(l.height-e.height)/2,e.oldLeft=e.left,e.oldTop=e.top,this.defaultDragger=e,this.dragger=t.extend({},e)},renderDragger:function(){var t=this.dragger,e=this.cropper;t.width>t.maxWidth?(t.width=t.maxWidth,t.left=t.oldLeft):t.width<t.minWidth&&(t.width=t.minWidth,t.left=t.oldLeft),t.height>t.maxHeight?(t.height=t.maxHeight,t.top=t.oldTop):t.height<t.minHeight&&(t.height=t.minHeight,t.top=t.oldTop),t.left=L(O(t.left,0),e.width-t.width),t.top=L(O(t.top,0),e.height-t.height),t.oldLeft=t.left,t.oldTop=t.top,this.dragger=t,this.disabled||this.defaults.done(this.getData()),this.$dragger.css({width:j(t.width),height:j(t.height),left:j(t.left),top:j(t.top)}),this.preview()},reset:function(e){this.cropped&&(e&&(this.defaults.data={}),this.image=t.extend({},this.defaultImage),this.renderImage(),this.dragger=t.extend({},this.defaultDragger),this.setData(this.defaults.data))},clear:function(){this.cropped&&(this.cropped=s,this.setData({x:0,y:0,width:0,height:0}),this.$canvas.removeClass(m),this.$dragger.addClass(g))},destroy:function(){var t=this.$element;this.ready&&(this.unbuild(),t.removeClass(g).removeData("cropper"),this.rotated&&t.attr("src",this.$original.attr("src")))},replace:function(e,i){var l,a=this,o=this.$element,r=this.element;e&&e!==this.url&&e!==o.attr("src")&&(i||(this.rotated=s,this.replaced=n),o.is("img")?(o.attr("src",e),this.load()):o.is("canvas")&&this.support.canvas&&(l=r.getContext("2d"),t('<img src="'+e+'">').one("load",function(){r.width=this.width,r.height=this.height,l.clearRect(0,0,r.width,r.height),l.drawImage(this,0,0),a.load()})))},setData:function(e,i){var l=this.cropper,n=this.dragger,s=this.image,o=this.defaults.aspectRatio;this.built&&typeof e!==h&&((e===a||t.isEmptyObject(e))&&(n=t.extend({},this.defaultDragger)),t.isPlainObject(e)&&!t.isEmptyObject(e)&&(i||(this.defaults.data=e),e=this.transformData(e),P(e.x)&&e.x<=l.width-s.left&&(n.left=e.x+s.left),P(e.y)&&e.y<=l.height-s.top&&(n.top=e.y+s.top),o?P(e.width)&&e.width<=n.maxWidth&&e.width>=n.minWidth?(n.width=e.width,n.height=n.width/o):P(e.height)&&e.height<=n.maxHeight&&e.height>=n.minHeight&&(n.height=e.height,n.width=n.height*o):(P(e.width)&&e.width<=n.maxWidth&&e.width>=n.minWidth&&(n.width=e.width),P(e.height)&&e.height<=n.maxHeight&&e.height>=n.minHeight&&(n.height=e.height))),this.dragger=n,this.renderDragger())},getData:function(t){var e=this.dragger,i=this.image,l={};return this.built&&(l={x:e.left-i.left,y:e.top-i.top,width:e.width,height:e.height},l=this.transformData(l,n,t)),l},transformData:function(e,i,l){var n=this.image.ratio,s={};return t.each(e,function(t,e){e=R(e),p.test(t)&&!isNaN(e)&&(s[t]=i?l?j(e/n):e/n:e*n)}),s},setAspectRatio:function(t){var e="auto"===t;t=R(t),(e||!isNaN(t)&&t>0)&&(this.defaults.aspectRatio=e?o:t,this.built&&(this.initDragger(),this.renderDragger()))},getImageData:function(){var e={};return this.ready&&t.each(this.image,function(t,i){f.test(t)&&(e[t]=i)}),e},getDataURL:function(e,i,l){var n,s=t("<canvas>")[0],a=this.getData(),o="";return t.isPlainObject(e)||(l=i,i=e,e={}),e=t.extend({width:a.width,height:a.height},e),this.cropped&&this.support.canvas&&(s.width=e.width,s.height=e.height,n=s.getContext("2d"),"image/jpeg"===i&&(n.fillStyle="#fff",n.fillRect(0,0,e.width,e.height)),n.drawImage(this.$clone[0],a.x,a.y,a.width,a.height,0,0,e.width,e.height),o=s.toDataURL(i,l)),o},setDragMode:function(t){var e=this.$canvas,i=this.defaults,l=s,a=s;if(this.built&&!this.disabled){switch(t){case"crop":i.dragCrop&&(l=n,e.data(c,t));break;case"move":a=n,e.data(c,t);break;default:e.removeData(c)}e.toggleClass(y,l).toggleClass(b,a)}},enable:function(){this.built&&(this.disabled=s,this.$cropper.removeClass(_))},disable:function(){this.built&&(this.disabled=n,this.$cropper.addClass(_))},rotate:function(t){var e=this.image;t=R(t)||0,this.built&&0!==t&&!this.disabled&&this.defaults.rotatable&&this.support.canvas&&(this.rotated=n,t=e.rotate=(e.rotate+t)%360,this.replace(this.getRotatedDataURL(t),!0))},getRotatedDataURL:function(e){var i=t("<canvas>")[0],l=i.getContext("2d"),n=e*Math.PI/180,s=H(e)%180,a=s>90?180-s:s,o=a*Math.PI/180,r=this.originalImage,h=r.naturalWidth,c=r.naturalHeight,u=H(h*$(o)+c*N(o)),d=H(h*N(o)+c*$(o));return i.width=u,i.height=d,l.save(),l.translate(u/2,d/2),l.rotate(n),l.drawImage(this.$original[0],-h/2,-c/2,h,c),l.restore(),i.toDataURL()},zoom:function(t){var e,i,l,n=this.image;t=R(t),this.built&&t&&!this.disabled&&this.defaults.zoomable&&(e=n.width*(1+t),i=n.height*(1+t),l=e/n._width,l>10||(1>l&&(e=n._width,i=n._height),this.setDragMode(1>=l?"crop":"move"),n.oldWidth=n.width,n.oldHeight=n.height,n.width=e,n.height=i,n.ratio=n.width/n.naturalWidth,this.renderImage("zoom")))},dblclick:function(){this.disabled||this.setDragMode(this.$canvas.hasClass(y)?"move":"crop")},wheel:function(t){var e,i=t.originalEvent,l=117.25,n=5,s=166.66665649414062,a=.1;this.disabled||(t.preventDefault(),i.deltaY?(e=i.deltaY,e=e%n===0?e/n:e%l===0?e/l:e/s):e=i.wheelDelta?-i.wheelDelta/120:i.detail?i.detail/3:0,this.zoom(e*a))},dragstart:function(e){var i,l,a,o=e.originalEvent.touches,r=e;if(!this.disabled){if(o){if(a=o.length,a>1){if(!this.defaults.zoomable||2!==a)return;r=o[1],this.startX2=r.pageX,this.startY2=r.pageY,i="zoom"}r=o[0]}if(i=i||t(r.target).data(c),d.test(i)){if(e.preventDefault(),l=t.Event(E),this.$element.trigger(l),l.isDefaultPrevented())return;this.directive=i,this.cropping=s,this.startX=r.pageX,this.startY=r.pageY,"crop"===i&&(this.cropping=n,this.$canvas.addClass(m))}}},dragmove:function(e){var i,l,n=e.originalEvent.touches,s=e;if(!this.disabled){if(n){if(l=n.length,l>1){if(!this.defaults.zoomable||2!==l)return;s=n[1],this.endX2=s.pageX,this.endY2=s.pageY}s=n[0]}if(this.directive){if(e.preventDefault(),i=t.Event(A),this.$element.trigger(i),i.isDefaultPrevented())return;this.endX=s.pageX,this.endY=s.pageY,this.dragging()}}},dragend:function(e){var i;if(!this.disabled&&this.directive){if(e.preventDefault(),i=t.Event(I),this.$element.trigger(i),i.isDefaultPrevented())return;this.cropping&&(this.cropping=s,this.$canvas.toggleClass(m,this.cropped&&this.defaults.modal)),this.directive=""}},dragging:function(){var t,e=this.directive,i=this.image,l=this.cropper,a=l.width,o=l.height,r=this.dragger,h=r.width,c=r.height,u=r.left,d=r.top,p=u+h,f=d+c,m=n,v=this.defaults,b=v.aspectRatio,y={x:this.endX-this.startX,y:this.endY-this.startY};switch(b&&(y.X=y.y*b,y.Y=y.x/b),e){case"all":u+=y.x,d+=y.y;break;case"e":if(y.x>=0&&(p>=a||b&&(0>=d||f>=o))){m=s;break}h+=y.x,b&&(c=h/b,d-=y.Y/2),0>h&&(e="w",h=0);break;case"n":if(y.y<=0&&(0>=d||b&&(0>=u||p>=a))){m=s;break}c-=y.y,d+=y.y,b&&(h=c*b,u+=y.X/2),0>c&&(e="s",c=0);break;case"w":if(y.x<=0&&(0>=u||b&&(0>=d||f>=o))){m=s;break}h-=y.x,u+=y.x,b&&(c=h/b,d+=y.Y/2),0>h&&(e="e",h=0);break;case"s":if(y.y>=0&&(f>=o||b&&(0>=u||p>=a))){m=s;break}c+=y.y,b&&(h=c*b,u-=y.X/2),0>c&&(e="n",c=0);break;case"ne":if(b){if(y.y<=0&&(0>=d||p>=a)){m=s;break}c-=y.y,d+=y.y,h=c*b}else y.x>=0?a>p?h+=y.x:y.y<=0&&0>=d&&(m=s):h+=y.x,y.y<=0?d>0&&(c-=y.y,d+=y.y):(c-=y.y,d+=y.y);0>c&&(e="sw",c=0,h=0);break;case"nw":if(b){if(y.y<=0&&(0>=d||0>=u)){m=s;break}c-=y.y,d+=y.y,h=c*b,u+=y.X}else y.x<=0?u>0?(h-=y.x,u+=y.x):y.y<=0&&0>=d&&(m=s):(h-=y.x,u+=y.x),y.y<=0?d>0&&(c-=y.y,d+=y.y):(c-=y.y,d+=y.y);0>c&&(e="se",c=0,h=0);break;case"sw":if(b){if(y.x<=0&&(0>=u||f>=o)){m=s;break}h-=y.x,u+=y.x,c=h/b}else y.x<=0?u>0?(h-=y.x,u+=y.x):y.y>=0&&f>=o&&(m=s):(h-=y.x,u+=y.x),y.y>=0?o>f&&(c+=y.y):c+=y.y;0>h&&(e="ne",c=0,h=0);break;case"se":if(b){if(y.x>=0&&(p>=a||f>=o)){m=s;break}h+=y.x,c=h/b}else y.x>=0?a>p?h+=y.x:y.y>=0&&f>=o&&(m=s):h+=y.x,y.y>=0?o>f&&(c+=y.y):c+=y.y;0>h&&(e="nw",c=0,h=0);break;case"move":i.left+=y.x,i.top+=y.y,this.renderImage("move"),m=s;break;case"zoom":v.zoomable&&(this.zoom(function(t,e,i,l,n,s){return(z(n*n+s*s)-z(i*i+l*l))/z(t*t+e*e)}(i.width,i.height,H(this.startX-this.startX2),H(this.startY-this.startY2),H(this.endX-this.endX2),H(this.endY-this.endY2))),this.endX2=this.startX2,this.endY2=this.startY2);break;case"crop":y.x&&y.y&&(t=this.$cropper.offset(),u=this.startX-t.left,d=this.startY-t.top,h=r.minWidth,c=r.minHeight,y.x>0?y.y>0?e="se":(e="ne",d-=c):y.y>0?(e="sw",u-=h):(e="nw",u-=h,d-=c),this.cropped||(this.cropped=n,this.$dragger.removeClass(g)))}m&&(r.width=h,r.height=c,r.left=u,r.top=d,this.directive=e,this.renderDragger()),this.startX=this.endX,this.startY=this.endY}},F.TEMPLATE=function(t,e){return e=e.split(","),t.replace(/\d+/g,function(t){return e[t]})}('<0 6="5-container"><0 6="5-canvas"></0><0 6="5-dragger"><1 6="5-viewer"></1><1 6="5-8 8-h"></1><1 6="5-8 8-v"></1><1 6="5-face" 3-2="all"></1><1 6="5-7 7-e" 3-2="e"></1><1 6="5-7 7-n" 3-2="n"></1><1 6="5-7 7-w" 3-2="w"></1><1 6="5-7 7-s" 3-2="s"></1><1 6="5-4 4-e" 3-2="e"></1><1 6="5-4 4-n" 3-2="n"></1><1 6="5-4 4-w" 3-2="w"></1><1 6="5-4 4-s" 3-2="s"></1><1 6="5-4 4-ne" 3-2="ne"></1><1 6="5-4 4-nw" 3-2="nw"></1><1 6="5-4 4-sw" 3-2="sw"></1><1 6="5-4 4-se" 3-2="se"></1></0></0>',"div,span,directive,data,point,cropper,class,line,dashed"),F.DEFAULTS={aspectRatio:"auto",autoCropArea:.8,data:{},done:t.noop,preview:"",multiple:s,autoCrop:n,dragCrop:n,dashed:n,modal:n,movable:n,resizable:n,zoomable:n,rotatable:n,checkImageOrigin:n,minWidth:0,minHeight:0,maxWidth:r,maxHeight:r,build:a,built:a,dragstart:a,dragmove:a,dragend:a},F.setDefaults=function(e){t.extend(F.DEFAULTS,e)},F.other=t.fn.cropper,t.fn.cropper=function(e){var i,l=[].slice.call(arguments,1);return this.each(function(){var n,s=t(this),a=s.data("cropper");a||s.data("cropper",a=new F(this,e)),"string"==typeof e&&t.isFunction(n=a[e])&&(i=n.apply(a,l))}),typeof i!==h?i:this},t.fn.cropper.Constructor=F,t.fn.cropper.setDefaults=F.setDefaults,t.fn.cropper.noConflict=function(){return t.fn.cropper=F.other,this}}),function(t,e){function i(){return new Date(Date.UTC.apply(Date,arguments))}function l(){var t=new Date;return i(t.getFullYear(),t.getMonth(),t.getDate())}function n(t){return function(){return this[t].apply(this,arguments)}}function s(e,i){function l(t,e){return e.toLowerCase()}var n,s=t(e).data(),a={},o=new RegExp("^"+i.toLowerCase()+"([A-Z])");i=new RegExp("^"+i.toLowerCase());for(var r in s)i.test(r)&&(n=r.replace(o,l),a[n]=s[r]);return a}function a(e){var i={};if(f[e]||(e=e.split("-")[0],f[e])){var l=f[e];return t.each(p,function(t,e){e in l&&(i[e]=l[e])}),i}}var o=t(window),r=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),i=0,l=this.length;l>i;i++)if(this[i].valueOf()===e)return i;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.splice(0)},copy:function(){var t=new r;return t.replace(this),t}};return function(){var i=[];return i.push.apply(i,arguments),t.extend(i,e),i}}(),h=function(e,i){this.dates=new r,this.viewDate=l(),this.focusDate=null,this._process_options(i),this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(m.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};h.prototype={constructor:h,_process_options:function(e){this._o=t.extend({},this._o,e);var i=this.o=t.extend({},this._o),l=i.language;switch(f[l]||(l=l.split("-")[0],f[l]||(l=d.language)),i.language=l,i.startView){case 2:case"decade":i.startView=2;break;case 1:case"year":i.startView=1;break;default:i.startView=0}switch(i.minViewMode){case 1:case"months":i.minViewMode=1;break;case 2:case"years":i.minViewMode=2;break;default:i.minViewMode=0}i.startView=Math.max(i.startView,i.minViewMode),i.multidate!==!0&&(i.multidate=Number(i.multidate)||!1,i.multidate!==!1?i.multidate=Math.max(0,i.multidate):i.multidate=1),i.multidateSeparator=String(i.multidateSeparator),i.weekStart%=7,i.weekEnd=(i.weekStart+6)%7;var n=m.parseFormat(i.format);i.startDate!==-(1/0)&&(i.startDate?i.startDate instanceof Date?i.startDate=this._local_to_utc(this._zero_time(i.startDate)):i.startDate=m.parseDate(i.startDate,n,i.language):i.startDate=-(1/0)),i.endDate!==1/0&&(i.endDate?i.endDate instanceof Date?i.endDate=this._local_to_utc(this._zero_time(i.endDate)):i.endDate=m.parseDate(i.endDate,n,i.language):i.endDate=1/0),i.daysOfWeekDisabled=i.daysOfWeekDisabled||[],t.isArray(i.daysOfWeekDisabled)||(i.daysOfWeekDisabled=i.daysOfWeekDisabled.split(/[,\s]*/)),i.daysOfWeekDisabled=t.map(i.daysOfWeekDisabled,function(t){return parseInt(t,10)});var s=String(i.orientation).toLowerCase().split(/\s+/g),a=i.orientation.toLowerCase();if(s=t.grep(s,function(t){return/^auto|left|right|top|bottom$/.test(t)}),i.orientation={x:"auto",y:"auto"},a&&"auto"!==a)if(1===s.length)switch(s[0]){case"top":case"bottom":i.orientation.y=s[0];break;case"left":case"right":i.orientation.x=s[0]}else a=t.grep(s,function(t){return/^left|right$/.test(t)}),i.orientation.x=a[0]||"auto",a=t.grep(s,function(t){return/^top|bottom$/.test(t)}),i.orientation.y=a[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var i,l,n,s=0;s<t.length;s++)i=t[s][0],2===t[s].length?(l=e,n=t[s][1]):3===t[s].length&&(l=t[s][1],n=t[s][2]),i.on(n,l)},_unapplyEvents:function(t){for(var i,l,n,s=0;s<t.length;s++)i=t[s][0],2===t[s].length?(n=e,l=t[s][1]):3===t[s].length&&(n=t[s][1],l=t[s][2]),i.off(l,n)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:t.proxy(this.show,this),keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)}],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,i){var l=i||this.dates.get(-1),n=this._utc_to_local(l);this.element.trigger({type:e,date:n,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var i=this.dates.get(t);return m.formatDate(i,e,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:n("setDates"),setUTCDate:n("setUTCDates"),setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change()},getFormattedDate:function(i){i===e&&(i=this.o.format);var l=this.o.language;return t.map(this.dates,function(t){return m.formatDate(t,i,l)}).join(this.o.multidateSeparator)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var e=this.picker.outerWidth(),i=this.picker.outerHeight(),l=10,n=o.width(),s=o.height(),a=o.scrollTop(),r=parseInt(this.element.parents().filter(function(){return"auto"!==t(this).css("z-index")}).first().css("z-index"))+10,h=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),d=h.left,p=h.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(d-=e-u)):(this.picker.addClass("datepicker-orient-left"),h.left<0?d-=h.left-l:h.left+e>n&&(d=n-e-l));var f,m,g=this.o.orientation.y;"auto"===g&&(f=-a+h.top-i,m=a+s-(h.top+c+i),g=Math.max(f,m)===m?"top":"bottom"),this.picker.addClass("datepicker-orient-"+g),"top"===g?p+=c:p-=i+parseInt(this.picker.css("padding-top")),this.picker.css({top:p,left:d,zIndex:r})}},_allow_update:!0,update:function(){if(this._allow_update){var e=this.dates.copy(),i=[],l=!1;arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),i.push(e)},this)),l=!0):(i=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),i=i&&this.o.multidate?i.split(this.o.multidateSeparator):[i],delete this.element.data().date),i=t.map(i,t.proxy(function(t){return m.parseDate(t,this.o.format,this.o.language)},this)),i=t.grep(i,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(i),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),l?this.setValue():i.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';e+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+f[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+f[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var i=[],l=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),s=new Date;return e.getUTCFullYear()<l||e.getUTCFullYear()===l&&e.getUTCMonth()<n?i.push("old"):(e.getUTCFullYear()>l||e.getUTCFullYear()===l&&e.getUTCMonth()>n)&&i.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&i.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===s.getFullYear()&&e.getUTCMonth()===s.getMonth()&&e.getUTCDate()===s.getDate()&&i.push("today"),-1!==this.dates.contains(e)&&i.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&i.push("disabled"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&i.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&i.push("selected")),i},fill:function(){var l,n=new Date(this.viewDate),s=n.getUTCFullYear(),a=n.getUTCMonth(),o=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),r=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),h=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,c=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,u=f[this.o.language].today||f.en.today||"",d=f[this.o.language].clear||f.en.clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(f[this.o.language].months[a]+" "+s),this.picker.find("tfoot th.today").text(u).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(d).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var p=i(s,a-1,28),g=m.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(g),p.setUTCDate(g-(p.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(p);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();for(var b,y=[];p.valueOf()<v;){if(p.getUTCDay()===this.o.weekStart&&(y.push("<tr>"),this.o.calendarWeeks)){var _=new Date(+p+(this.o.weekStart-p.getUTCDay()-7)%7*864e5),w=new Date(Number(_)+(11-_.getUTCDay())%7*864e5),x=new Date(Number(x=i(w.getUTCFullYear(),0,1))+(11-x.getUTCDay())%7*864e5),k=(w-x)/864e5/7+1;y.push('<td class="cw">'+k+"</td>")}if(b=this.getClassNames(p),b.push("day"),this.o.beforeShowDay!==t.noop){var C=this.o.beforeShowDay(this._utc_to_local(p));C===e?C={}:"boolean"==typeof C?C={enabled:C}:"string"==typeof C&&(C={classes:C}),C.enabled===!1&&b.push("disabled"),C.classes&&(b=b.concat(C.classes.split(/\s+/))),C.tooltip&&(l=C.tooltip)}b=t.unique(b),y.push('<td class="'+b.join(" ")+'"'+(l?' title="'+l+'"':"")+">"+p.getUTCDate()+"</td>"),p.getUTCDay()===this.o.weekEnd&&y.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(y.join(""));var M=this.picker.find(".datepicker-months").find("th:eq(1)").text(s).end().find("span").removeClass("active");t.each(this.dates,function(t,e){e.getUTCFullYear()===s&&M.eq(e.getUTCMonth()).addClass("active")}),(o>s||s>h)&&M.addClass("disabled"),s===o&&M.slice(0,r).addClass("disabled"),s===h&&M.slice(c+1).addClass("disabled"),y="",s=10*parseInt(s/10,10);var D=this.picker.find(".datepicker-years").find("th:eq(1)").text(s+"-"+(s+9)).end().find("td");s-=1;for(var S,T=t.map(this.dates,function(t){return t.getUTCFullYear()}),E=-1;11>E;E++)S=["year"],-1===E?S.push("old"):10===E&&S.push("new"),-1!==t.inArray(s,T)&&S.push("active"),(o>s||s>h)&&S.push("disabled"),y+='<span class="'+S.join(" ")+'">'+s+"</span>",s+=1;D.html(y)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault();var l,n,s,a=t(e.target).closest("span, td, th");if(1===a.length)switch(a[0].nodeName.toLowerCase()){case"th":switch(a[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=m.modes[this.viewMode].navStep*("prev"===a[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o),
this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var r=new Date;r=i(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0),this.showMode(-2);var h="linked"===this.o.todayBtn?null:"view";this._setDate(r,h);break;case"clear":var c;this.isInput?c=this.element:this.component&&(c=this.element.find("input")),c&&c.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":a.is(".disabled")||(this.viewDate.setUTCDate(1),a.is(".month")?(s=1,n=a.parent().find("span").index(a),l=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(n),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(i(l,n,s))):(s=1,n=0,l=parseInt(a.text(),10)||0,this.viewDate.setUTCFullYear(l),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(i(l,n,s))),this.showMode(-1),this.fill());break;case"td":a.is(".day")&&!a.is(".disabled")&&(s=parseInt(a.text(),10)||1,l=this.viewDate.getUTCFullYear(),n=this.viewDate.getUTCMonth(),a.is(".old")?0===n?(n=11,l-=1):n-=1:a.is(".new")&&(11===n?(n=0,l+=1):n+=1),this._setDate(i(l,n,s)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t?-1!==e?this.dates.remove(e):this.dates.push(t):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate");var i;this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&i.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,i){if(!t)return e;if(!i)return t;var l,n,s=new Date(t.valueOf()),a=s.getUTCDate(),o=s.getUTCMonth(),r=Math.abs(i);if(i=i>0?1:-1,1===r)n=-1===i?function(){return s.getUTCMonth()===o}:function(){return s.getUTCMonth()!==l},l=o+i,s.setUTCMonth(l),(0>l||l>11)&&(l=(l+12)%12);else{for(var h=0;r>h;h++)s=this.moveMonth(s,i);l=s.getUTCMonth(),s.setUTCDate(a),n=function(){return l!==s.getUTCMonth()}}for(;n();)s.setUTCDate(--a),s.setUTCMonth(l);return s},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))return void(27===t.keyCode&&this.show());var e,i,n,s=!1,a=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||l(),e),n=this.moveYear(a,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||l(),e),n=this.moveMonth(a,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||l()),i.setUTCDate(i.getUTCDate()+e),n=new Date(a),n.setUTCDate(a.getUTCDate()+e)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.dates.get(-1)||l(),e),n=this.moveYear(a,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(i=this.moveMonth(this.dates.get(-1)||l(),e),n=this.moveMonth(a,e),this._trigger("changeMonth",this.viewDate)):(i=new Date(this.dates.get(-1)||l()),i.setUTCDate(i.getUTCDate()+7*e),n=new Date(a),n.setUTCDate(a.getUTCDate()+7*e)),this.dateWithinRange(i)&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:a=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(a),s=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(s){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var c=function(e,i){this.element=t(e),this.inputs=t.map(i.inputs,function(t){return t.jquery?t[0]:t}),delete i.inputs,t(this.inputs).datepicker(i).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,i){i.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var i=t(e.target).data("datepicker"),l=i.getUTCDate(),n=t.inArray(e.target,this.inputs),s=this.inputs.length;if(-1!==n){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(l)}),l<this.dates[n])for(;n>=0&&l<this.dates[n];)this.pickers[n--].setUTCDate(l);else if(l>this.dates[n])for(;s>n&&l>this.dates[n];)this.pickers[n++].setUTCDate(l);this.updateDates(),delete this.updating}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var u=t.fn.datepicker;t.fn.datepicker=function(i){var l=Array.apply(null,arguments);l.shift();var n;return this.each(function(){var o=t(this),r=o.data("datepicker"),u="object"==typeof i&&i;if(!r){var p=s(this,"date"),f=t.extend({},d,p,u),m=a(f.language),g=t.extend({},d,m,p,u);if(o.is(".input-daterange")||g.inputs){var v={inputs:g.inputs||o.find("input").toArray()};o.data("datepicker",r=new c(this,t.extend(g,v)))}else o.data("datepicker",r=new h(this,g))}return"string"==typeof i&&"function"==typeof r[i]&&(n=r[i].apply(r,l),n!==e)?!1:void 0}),n!==e?n:this};var d=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},p=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=h;var f=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},m={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,m.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\x00").split("\x00"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(l,n,s){function a(){var t=this.slice(0,d[c].length),e=d[c].slice(0,t.length);return t===e}if(!l)return e;if(l instanceof Date)return l;"string"==typeof n&&(n=m.parseFormat(n));var o,r,c,u=/([\-+]\d+)([dmwy])/,d=l.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(l)){for(l=new Date,c=0;c<d.length;c++)switch(o=u.exec(d[c]),r=parseInt(o[1]),o[2]){case"d":l.setUTCDate(l.getUTCDate()+r);break;case"m":l=h.prototype.moveMonth.call(h.prototype,l,r);break;case"w":l.setUTCDate(l.getUTCDate()+7*r);break;case"y":l=h.prototype.moveYear.call(h.prototype,l,r)}return i(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate(),0,0,0)}d=l&&l.match(this.nonpunctuation)||[],l=new Date;var p,g,v={},b=["yyyy","yy","M","MM","m","mm","d","dd"],y={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};y.M=y.MM=y.mm=y.m,y.dd=y.d,l=i(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0);var _=n.parts.slice();if(d.length!==_.length&&(_=t(_).filter(function(e,i){return-1!==t.inArray(i,b)}).toArray()),d.length===_.length){var w;for(c=0,w=_.length;w>c;c++){if(p=parseInt(d[c],10),o=_[c],isNaN(p))switch(o){case"MM":g=t(f[s].months).filter(a),p=t.inArray(g[0],f[s].months)+1;break;case"M":g=t(f[s].monthsShort).filter(a),p=t.inArray(g[0],f[s].monthsShort)+1}v[o]=p}var x,k;for(c=0;c<b.length;c++)k=b[c],k in v&&!isNaN(v[k])&&(x=new Date(l),y[k](x,v[k]),isNaN(x)||(l=x))}return l},formatDate:function(e,i,l){if(!e)return"";"string"==typeof i&&(i=m.parseFormat(i));var n={d:e.getUTCDate(),D:f[l].daysShort[e.getUTCDay()],DD:f[l].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:f[l].monthsShort[e.getUTCMonth()],MM:f[l].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m,e=[];for(var s=t.extend([],i.separators),a=0,o=i.parts.length;o>=a;a++)s.length&&e.push(s.shift()),e.push(n[i.parts[a]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};m.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+m.headTemplate+"<tbody></tbody>"+m.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=m,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=u,this},t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var i=t(this);i.data("datepicker")||(e.preventDefault(),i.datepicker("show"))}),t(function(){t('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),function(t,e,i,l){var n,s=0,a=function(){var t=l.userAgent,e=/msie\s\d+/i;return 0<t.search(e)&&(t=e.exec(t).toString(),t=t.split(" ")[1],9>t)}(),o="ontouchstart"in i||0<l.msMaxTouchPoints,r=function(t){return"Number"!=typeof t&&(t=parseFloat(t)),isNaN(t)?null:t},h={init:function(l){return this.each(function(){var h=t.extend({min:null,max:null,from:null,to:null,type:"single",step:null,prefix:"",postfix:"",maxPostfix:"",hasGrid:!1,hideMinMax:!1,hideFromTo:!1,prettify:!0,disable:!1,values:null,onChange:null,onLoad:null,onFinish:null},l),c=t(this),u=this,d=!1,p=null;if(!c.data("isActive")){c.data("isActive",!0),this.pluginCount=s+=1,c.prop("value")&&(p=c.prop("value").split(";")),"single"===h.type?p&&1<p.length?("number"!=typeof h.min?h.min=parseFloat(p[0]):"number"!=typeof h.from&&(h.from=parseFloat(p[0])),"number"!=typeof h.max&&(h.max=parseFloat(p[1]))):p&&1===p.length&&"number"!=typeof h.from&&(h.from=parseFloat(p[0])):"double"===h.type&&(p&&1<p.length?("number"!=typeof h.min?h.min=parseFloat(p[0]):"number"!=typeof h.from&&(h.from=parseFloat(p[0])),"number"!=typeof h.max?h.max=parseFloat(p[1]):"number"!=typeof h.to&&(h.to=parseFloat(p[1]))):p&&1===p.length&&("number"!=typeof h.min?h.min=parseFloat(p[0]):"number"!=typeof h.from&&(h.from=parseFloat(p[0])))),"number"==typeof c.data("min")&&(h.min=parseFloat(c.data("min"))),"number"==typeof c.data("max")&&(h.max=parseFloat(c.data("max"))),"number"==typeof c.data("from")&&(h.from=parseFloat(c.data("from"))),"number"==typeof c.data("to")&&(h.to=parseFloat(c.data("to"))),c.data("step")&&(h.step=parseFloat(c.data("step"))),c.data("type")&&(h.type=c.data("type")),c.data("prefix")&&(h.prefix=c.data("prefix")),c.data("postfix")&&(h.postfix=c.data("postfix")),c.data("maxpostfix")&&(h.maxPostfix=c.data("maxpostfix")),c.data("hasgrid")&&(h.hasGrid=c.data("hasgrid")),c.data("hideminmax")&&(h.hideMinMax=c.data("hideminmax")),c.data("hidefromto")&&(h.hideFromTo=c.data("hidefromto")),c.data("prettify")&&(h.prettify=c.data("prettify")),c.data("disable")&&(h.disable=c.data("disable")),c.data("values")&&(h.values=c.data("values").split(",")),h.min=r(h.min),h.min||0===h.min||(h.min=10),h.max=r(h.max),h.max||0===h.max||(h.max=100),"[object Array]"!==Object.prototype.toString.call(h.values)&&(h.values=null),h.values&&0<h.values.length&&(h.min=0,h.max=h.values.length-1,h.step=1,d=!0),h.from=r(h.from),h.from||0===h.from||(h.from=h.min),h.to=r(h.to),h.to||0===h.to||(h.to=h.max),h.step=r(h.step),h.step||(h.step=1),h.from<h.min&&(h.from=h.min),h.from>h.max&&(h.from=h.min),h.to<h.min&&(h.to=h.max),h.to>h.max&&(h.to=h.max),"double"===h.type&&(h.from>h.to&&(h.from=h.to),h.to<h.from&&(h.to=h.from));var f=function(t){return t=t.toString(),h.prettify&&(t=t.replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1 ")),t},p='<span class="irs" id="irs-'+this.pluginCount+'"></span>';c[0].style.display="none",c.before(p);var m,g,v,b,y,_,w,x,k,C,M,D,S=c.prev(),T=t(e.body),E=t(i),A=!1,I=!1,P=!0,F={},j=0,z=0,L=0,O=0,H=0,N=0,$=0,R=0,W=0,Y=0,U=0;parseInt(h.step,10)!==parseFloat(h.step)&&(U=h.step.toString().split(".")[1],U=Math.pow(10,U.length)),this.updateData=function(e){P=!0,h=t.extend(h,e),S.find("*").off(),E.off("mouseup.irs"+u.pluginCount),T.off("mouseup.irs"+u.pluginCount),T.off("mousemove.irs"+u.pluginCount),S.html(""),B()},this.removeSlider=function(){S.find("*").off(),E.off("mouseup.irs"+u.pluginCount),T.off("mouseup.irs"+u.pluginCount),T.off("mousemove.irs"+u.pluginCount),S.html("").remove(),c.data("isActive",!1),c.show()};var B=function(){S.html('<span class="irs"><span class="irs-line"><span class="irs-line-left"></span><span class="irs-line-mid"></span><span class="irs-line-right"></span></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span>'),m=S.find(".irs"),g=m.find(".irs-min"),v=m.find(".irs-max"),b=m.find(".irs-from"),y=m.find(".irs-to"),_=m.find(".irs-single"),D=S.find(".irs-grid"),h.hideFromTo&&(b[0].style.visibility="hidden",y[0].style.visibility="hidden",_[0].style.visibility="hidden"),h.hideFromTo||(b[0].style.visibility="visible",y[0].style.visibility="visible",_[0].style.visibility="visible"),h.hideMinMax&&(g[0].style.visibility="hidden",v[0].style.visibility="hidden",L=z=0),h.hideMinMax||(g[0].style.visibility="visible",v[0].style.visibility="visible",h.values?(g.html(h.prefix+h.values[0]+h.postfix),v.html(h.prefix+h.values[h.values.length-1]+h.maxPostfix+h.postfix)):(g.html(h.prefix+f(h.min)+h.postfix),v.html(h.prefix+f(h.max)+h.maxPostfix+h.postfix)),z=g.outerWidth(),L=v.outerWidth()),q()},q=function(){"single"===h.type?(m.append('<span class="irs-slider single"></span>'),w=m.find(".single"),w.on("mousedown",function(e){e.preventDefault(),e.stopPropagation(),Z(e,t(this),null),I=A=!0,n=u.pluginCount,a&&t("*").prop("unselectable",!0)}),o&&w.on("touchstart",function(e){e.preventDefault(),e.stopPropagation(),Z(e.originalEvent.touches[0],t(this),null),I=A=!0,n=u.pluginCount})):"double"===h.type&&(m.append('<span class="irs-diapason"></span><span class="irs-slider from"></span><span class="irs-slider to"></span>'),x=m.find(".from"),k=m.find(".to"),M=m.find(".irs-diapason"),G(),x.on("mousedown",function(e){e.preventDefault(),e.stopPropagation(),t(this).addClass("last"),k.removeClass("last"),Z(e,t(this),"from"),I=A=!0,n=u.pluginCount,a&&t("*").prop("unselectable",!0)}),k.on("mousedown",function(e){e.preventDefault(),e.stopPropagation(),t(this).addClass("last"),x.removeClass("last"),Z(e,t(this),"to"),I=A=!0,n=u.pluginCount,a&&t("*").prop("unselectable",!0)}),o&&(x.on("touchstart",function(e){e.preventDefault(),e.stopPropagation(),t(this).addClass("last"),k.removeClass("last"),Z(e.originalEvent.touches[0],t(this),"from"),I=A=!0,n=u.pluginCount}),k.on("touchstart",function(e){e.preventDefault(),e.stopPropagation(),t(this).addClass("last"),x.removeClass("last"),Z(e.originalEvent.touches[0],t(this),"to"),I=A=!0,n=u.pluginCount})),h.to===h.max&&x.addClass("last")),T.on("mouseup.irs"+u.pluginCount,function(){n===u.pluginCount&&A&&(A=I=!1,C.removeAttr("id"),C=null,"double"===h.type&&G(),K(),a&&t("*").prop("unselectable",!1))}),T.on("mousemove.irs"+u.pluginCount,function(t){A&&(j=t.pageX,X())}),S.on("mousedown",function(){n=u.pluginCount}),S.on("mouseup",function(t){if(n===u.pluginCount&&!A&&!h.disable){t=t.pageX,P=!1,t-=S.offset().left;var e=F.fromX+(F.toX-F.fromX)/2;R=0,$=m.width()-N,W=m.width()-N,"single"===h.type?(C=w,C.attr("id","irs-active-slider"),X(t)):"double"===h.type&&(C=e>=t?x:k,C.attr("id","irs-active-slider"),X(t),G()),C.removeAttr("id"),C=null}}),o&&(E.on("touchend",function(){A&&(A=I=!1,C.removeAttr("id"),C=null,"double"===h.type&&G(),K())}),E.on("touchmove",function(t){A&&(j=t.originalEvent.touches[0].pageX,X())})),V(),Q(),h.hasGrid&&et(),h.disable?(S.addClass("irs-disabled"),S.append('<span class="irs-disable-mask"></span>')):(S.removeClass("irs-disabled"),S.find(".irs-disable-mask").remove())},V=function(){O=m.width(),N=w?w.width():x.width(),H=O-N},Z=function(t,e,i){V(),P=!1,C=e,C.attr("id","irs-active-slider"),e=C.offset().left,Y=e+(t.pageX-e)-C.position().left,"single"===h.type?$=m.width()-N:"double"===h.type&&("from"===i?(R=0,W=parseInt(k.css("left"),10)):(R=parseInt(x.css("left"),10),W=m.width()-N))},G=function(){var e=x.width(),i=t.data(x[0],"x")||parseInt(x[0].style.left,10)||x.position().left,l=(t.data(k[0],"x")||parseInt(k[0].style.left,10)||k.position().left)-i;M[0].style.left=i+e/2+"px",M[0].style.width=l+"px"},X=function(e){var i=j-Y,i=e?e:j-Y;"single"===h.type?(0>i&&(i=0),i>$&&(i=$)):"double"===h.type&&(R>i&&(i=R),i>W&&(i=W),G()),t.data(C[0],"x",i),K(),e=Math.round(i),C[0].style.left=e+"px"},K=function(){var e,i={input:c,slider:S,min:h.min,max:h.max,fromNumber:0,toNumber:0,fromPers:0,toPers:0,fromX:0,fromX_pure:0,toX:0,toX_pure:0},l=h.max-h.min;"single"===h.type?(i.fromX=t.data(w[0],"x")||parseInt(w[0].style.left,10)||w.position().left,i.fromPers=i.fromX/H*100,e=l/100*i.fromPers+h.min,i.fromNumber=Math.round(e/h.step)*h.step,i.fromNumber<h.min&&(i.fromNumber=h.min),i.fromNumber>h.max&&(i.fromNumber=h.max),U&&(i.fromNumber=parseInt(i.fromNumber*U,10)/U),d&&(i.fromValue=h.values[i.fromNumber])):"double"===h.type&&(i.fromX=t.data(x[0],"x")||parseInt(x[0].style.left,10)||x.position().left,i.fromPers=i.fromX/H*100,e=l/100*i.fromPers+h.min,i.fromNumber=Math.round(e/h.step)*h.step,i.fromNumber<h.min&&(i.fromNumber=h.min),i.toX=t.data(k[0],"x")||parseInt(k[0].style.left,10)||k.position().left,i.toPers=i.toX/H*100,l=l/100*i.toPers+h.min,i.toNumber=Math.round(l/h.step)*h.step,i.toNumber>h.max&&(i.toNumber=h.max),U&&(i.fromNumber=parseInt(i.fromNumber*U,10)/U,i.toNumber=parseInt(i.toNumber*U,10)/U),d&&(i.fromValue=h.values[i.fromNumber],i.toValue=h.values[i.toNumber])),F=i,J()},Q=function(){var e={input:c,slider:S,min:h.min,max:h.max,fromNumber:h.from,toNumber:h.to,fromPers:0,toPers:0,fromX:0,fromX_pure:0,toX:0,toX_pure:0},i=h.max-h.min;"single"===h.type?(e.fromPers=0!==i?(e.fromNumber-h.min)/i*100:0,e.fromX_pure=H/100*e.fromPers,e.fromX=Math.round(e.fromX_pure),w[0].style.left=e.fromX+"px",t.data(w[0],"x",e.fromX_pure)):"double"===h.type&&(e.fromPers=0!==i?(e.fromNumber-h.min)/i*100:0,e.fromX_pure=H/100*e.fromPers,e.fromX=Math.round(e.fromX_pure),x[0].style.left=e.fromX+"px",t.data(x[0],"x",e.fromX_pure),e.toPers=0!==i?(e.toNumber-h.min)/i*100:1,e.toX_pure=H/100*e.toPers,e.toX=Math.round(e.toX_pure),k[0].style.left=e.toX+"px",t.data(k[0],"x",e.toX_pure),G()),F=e,J()},J=function(){var t,e,i,l,n,s;s=N/2,i="","single"===h.type?(i=F.fromNumber===h.max?h.maxPostfix:"",b[0].style.display="none",y[0].style.display="none",i=d?h.prefix+h.values[F.fromNumber]+i+h.postfix:h.prefix+f(F.fromNumber)+i+h.postfix,_.html(i),n=_.outerWidth(),s=F.fromX-n/2+s,0>s&&(s=0),s>O-n&&(s=O-n),_[0].style.left=s+"px",h.hideMinMax||h.hideFromTo||(g[0].style.display=z>s?"none":"block",v[0].style.display=s+n>O-L?"none":"block"),c.attr("value",parseFloat(F.fromNumber))):"double"===h.type&&(i=F.toNumber===h.max?h.maxPostfix:"",d?(t=h.prefix+h.values[F.fromNumber]+h.postfix,e=h.prefix+h.values[F.toNumber]+i+h.postfix,i=F.fromNumber!==F.toNumber?h.prefix+h.values[F.fromNumber]+" \u2014 "+h.prefix+h.values[F.toNumber]+i+h.postfix:h.prefix+h.values[F.fromNumber]+i+h.postfix):(t=h.prefix+f(F.fromNumber)+h.postfix,e=h.prefix+f(F.toNumber)+i+h.postfix,i=F.fromNumber!==F.toNumber?h.prefix+f(F.fromNumber)+" \u2014 "+h.prefix+f(F.toNumber)+i+h.postfix:h.prefix+f(F.fromNumber)+i+h.postfix),b.html(t),y.html(e),_.html(i),t=b.outerWidth(),e=F.fromX-t/2+s,0>e&&(e=0),e>O-t&&(e=O-t),b[0].style.left=e+"px",i=y.outerWidth(),l=F.toX-i/2+s,0>l&&(l=0),l>O-i&&(l=O-i),y[0].style.left=l+"px",n=_.outerWidth(),s=F.fromX+(F.toX-F.fromX)/2-n/2+s,0>s&&(s=0),s>O-n&&(s=O-n),_[0].style.left=s+"px",l>e+t?(_[0].style.display="none",b[0].style.display="block",y[0].style.display="block"):(_[0].style.display="block",b[0].style.display="none",y[0].style.display="none"),h.hideMinMax||h.hideFromTo||(g[0].style.display=z>s||z>e?"none":"block",v[0].style.display=s+n>O-L||l+i>O-L?"none":"block"),c.attr("value",parseFloat(F.fromNumber)+";"+parseFloat(F.toNumber))),tt()},tt=function(){"function"!=typeof h.onFinish||I||P||h.onFinish.call(this,F),"function"!=typeof h.onChange||P||h.onChange.call(this,F),"function"==typeof h.onLoad&&!I&&P&&(h.onLoad.call(this,F),P=!1)},et=function(){S.addClass("irs-with-grid");var t,e="",i=0,i=0,l="";for(t=0;20>=t;t+=1)i=Math.floor(O/20*t),i>=O&&(i=O-1),l+='<span class="irs-grid-pol small" style="left: '+i+'px;"></span>';for(t=0;4>=t;t+=1)i=Math.floor(O/4*t),i>=O&&(i=O-1),l+='<span class="irs-grid-pol" style="left: '+i+'px;"></span>',U?(e=h.min+(h.max-h.min)/4*t,e=e/h.step*h.step,e=parseInt(e*U,10)/U):(e=Math.round(h.min+(h.max-h.min)/4*t),e=Math.round(e/h.step)*h.step,e=f(e)),d&&(h.hideMinMax?(e=Math.round(h.min+(h.max-h.min)/4*t),e=Math.round(e/h.step)*h.step,e=0===t||4===t?h.values[e]:""):e=""),0===t?l+='<span class="irs-grid-text" style="left: '+i+'px; text-align: left;">'+e+"</span>":4===t?(i-=100,l+='<span class="irs-grid-text" style="left: '+i+'px; text-align: right;">'+e+"</span>"):(i-=50,l+='<span class="irs-grid-text" style="left: '+i+'px;">'+e+"</span>");D.html(l)};B()}})},update:function(t){return this.each(function(){this.updateData(t)})},remove:function(){return this.each(function(){this.removeSlider()})}};t.fn.ionRangeSlider=function(e){return h[e]?h[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist for jQuery.ionRangeSlider"):h.init.apply(this,arguments)}}(jQuery,document,window,navigator),"undefined"==typeof jQuery)throw new Error("Jasny Bootstrap's JavaScript requires jQuery");+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}void 0===t.support.transition&&(t.fn.emulateTransitionEnd=function(e){var i=!1,l=this;t(this).one(t.support.transition.end,function(){i=!0});var n=function(){i||t(l).trigger(t.support.transition.end)};return setTimeout(n,e),this},t(function(){t.support.transition=e()}))}(window.jQuery),+function(t){"use strict";var e=function(i,l){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,l),this.state=null,this.placement=null,this.options.recalc&&(this.calcClone(),t(window).on("resize",t.proxy(this.recalc,this))),this.options.autohide&&t(document).on("click",t.proxy(this.autohide,this)),this.options.toggle&&this.toggle(),this.options.disablescrolling&&(this.options.disableScrolling=this.options.disablescrolling,delete this.options.disablescrolling)};e.DEFAULTS={toggle:!0,placement:"auto",autohide:!0,recalc:!0,disableScrolling:!0},e.prototype.offset=function(){switch(this.placement){case"left":case"right":return this.$element.outerWidth();case"top":case"bottom":return this.$element.outerHeight()}},e.prototype.calcPlacement=function(){function e(t,e){if("auto"===n.css(e))return t;if("auto"===n.css(t))return e;var i=parseInt(n.css(t),10),l=parseInt(n.css(e),10);return i>l?e:t}if("auto"!==this.options.placement)return void(this.placement=this.options.placement);this.$element.hasClass("in")||this.$element.css("visiblity","hidden !important").addClass("in");var i=t(window).width()/this.$element.width(),l=t(window).height()/this.$element.height(),n=this.$element;this.placement=i>=l?e("left","right"):e("top","bottom"),"hidden !important"===this.$element.css("visibility")&&this.$element.removeClass("in").css("visiblity","")},e.prototype.opposite=function(t){switch(t){case"top":return"bottom";case"left":return"right";case"bottom":return"top";case"right":return"left"}},e.prototype.getCanvasElements=function(){var e=this.options.canvas?t(this.options.canvas):this.$element,i=e.find("*").filter(function(){return"fixed"===t(this).css("position")}).not(this.options.exclude);return e.add(i)},e.prototype.slide=function(e,i,l){if(!t.support.transition){var n={};return n[this.placement]="+="+i,e.animate(n,350,l)}var s=this.placement,a=this.opposite(s);e.each(function(){"auto"!==t(this).css(s)&&t(this).css(s,(parseInt(t(this).css(s),10)||0)+i),"auto"!==t(this).css(a)&&t(this).css(a,(parseInt(t(this).css(a),10)||0)-i)}),this.$element.one(t.support.transition.end,l).emulateTransitionEnd(350)},e.prototype.disableScrolling=function(){var e=t("body").width(),i="padding-"+this.opposite(this.placement);if(void 0===t("body").data("offcanvas-style")&&t("body").data("offcanvas-style",t("body").attr("style")),t("body").css("overflow","hidden"),t("body").width()>e){var l=parseInt(t("body").css(i),10)+t("body").width()-e;setTimeout(function(){t("body").css(i,l)},1)}},e.prototype.show=function(){if(!this.state){var e=t.Event("show.bs.offcanvas");if(this.$element.trigger(e),!e.isDefaultPrevented()){this.state="slide-in",this.calcPlacement();var i=this.getCanvasElements(),l=this.placement,n=this.opposite(l),s=this.offset();-1!==i.index(this.$element)&&(t(this.$element).data("offcanvas-style",t(this.$element).attr("style")||""),this.$element.css(l,-1*s),this.$element.css(l)),i.addClass("canvas-sliding").each(function(){void 0===t(this).data("offcanvas-style")&&t(this).data("offcanvas-style",t(this).attr("style")||""),"static"===t(this).css("position")&&t(this).css("position","relative"),"auto"!==t(this).css(l)&&"0px"!==t(this).css(l)||"auto"!==t(this).css(n)&&"0px"!==t(this).css(n)||t(this).css(l,0)}),this.options.disableScrolling&&this.disableScrolling();var a=function(){"slide-in"==this.state&&(this.state="slid",i.removeClass("canvas-sliding").addClass("canvas-slid"),this.$element.trigger("shown.bs.offcanvas"))};setTimeout(t.proxy(function(){this.$element.addClass("in"),this.slide(i,s,t.proxy(a,this))},this),1)}}},e.prototype.hide=function(){if("slid"===this.state){var e=t.Event("hide.bs.offcanvas");if(this.$element.trigger(e),!e.isDefaultPrevented()){this.state="slide-out";var i=t(".canvas-slid"),l=(this.placement,-1*this.offset()),n=function(){"slide-out"==this.state&&(this.state=null,this.placement=null,this.$element.removeClass("in"),i.removeClass("canvas-sliding"),i.add(this.$element).add("body").each(function(){t(this).attr("style",t(this).data("offcanvas-style")).removeData("offcanvas-style")}),this.$element.trigger("hidden.bs.offcanvas"))};i.removeClass("canvas-slid").addClass("canvas-sliding"),setTimeout(t.proxy(function(){this.slide(i,l,t.proxy(n,this))},this),1)}}},e.prototype.toggle=function(){"slide-in"!==this.state&&"slide-out"!==this.state&&this["slid"===this.state?"hide":"show"]()},e.prototype.calcClone=function(){this.$calcClone=this.$element.clone().html("").addClass("offcanvas-clone").removeClass("in").appendTo(t("body"))},e.prototype.recalc=function(){if("none"!==this.$calcClone.css("display")&&("slid"===this.state||"slide-in"===this.state)){this.state=null,this.placement=null;var e=this.getCanvasElements();this.$element.removeClass("in"),e.removeClass("canvas-slid"),e.add(this.$element).add("body").each(function(){t(this).attr("style",t(this).data("offcanvas-style")).removeData("offcanvas-style")})}},e.prototype.autohide=function(e){0===t(e.target).closest(this.$element).length&&this.hide()};var i=t.fn.offcanvas;t.fn.offcanvas=function(i){return this.each(function(){var l=t(this),n=l.data("bs.offcanvas"),s=t.extend({},e.DEFAULTS,l.data(),"object"==typeof i&&i);n||l.data("bs.offcanvas",n=new e(this,s)),"string"==typeof i&&n[i]()})},t.fn.offcanvas.Constructor=e,t.fn.offcanvas.noConflict=function(){return t.fn.offcanvas=i,this},t(document).on("click.bs.offcanvas.data-api","[data-toggle=offcanvas]",function(e){var i,l=t(this),n=l.attr("data-target")||e.preventDefault()||(i=l.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),s=t(n),a=s.data("bs.offcanvas"),o=a?"toggle":l.data();e.stopPropagation(),a?a.toggle():s.offcanvas(o)})}(window.jQuery),+function(t){"use strict";var e=function(i,l){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,l),this.$element.on("click.bs.rowlink","td:not(.rowlink-skip)",t.proxy(this.click,this))};e.DEFAULTS={target:"a"},e.prototype.click=function(e){var i=t(e.currentTarget).closest("tr").find(this.options.target)[0];if(t(e.target)[0]!==i)if(e.preventDefault(),i.click)i.click();else if(document.createEvent){var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(l)}};var i=t.fn.rowlink;t.fn.rowlink=function(i){return this.each(function(){var l=t(this),n=l.data("rowlink");n||l.data("rowlink",n=new e(this,i))})},t.fn.rowlink.Constructor=e,t.fn.rowlink.noConflict=function(){return t.fn.rowlink=i,this},t(document).on("click.bs.rowlink.data-api",'[data-link="row"]',function(e){if(0===t(e.target).closest(".rowlink-skip").length){var i=t(this);i.data("rowlink")||(i.rowlink(i.data()),t(e.target).trigger("click.bs.rowlink"))}})}(window.jQuery),+function(t){"use strict";var e=void 0!==window.orientation,i=navigator.userAgent.toLowerCase().indexOf("android")>-1,l="Microsoft Internet Explorer"==window.navigator.appName,n=function(e,l){i||(this.$element=t(e),this.options=t.extend({},n.DEFAULTS,l),this.mask=String(this.options.mask),this.init(),this.listen(),this.checkVal())};n.DEFAULTS={mask:"",placeholder:"_",definitions:{9:"[0-9]",a:"[A-Za-z]","?":"[A-Za-z0-9]","*":"."}},n.prototype.init=function(){var e=this.options.definitions,i=this.mask.length;this.tests=[],this.partialPosition=this.mask.length,this.firstNonMaskPos=null,t.each(this.mask.split(""),t.proxy(function(t,l){"?"==l?(i--,this.partialPosition=t):e[l]?(this.tests.push(new RegExp(e[l])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1)):this.tests.push(null)},this)),this.buffer=t.map(this.mask.split(""),t.proxy(function(t){return"?"!=t?e[t]?this.options.placeholder:t:void 0},this)),this.focusText=this.$element.val(),this.$element.data("rawMaskFn",t.proxy(function(){return t.map(this.buffer,function(t,e){return this.tests[e]&&t!=this.options.placeholder?t:null}).join("")},this))},n.prototype.listen=function(){if(!this.$element.attr("readonly")){var e=(l?"paste":"input")+".mask";this.$element.on("unmask.bs.inputmask",t.proxy(this.unmask,this)).on("focus.bs.inputmask",t.proxy(this.focusEvent,this)).on("blur.bs.inputmask",t.proxy(this.blurEvent,this)).on("keydown.bs.inputmask",t.proxy(this.keydownEvent,this)).on("keypress.bs.inputmask",t.proxy(this.keypressEvent,this)).on(e,t.proxy(this.pasteEvent,this))}},n.prototype.caret=function(t,e){if(0!==this.$element.length){if("number"==typeof t)return e="number"==typeof e?e:t,this.$element.each(function(){
if(this.setSelectionRange)this.setSelectionRange(t,e);else if(this.createTextRange){var i=this.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",t),i.select()}});if(this.$element[0].setSelectionRange)t=this.$element[0].selectionStart,e=this.$element[0].selectionEnd;else if(document.selection&&document.selection.createRange){var i=document.selection.createRange();t=0-i.duplicate().moveStart("character",-1e5),e=t+i.text.length}return{begin:t,end:e}}},n.prototype.seekNext=function(t){for(var e=this.mask.length;++t<=e&&!this.tests[t];);return t},n.prototype.seekPrev=function(t){for(;--t>=0&&!this.tests[t];);return t},n.prototype.shiftL=function(t,e){var i=this.mask.length;if(!(0>t)){for(var l=t,n=this.seekNext(e);i>l;l++)if(this.tests[l]){if(!(i>n&&this.tests[l].test(this.buffer[n])))break;this.buffer[l]=this.buffer[n],this.buffer[n]=this.options.placeholder,n=this.seekNext(n)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,t))}},n.prototype.shiftR=function(t){for(var e=this.mask.length,i=t,l=this.options.placeholder;e>i;i++)if(this.tests[i]){var n=this.seekNext(i),s=this.buffer[i];if(this.buffer[i]=l,!(e>n&&this.tests[n].test(s)))break;l=s}},n.prototype.unmask=function(){this.$element.unbind(".mask").removeData("inputmask")},n.prototype.focusEvent=function(){this.focusText=this.$element.val();var t=this.mask.length,e=this.checkVal();this.writeBuffer();var i=this,l=function(){e==t?i.caret(0,e):i.caret(e)};l(),setTimeout(l,50)},n.prototype.blurEvent=function(){this.checkVal(),this.$element.val()!==this.focusText&&this.$element.trigger("change")},n.prototype.keydownEvent=function(t){var i=t.which;if(8==i||46==i||e&&127==i){var l=this.caret(),n=l.begin,s=l.end;return s-n===0&&(n=46!=i?this.seekPrev(n):s=this.seekNext(n-1),s=46==i?this.seekNext(s):s),this.clearBuffer(n,s),this.shiftL(n,s-1),!1}return 27==i?(this.$element.val(this.focusText),this.caret(0,this.checkVal()),!1):void 0},n.prototype.keypressEvent=function(t){var e=this.mask.length,i=t.which,l=this.caret();if(t.ctrlKey||t.altKey||t.metaKey||32>i)return!0;if(i){l.end-l.begin!==0&&(this.clearBuffer(l.begin,l.end),this.shiftL(l.begin,l.end-1));var n=this.seekNext(l.begin-1);if(e>n){var s=String.fromCharCode(i);if(this.tests[n].test(s)){this.shiftR(n),this.buffer[n]=s,this.writeBuffer();var a=this.seekNext(n);this.caret(a)}}return!1}},n.prototype.pasteEvent=function(){var t=this;setTimeout(function(){t.caret(t.checkVal(!0))},0)},n.prototype.clearBuffer=function(t,e){for(var i=this.mask.length,l=t;e>l&&i>l;l++)this.tests[l]&&(this.buffer[l]=this.options.placeholder)},n.prototype.writeBuffer=function(){return this.$element.val(this.buffer.join("")).val()},n.prototype.checkVal=function(t){for(var e=this.mask.length,i=this.$element.val(),l=-1,n=0,s=0;e>n;n++)if(this.tests[n]){for(this.buffer[n]=this.options.placeholder;s++<i.length;){var a=i.charAt(s-1);if(this.tests[n].test(a)){this.buffer[n]=a,l=n;break}}if(s>i.length)break}else this.buffer[n]==i.charAt(s)&&n!=this.partialPosition&&(s++,l=n);return!t&&l+1<this.partialPosition?(this.$element.val(""),this.clearBuffer(0,e)):(t||l+1>=this.partialPosition)&&(this.writeBuffer(),t||this.$element.val(this.$element.val().substring(0,l+1))),this.partialPosition?n:this.firstNonMaskPos};var s=t.fn.inputmask;t.fn.inputmask=function(e){return this.each(function(){var i=t(this),l=i.data("inputmask");l||i.data("inputmask",l=new n(this,e))})},t.fn.inputmask.Constructor=n,t.fn.inputmask.noConflict=function(){return t.fn.inputmask=s,this},t(document).on("focus.bs.inputmask.data-api","[data-mask]",function(){var e=t(this);e.data("inputmask")||e.inputmask(e.data())})}(window.jQuery),+function(t){"use strict";var e="Microsoft Internet Explorer"==window.navigator.appName,i=function(e,i){if(this.$element=t(e),this.$input=this.$element.find(":file"),0!==this.$input.length){this.name=this.$input.attr("name")||i.name,this.$hidden=this.$element.find('input[type=hidden][name="'+this.name+'"]'),0===this.$hidden.length&&(this.$hidden=t('<input type="hidden">').insertBefore(this.$input)),this.$preview=this.$element.find(".fileinput-preview");var l=this.$preview.css("height");"inline"!==this.$preview.css("display")&&"0px"!==l&&"none"!==l&&this.$preview.css("line-height",l),this.original={exists:this.$element.hasClass("fileinput-exists"),preview:this.$preview.html(),hiddenVal:this.$hidden.val()},this.listen()}};i.prototype.listen=function(){this.$input.on("change.bs.fileinput",t.proxy(this.change,this)),t(this.$input[0].form).on("reset.bs.fileinput",t.proxy(this.reset,this)),this.$element.find('[data-trigger="fileinput"]').on("click.bs.fileinput",t.proxy(this.trigger,this)),this.$element.find('[data-dismiss="fileinput"]').on("click.bs.fileinput",t.proxy(this.clear,this))},i.prototype.change=function(e){var i=void 0===e.target.files?e.target&&e.target.value?[{name:e.target.value.replace(/^.+\\/,"")}]:[]:e.target.files;if(e.stopPropagation(),0===i.length)return void this.clear();this.$hidden.val(""),this.$hidden.attr("name",""),this.$input.attr("name",this.name);var l=i[0];if(this.$preview.length>0&&("undefined"!=typeof l.type?l.type.match(/^image\/(gif|png|jpeg)$/):l.name.match(/\.(gif|png|jpe?g)$/i))&&"undefined"!=typeof FileReader){var n=new FileReader,s=this.$preview,a=this.$element;n.onload=function(e){var n=t("<img>");n[0].src=e.target.result,i[0].result=e.target.result,a.find(".fileinput-filename").text(l.name),"none"!=s.css("max-height")&&n.css("max-height",parseInt(s.css("max-height"),10)-parseInt(s.css("padding-top"),10)-parseInt(s.css("padding-bottom"),10)-parseInt(s.css("border-top"),10)-parseInt(s.css("border-bottom"),10)),s.html(n),a.addClass("fileinput-exists").removeClass("fileinput-new"),a.trigger("change.bs.fileinput",i)},n.readAsDataURL(l)}else this.$element.find(".fileinput-filename").text(l.name),this.$preview.text(l.name),this.$element.addClass("fileinput-exists").removeClass("fileinput-new"),this.$element.trigger("change.bs.fileinput")},i.prototype.clear=function(t){if(t&&t.preventDefault(),this.$hidden.val(""),this.$hidden.attr("name",this.name),this.$input.attr("name",""),e){var i=this.$input.clone(!0);this.$input.after(i),this.$input.remove(),this.$input=i}else this.$input.val("");this.$preview.html(""),this.$element.find(".fileinput-filename").text(""),this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),void 0!==t&&(this.$input.trigger("change"),this.$element.trigger("clear.bs.fileinput"))},i.prototype.reset=function(){this.clear(),this.$hidden.val(this.original.hiddenVal),this.$preview.html(this.original.preview),this.$element.find(".fileinput-filename").text(""),this.original.exists?this.$element.addClass("fileinput-exists").removeClass("fileinput-new"):this.$element.addClass("fileinput-new").removeClass("fileinput-exists"),this.$element.trigger("reset.bs.fileinput")},i.prototype.trigger=function(t){this.$input.trigger("click"),t.preventDefault()};var l=t.fn.fileinput;t.fn.fileinput=function(e){return this.each(function(){var l=t(this),n=l.data("fileinput");n||l.data("fileinput",n=new i(this,e)),"string"==typeof e&&n[e]()})},t.fn.fileinput.Constructor=i,t.fn.fileinput.noConflict=function(){return t.fn.fileinput=l,this},t(document).on("click.fileinput.data-api",'[data-provides="fileinput"]',function(e){var i=t(this);if(!i.data("fileinput")){i.fileinput(i.data());var l=t(e.target).closest('[data-dismiss="fileinput"],[data-trigger="fileinput"]');l.length>0&&(e.preventDefault(),l.trigger("click.bs.fileinput"))}})}(window.jQuery),/*!jQuery Knob*/
/**
 * Downward compatible, touchable dial
 *
 * Version: 1.2.8
 * Requires: jQuery v1.7+
 *
 * Copyright (c) 2012 Anthony Terrien
 * Under MIT License (http://www.opensource.org/licenses/mit-license.php)
 *
 * Thanks to vor, eskimoblood, spiffistan, FabrizioC
 */
function(t){"use strict";var e={},i=Math.max,l=Math.min;e.c={},e.c.d=t(document),e.c.t=function(t){return t.originalEvent.touches.length-1},e.o=function(){var i=this;this.o=null,this.$=null,this.i=null,this.g=null,this.v=null,this.cv=null,this.x=0,this.y=0,this.w=0,this.h=0,this.$c=null,this.c=null,this.t=0,this.isInit=!1,this.fgColor=null,this.pColor=null,this.dH=null,this.cH=null,this.eH=null,this.rH=null,this.scale=1,this.relative=!1,this.relativeWidth=!1,this.relativeHeight=!1,this.$div=null,this.run=function(){var e=function(t,e){var l;for(l in e)i.o[l]=e[l];i._carve().init(),i._configure()._draw()};if(!this.$.data("kontroled")){if(this.$.data("kontroled",!0),this.extend(),this.o=t.extend({min:void 0!==this.$.data("min")?this.$.data("min"):0,max:void 0!==this.$.data("max")?this.$.data("max"):100,stopper:!0,readOnly:this.$.data("readonly")||"readonly"===this.$.attr("readonly"),cursor:this.$.data("cursor")===!0&&30||this.$.data("cursor")||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),.01)||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:null==this.$.data("displayinput")||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:!1,step:this.$.data("step")||1,rotation:this.$.data("rotation"),draw:null,change:null,cancel:null,release:null,format:function(t){return t},parse:function(t){return parseFloat(t)}},this.o),this.o.flip="anticlockwise"===this.o.rotation||"acw"===this.o.rotation,this.o.inputColor||(this.o.inputColor=this.o.fgColor),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each(function(e){var l=t(this);i.i[e]=l,i.v[e]=i.o.parse(l.val()),l.bind("change blur",function(){var t={};t[e]=l.val(),i.val(t)})}),this.$.find("legend").remove()):(this.i=this.$,this.v=this.o.parse(this.$.val()),""===this.v&&(this.v=this.o.min),this.$.bind("change blur",function(){i.val(i._validate(i.o.parse(i.$.val())))})),!this.o.displayInput&&this.$.hide(),this.$c=t(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height}),this.$div=t('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>'),this.$.wrap(this.$div).before(this.$c),this.$div=this.$.parent(),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.$c[0]),this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null,!this.c)throw{name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}};return this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1),this.relativeWidth=this.o.width%1!==0&&this.o.width.indexOf("%"),this.relativeHeight=this.o.height%1!==0&&this.o.height.indexOf("%"),this.relative=this.relativeWidth||this.relativeHeight,this._carve(),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",e).parent().bind("configure",e),this._listen()._configure()._xy().init(),this.isInit=!0,this.$.val(this.o.format(this.v)),this._draw(),this}},this._carve=function(){if(this.relative){var t=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),e=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(t,e)}else this.w=this.o.width,this.h=this.o.height;return this.$div.css({width:this.w+"px",height:this.h+"px"}),this.$c.attr({width:this.w,height:this.h}),1!==this.scale&&(this.$c[0].width=this.$c[0].width*this.scale,this.$c[0].height=this.$c[0].height*this.scale,this.$c.width(this.w),this.$c.height(this.h)),this},this._draw=function(){var t=!0;i.g=i.c,i.clear(),i.dH&&(t=i.dH()),t!==!1&&i.draw()},this._touch=function(t){var l=function(t){var e=i.xy2val(t.originalEvent.touches[i.t].pageX,t.originalEvent.touches[i.t].pageY);e!=i.cv&&(i.cH&&i.cH(e)===!1||(i.change(i._validate(e)),i._draw()))};return this.t=e.c.t(t),l(t),e.c.d.bind("touchmove.k",l).bind("touchend.k",function(){e.c.d.unbind("touchmove.k touchend.k"),i.val(i.cv)}),this},this._mouse=function(t){var l=function(t){var e=i.xy2val(t.pageX,t.pageY);e!=i.cv&&(i.cH&&i.cH(e)===!1||(i.change(i._validate(e)),i._draw()))};return l(t),e.c.d.bind("mousemove.k",l).bind("keyup.k",function(t){if(27===t.keyCode){if(e.c.d.unbind("mouseup.k mousemove.k keyup.k"),i.eH&&i.eH()===!1)return;i.cancel()}}).bind("mouseup.k",function(){e.c.d.unbind("mousemove.k mouseup.k keyup.k"),i.val(i.cv)}),this},this._xy=function(){var t=this.$c.offset();return this.x=t.left,this.y=t.top,this},this._listen=function(){return this.o.readOnly?this.$.attr("readonly","readonly"):(this.$c.bind("mousedown",function(t){t.preventDefault(),i._xy()._mouse(t)}).bind("touchstart",function(t){t.preventDefault(),i._xy()._touch(t)}),this.listen()),this.relative&&t(window).resize(function(){i._carve().init(),i._draw()}),this},this._configure=function(){return this.o.draw&&(this.dH=this.o.draw),this.o.change&&(this.cH=this.o.change),this.o.cancel&&(this.eH=this.o.cancel),this.o.release&&(this.rH=this.o.release),this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor,this},this._clear=function(){this.$c[0].width=this.$c[0].width},this._validate=function(t){return~~((0>t?-.5:.5)+t/this.o.step)*this.o.step},this.listen=function(){},this.extend=function(){},this.init=function(){},this.change=function(){},this.val=function(){},this.xy2val=function(){},this.draw=function(){},this.clear=function(){this._clear()},this.h2rgba=function(t,e){var i;return t=t.substring(1,7),i=[parseInt(t.substring(0,2),16),parseInt(t.substring(2,4),16),parseInt(t.substring(4,6),16)],"rgba("+i[0]+","+i[1]+","+i[2]+","+e+")"},this.copy=function(t,e){for(var i in t)e[i]=t[i]}},e.Dial=function(){e.o.call(this),this.startAngle=null,this.xy=null,this.radius=null,this.lineWidth=null,this.cursorExt=null,this.w2=null,this.PI2=2*Math.PI,this.extend=function(){this.o=t.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)},this.val=function(t,e){return null==t?this.v:(t=this.o.parse(t),void(e!==!1&&t!=this.v&&this.rH&&this.rH(t)===!1||(this.cv=this.o.stopper?i(l(t,this.o.max),this.o.min):t,this.v=this.cv,this.$.val(this.o.format(this.v)),this._draw())))},this.xy2val=function(t,e){var n,s;return n=Math.atan2(t-(this.x+this.w2),-(e-this.y-this.w2))-this.angleOffset,this.o.flip&&(n=this.angleArc-n-this.PI2),this.angleArc!=this.PI2&&0>n&&n>-.5?n=0:0>n&&(n+=this.PI2),s=~~(.5+n*(this.o.max-this.o.min)/this.angleArc)+this.o.min,this.o.stopper&&(s=i(l(s,this.o.max),this.o.min)),s},this.listen=function(){var e,n,s,a,o=this,r=function(t){t.preventDefault();var s=t.originalEvent,a=s.detail||s.wheelDeltaX,r=s.detail||s.wheelDeltaY,h=o._validate(o.o.parse(o.$.val()))+(a>0||r>0?o.o.step:0>a||0>r?-o.o.step:0);h=i(l(h,o.o.max),o.o.min),o.val(h,!1),o.rH&&(clearTimeout(e),e=setTimeout(function(){o.rH(h),e=null},100),n||(n=setTimeout(function(){e&&o.rH(h),n=null},200)))},h=1,c={37:-o.o.step,38:o.o.step,39:o.o.step,40:-o.o.step};this.$.bind("keydown",function(e){var n=e.keyCode;if(n>=96&&105>=n&&(n=e.keyCode=n-48),s=parseInt(String.fromCharCode(n)),isNaN(s)&&(13!==n&&8!==n&&9!==n&&189!==n&&(190!==n||o.$.val().match(/\./))&&e.preventDefault(),t.inArray(n,[37,38,39,40])>-1)){e.preventDefault();var r=o.o.parse(o.$.val())+c[n]*h;o.o.stopper&&(r=i(l(r,o.o.max),o.o.min)),o.change(r),o._draw(),a=window.setTimeout(function(){h*=2},30)}}).bind("keyup",function(){isNaN(s)?a&&(window.clearTimeout(a),a=null,h=1,o.val(o.$.val())):o.$.val()>o.o.max&&o.$.val(o.o.max)||o.$.val()<o.o.min&&o.$.val(o.o.min)}),this.$c.bind("mousewheel DOMMouseScroll",r),this.$.bind("mousewheel DOMMouseScroll",r)},this.init=function(){(this.v<this.o.min||this.v>this.o.max)&&(this.v=this.o.min),this.$.val(this.v),this.w2=this.w/2,this.cursorExt=this.o.cursor/100,this.xy=this.w2*this.scale,this.lineWidth=this.xy*this.o.thickness,this.lineCap=this.o.lineCap,this.radius=this.xy-this.lineWidth/2,this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset),this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc),this.angleOffset=this.o.angleOffset*Math.PI/180,this.angleArc=this.o.angleArc*Math.PI/180,this.startAngle=1.5*Math.PI+this.angleOffset,this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var t=i(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.w/2+4>>0)+"px",height:(this.w/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.w/3>>0)+"px","margin-left":"-"+(3*this.w/4+2>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+(this.w/t>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})},this.change=function(t){this.cv=t,this.$.val(this.o.format(t))},this.angle=function(t){return(t-this.o.min)*this.angleArc/(this.o.max-this.o.min)},this.arc=function(t){var e,i;return t=this.angle(t),this.o.flip?(e=this.endAngle+1e-5,i=e-t-1e-5):(e=this.startAngle-1e-5,i=e+t+1e-5),this.o.cursor&&(e=i-this.cursorExt)&&(i+=this.cursorExt),{s:e,e:i,d:this.o.flip&&!this.o.cursor}},this.draw=function(){var t,e=this.g,i=this.arc(this.cv),l=1;e.lineWidth=this.lineWidth,e.lineCap=this.lineCap,e.beginPath(),e.strokeStyle=this.o.bgColor,e.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,!0),e.stroke(),this.o.displayPrevious&&(t=this.arc(this.v),e.beginPath(),e.strokeStyle=this.pColor,e.arc(this.xy,this.xy,this.radius,t.s,t.e,t.d),e.stroke(),l=this.cv==this.v),e.beginPath(),e.strokeStyle=l?this.o.fgColor:this.fgColor,e.arc(this.xy,this.xy,this.radius,i.s,i.e,i.d),e.stroke()},this.cancel=function(){this.val(this.v)}},t.fn.dial=t.fn.knob=function(i){return this.each(function(){var l=new e.Dial;l.o=i,l.$=t(this),l.run()}).parent()}}(jQuery),function(t){function e(e,i){var s=!1;return t.each(e?n:l,function(e){return t(i).hasClass(e)?(s=e,!1):void 0}),s}var i=t.fn.val,l={},n={},s={};t.classVal=function(t,e,i,a){"string"==typeof t&&"boolean"==typeof a&&(e&&(l[t]=e),i&&(n[t]=i),s[t]=a)},t.fn.val=function(){var a,o,r=Array.prototype.slice.call(arguments,0);return r.length?this.each(function(){(a=e(!0,this))?(o=s[a]?t(this):this,o[n[a]].apply(this,r)):i.apply(t(this),r)}):(a=e(!1,this))?(o=s[a]?this:this[0],o[l[a]].apply(o)):i.apply(this)}}(window.jQuery||window.Zepto),function(t){function e(t,e,i){if((t[e]||t[i])&&t[e]===t[i])throw Error("(Link) '"+e+"' can't match '"+i+"'.'")}function i(i){if(void 0===i&&(i={}),"object"!=typeof i)throw Error("(Format) 'format' option must be an object.");var l={};t(n).each(function(t,e){if(void 0===i[e])l[e]=s[t];else{if(typeof i[e]!=typeof s[t])throw Error("(Format) 'format."+e+"' must be a "+typeof s[t]+".");if("decimals"===e&&(0>i[e]||7<i[e]))throw Error("(Format) 'format.decimals' option must be between 0 and 7.");l[e]=i[e]}}),e(l,"mark","thousand"),e(l,"prefix","negative"),e(l,"prefix","negativeBefore"),this.r=l}function l(e,i){return"object"!=typeof e&&t.error("(Link) Initialize with an object."),new l.prototype.p(e.target||function(){},e.method,e.format||{},i)}var n="decimals mark thousand prefix postfix encoder decoder negative negativeBefore to from".split(" "),s=[2,".","","","",function(t){return t},function(t){return t},"-","",function(t){return t},function(t){return t}];i.prototype.a=function(t){return this.r[t]},i.prototype.L=function(t){function e(t){return t.split("").reverse().join("")}t=this.a("encoder")(t);var i=this.a("decimals"),l="",n="",s="",a="";return 0===parseFloat(t.toFixed(i))&&(t="0"),0>t&&(l=this.a("negative"),n=this.a("negativeBefore")),t=Math.abs(t).toFixed(i).toString(),t=t.split("."),this.a("thousand")?(s=e(t[0]).match(/.{1,3}/g),s=e(s.join(e(this.a("thousand"))))):s=t[0],this.a("mark")&&1<t.length&&(a=this.a("mark")+t[1]),this.a("to")(n+this.a("prefix")+l+s+a+this.a("postfix"))},i.prototype.w=function(t){function e(t){return t.replace(/[\-\/\\\^$*+?.()|\[\]{}]/g,"\\$&")}var i;return null===t||void 0===t?!1:(t=this.a("from")(t),t=t.toString(),i=t.replace(RegExp("^"+e(this.a("negativeBefore"))),""),t!==i?(t=i,i="-"):i="",t=t.replace(RegExp("^"+e(this.a("prefix"))),""),this.a("negative")&&(i="",t=t.replace(RegExp("^"+e(this.a("negative"))),"-")),t=t.replace(RegExp(e(this.a("postfix"))+"$"),"").replace(RegExp(e(this.a("thousand")),"g"),"").replace(this.a("mark"),"."),t=this.a("decoder")(parseFloat(i+t)),isNaN(t)?!1:t)},l.prototype.K=function(e,i){this.method=i||"html",this.j=t(e.replace("-tooltip-","")||"<div/>")[0]},l.prototype.H=function(t){this.method="val",this.j=document.createElement("input"),this.j.name=t,this.j.type="hidden"},l.prototype.G=function(e){function i(t,e){return[e?null:t,e?t:null]}var l=this;this.method="val",this.target=e.on("change",function(e){l.B.val(i(t(e.target).val(),l.t),{link:l,set:!0})})},l.prototype.p=function(e,i,l,n){if(this.g=l,this.update=!n,"string"==typeof e&&0===e.indexOf("-tooltip-"))this.K(e,i);else if("string"==typeof e&&0!==e.indexOf("-"))this.H(e);else{if("function"!=typeof e){if(e instanceof t||t.zepto&&t.zepto.isZ(e)){if(!i){if(e.is("input, select, textarea"))return void this.G(e);i="html"}if("function"==typeof i||"string"==typeof i&&e[i])return this.method=i,void(this.target=e)}throw new RangeError("(Link) Invalid Link.")}this.target=!1,this.method=e}},l.prototype.write=function(t,e,i,l){this.update&&!1===l||(this.u=t,this.F=t=this.format(t),"function"==typeof this.method?this.method.call(this.target[0]||i[0],t,e,i):this.target[this.method](t,e,i))},l.prototype.q=function(e){this.g=new i(t.extend({},e,this.g instanceof i?this.g.r:this.g))},l.prototype.J=function(t){this.B=t},l.prototype.I=function(t){this.t=t},l.prototype.format=function(t){return this.g.L(t)},l.prototype.A=function(t){return this.g.w(t)},l.prototype.p.prototype=l.prototype,t.Link=l}(window.jQuery||window.Zepto),function(t){function e(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function i(e){return t.isArray(e)?e:[e]}function l(t,e){t.addClass(e),setTimeout(function(){t.removeClass(e)},300)}function n(t,e){return 100*e/(t[1]-t[0])}function s(t,e){if(e>=t.d.slice(-1)[0])return 100;for(var i,l,s,a=1;e>=t.d[a];)a++;return i=t.d[a-1],l=t.d[a],s=t.c[a-1],i=[i,l],s+n(i,0>i[0]?e+Math.abs(i[0]):e-i[0])/(100/(t.c[a]-s))}function a(t,e){if(e>=100)return t.d.slice(-1)[0];for(var i,l,n,s=1;e>=t.c[s];)s++;return i=t.d[s-1],l=t.d[s],n=t.c[s-1],i=[i,l],100/(t.c[s]-n)*(e-n)*(i[1]-i[0])/100+i[0]}function o(t,e){for(var i,l=1;e>=t.c[l];)l++;return t.m?(i=t.c[l-1],l=t.c[l],e-i>(l-i)/2?l:i):(t.h[l-1]?(i=t.h[l-1],l=t.c[l-1]+Math.round((e-t.c[l-1])/i)*i):l=e,l)}function r(t,i){if(!e(i))throw Error("noUiSlider: 'step' is not numeric.");t.h[0]=i}function h(i,l){if("object"!=typeof l||t.isArray(l))throw Error("noUiSlider: 'range' is not an object.");t.each(l,function(l,n){var s;if("number"==typeof n&&(n=[n]),!t.isArray(n))throw Error("noUiSlider: 'range' contains invalid value.");if(s="min"===l?0:"max"===l?100:parseFloat(l),!e(s)||!e(n[0]))throw Error("noUiSlider: 'range' value isn't numeric.");i.c.push(s),i.d.push(n[0]),s?i.h.push(isNaN(n[1])?!1:n[1]):isNaN(n[1])||(i.h[0]=n[1])}),t.each(i.h,function(t,e){return e?void(i.h[t]=n([i.d[t],i.d[t+1]],e)/(100/(i.c[t+1]-i.c[t]))):!0})}function c(e,i){if("number"==typeof i&&(i=[i]),!t.isArray(i)||!i.length||2<i.length)throw Error("noUiSlider: 'start' option is incorrect.");e.b=i.length,e.start=i}function u(t,e){if(t.m=e,"boolean"!=typeof e)throw Error("noUiSlider: 'snap' option must be a boolean.")}function d(t,e){if("lower"===e&&1===t.b)t.i=1;else if("upper"===e&&1===t.b)t.i=2;else if(!0===e&&2===t.b)t.i=3;else{if(!1!==e)throw Error("noUiSlider: 'connect' option doesn't match handle count.");t.i=0}}function p(t,e){switch(e){case"horizontal":t.k=0;break;case"vertical":t.k=1;break;default:throw Error("noUiSlider: 'orientation' option is invalid.")}}function f(t,i){if(2<t.c.length)throw Error("noUiSlider: 'margin' option is only supported on linear sliders.");if(t.margin=n(t.d,i),!e(i))throw Error("noUiSlider: 'margin' option must be numeric.")}function m(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1,t.i=[0,2,1,3][t.i];break;default:throw Error("noUiSlider: 'direction' option was not recognized.")}}function g(t,e){if("string"!=typeof e)throw Error("noUiSlider: 'behaviour' must be a string containing options.");var i=0<=e.indexOf("snap");t.n={s:0<=e.indexOf("tap")||i,extend:0<=e.indexOf("extend"),v:0<=e.indexOf("drag"),fixed:0<=e.indexOf("fixed"),m:i}}function v(e,i,l){e.o=[i.lower,i.upper],e.g=i.format,t.each(e.o,function(e,n){if(!t.isArray(n))throw Error("noUiSlider: 'serialization."+(e?"upper":"lower")+"' must be an array.");t.each(n,function(){if(!(this instanceof t.Link))throw Error("noUiSlider: 'serialization."+(e?"upper":"lower")+"' can only contain Link instances.");this.I(e),this.J(l),this.q(i.format)})}),e.dir&&1<e.b&&e.o.reverse()}function b(e,i){var l,n={c:[],d:[],h:[!1],margin:0};return l={step:{e:!1,f:r},range:{e:!0,f:h},start:{e:!0,f:c},snap:{e:!1,f:u},connect:{e:!0,f:d},orientation:{e:!1,f:p},margin:{e:!1,f:f},direction:{e:!0,f:m},behaviour:{e:!0,f:g},serialization:{e:!0,f:v}},e=t.extend({connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"},e),e.serialization=t.extend({lower:[],upper:[],format:{}},e.serialization),t.each(l,function(t,l){if(void 0===e[t]){if(l.e)throw Error("noUiSlider: '"+t+"' is required.");return!0}l.f(n,e[t],i)}),n.style=n.k?"top":"left",n}function y(e,i){var l=t("<div><div/></div>").addClass(A[2]),n=["-lower","-upper"];return e.dir&&n.reverse(),l.children().addClass(A[3]+" "+A[3]+n[i]),l}function _(e,i){return i.j&&(i=new t.Link({target:t(i.j).clone().appendTo(e),method:i.method,format:i.g},!0)),i}function w(e,i){var l,n=[];for(l=0;l<e.b;l++){var s=n,a=l,o=e.o[l],r=i[l].children(),h=e.g,c=void 0,u=[],c=new t.Link({},!0);for(c.q(h),u.push(c),c=0;c<o.length;c++)u.push(_(r,o[c]));s[a]=u}return n}function x(t,e,i){switch(t){case 1:e.addClass(A[7]),i[0].addClass(A[6]);break;case 3:i[1].addClass(A[6]);case 2:i[0].addClass(A[7]);case 0:e.addClass(A[6])}}function k(t,e){var i,l=[];for(i=0;i<t.b;i++)l.push(y(t,i).appendTo(e));return l}function C(e,i){return i.addClass([A[0],A[8+e.dir],A[4+e.k]].join(" ")),t("<div/>").appendTo(i).addClass(A[1])}function M(e,n,r){function h(){return y[["width","height"][n.k]]()}function c(t){var e,i=[D.val()];for(e=0;e<t.length;e++)D.trigger(t[e],i)}function u(e,i,l){var s=e[0]!==M[0][0]?1:0,r=S[0]+n.margin,h=S[1]-n.margin;return l&&1<M.length&&(i=s?Math.max(i,r):Math.min(i,h)),100>i&&(i=o(n,i)),i=Math.max(Math.min(parseFloat(i.toFixed(7)),100),0),i===S[s]?1===M.length?!1:i===r||i===h?0:!1:(e.css(n.style,i+"%"),e.is(":first-child")&&e.toggleClass(A[17],i>50),S[s]=i,n.dir&&(i=100-i),t(_[s]).each(function(){this.write(a(n,i),e.children(),D)}),!0)}function d(t,e,i){i||l(D,A[14]),u(t,e,!1),c(["slide","set","change"])}function p(t,e,i,l){t=t.replace(/\s/g,".nui ")+".nui",e.on(t,function(t){var e=D.attr("disabled");if(D.hasClass(A[14])||void 0!==e&&null!==e)return!1;t.preventDefault();var s,a,e=0===t.type.indexOf("touch"),o=0===t.type.indexOf("mouse"),r=0===t.type.indexOf("pointer"),h=t;0===t.type.indexOf("MSPointer")&&(r=!0),t.originalEvent&&(t=t.originalEvent),e&&(s=t.changedTouches[0].pageX,a=t.changedTouches[0].pageY),(o||r)&&(r||void 0!==window.pageXOffset||(window.pageXOffset=document.documentElement.scrollLeft,window.pageYOffset=document.documentElement.scrollTop),s=t.clientX+window.pageXOffset,a=t.clientY+window.pageYOffset),h.C=[s,a],h.cursor=o,t=h,t.l=t.C[n.k],i(t,l)})}function f(t,e){var i,l=e.b||M,n=!1,n=100*(t.l-e.start)/h(),s=l[0][0]!==M[0][0]?1:0,a=e.D;i=n+a[0],n+=a[1],1<l.length?(0>i&&(n+=Math.abs(i)),n>100&&(i-=n-100),i=[Math.max(Math.min(i,100),0),Math.max(Math.min(n,100),0)]):i=[i,n],n=u(l[0],i[s],1===l.length),1<l.length&&(n=u(l[1],i[s?0:1],!1)||n),n&&c(["slide"])}function m(e){t("."+A[15]).removeClass(A[15]),e.cursor&&t("body").css("cursor","").off(".nui"),T.off(".nui"),D.removeClass(A[12]),c(["set","change"])}function g(e,i){1===i.b.length&&i.b[0].children().addClass(A[15]),e.stopPropagation(),p(E.move,T,f,{start:e.l,b:i.b,D:[S[0],S[M.length-1]]}),p(E.end,T,m,null),e.cursor&&(t("body").css("cursor",t(e.target).css("cursor")),1<M.length&&D.addClass(A[12]),t("body").on("selectstart.nui",!1))}function v(e){var i=e.l,l=0;e.stopPropagation(),t.each(M,function(){l+=this.offset()[n.style]}),l=l/2>i||1===M.length?0:1,i-=y.offset()[n.style],i=100*i/h(),d(M[l],i,n.n.m),n.n.m&&g(e,{b:[M[l]]})}function b(t){var e=(t=t.l<y.offset()[n.style])?0:100;t=t?0:M.length-1,d(M[t],e,!1)}var y,_,M,D=t(e),S=[-1,-1];if(D.hasClass(A[0]))throw Error("Slider was already initialized.");y=C(n,D),M=k(n,y),_=w(n,M),x(n.i,D,M),function(t){var e;if(!t.fixed)for(e=0;e<M.length;e++)p(E.start,M[e].children(),g,{b:[M[e]]});t.s&&p(E.start,y,v,{b:M}),t.extend&&(D.addClass(A[16]),t.s&&p(E.start,D,b,{b:M})),t.v&&(e=y.find("."+A[7]).addClass(A[10]),t.fixed&&(e=e.add(y.children().not(e).children())),p(E.start,e,g,{b:M}))}(n.n),e.vSet=function(){var e,a,o,r,h,d,p=Array.prototype.slice.call(arguments,0),f=i(p[0]);for("object"==typeof p[1]?(e=p[1].set,a=p[1].link,o=p[1].update,r=p[1].animate):!0===p[1]&&(e=!0),n.dir&&1<n.b&&f.reverse(),r&&l(D,A[14]),p=1<M.length?3:1,1===f.length&&(p=1),h=0;p>h;h++)r=a||_[h%2][0],r=r.A(f[h%2]),!1!==r&&(r=s(n,r),n.dir&&(r=100-r),!0!==u(M[h%2],r,!0)&&t(_[h%2]).each(function(t){return t?void this.write(d,M[h%2].children(),D,o):(d=this.u,!0)}));return!0===e&&c(["set"]),this},e.vGet=function(){var t,e=[];for(t=0;t<n.b;t++)e[t]=_[t][0].F;return 1===e.length?e[0]:n.dir?e.reverse():e},e.destroy=function(){return t.each(_,function(){t.each(this,function(){this.target&&this.target.off(".nui")})}),t(this).off(".nui").removeClass(A.join(" ")).empty(),r},D.val(n.start)}function D(t){if(!this.length)throw Error("noUiSlider: Can't initialize slider on empty selection.");var e=b(t,this);return this.each(function(){M(this,e,t)})}function S(e){return this.each(function(){var i=t(this).val(),l=this.destroy(),n=t.extend({},l,e);t(this).noUiSlider(n),l.start===n.start&&t(this).val(i)})}var T=t(document),E=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},A="noUi-target noUi-base noUi-origin noUi-handle noUi-horizontal noUi-vertical noUi-background noUi-connect noUi-ltr noUi-rtl noUi-dragable  noUi-state-drag  noUi-state-tap noUi-active noUi-extended noUi-stacking".split(" ");t.noUiSlider={Link:t.Link},t.fn.noUiSlider=function(t,e){return(e?S:D).call(this,t)},t.classVal(A[0],"vGet","vSet",!1)}(window.jQuery||window.Zepto),function(){function t(e,i,l){var n=t.resolve(e);if(null==n){l=l||e,i=i||"root";var s=new Error('Failed to require "'+l+'" from "'+i+'"');throw s.path=l,s.parent=i,s.require=!0,s}var a=t.modules[n];if(!a._resolving&&!a.exports){var o={};o.exports={},o.client=o.component=!0,a._resolving=!0,a.call(this,o.exports,t.relative(n),o),delete a._resolving,a.exports=o.exports}return a.exports}t.modules={},t.aliases={},t.resolve=function(e){"/"===e.charAt(0)&&(e=e.slice(1));for(var i=[e,e+".js",e+".json",e+"/index.js",e+"/index.json"],l=0;l<i.length;l++){var e=i[l];if(t.modules.hasOwnProperty(e))return e;if(t.aliases.hasOwnProperty(e))return t.aliases[e]}},t.normalize=function(t,e){var i=[];if("."!=e.charAt(0))return e;t=t.split("/"),e=e.split("/");for(var l=0;l<e.length;++l)".."==e[l]?t.pop():"."!=e[l]&&""!=e[l]&&i.push(e[l]);return t.concat(i).join("/")},t.register=function(e,i){t.modules[e]=i},t.alias=function(e,i){if(!t.modules.hasOwnProperty(e))throw new Error('Failed to alias "'+e+'", it does not exist');t.aliases[i]=e},t.relative=function(e){function i(t,e){for(var i=t.length;i--;)if(t[i]===e)return i;return-1}function l(i){var n=l.resolve(i);return t(n,e,i)}var n=t.normalize(e,"..");return l.resolve=function(l){var s=l.charAt(0);if("/"==s)return l.slice(1);if("."==s)return t.normalize(n,l);var a=e.split("/"),o=i(a,"deps")+1;return o||(o=0),l=a.slice(0,o+1).join("/")+"/deps/"+l},l.exists=function(e){return t.modules.hasOwnProperty(l.resolve(e))},l},t.register("abpetkov-transitionize/transitionize.js",function(t,e,i){function l(t,e){return this instanceof l?(this.element=t,this.props=e||{},void this.init()):new l(t,e)}i.exports=l,l.prototype.isSafari=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)},l.prototype.init=function(){var t=[];for(var e in this.props)t.push(e+" "+this.props[e]);this.element.style.transition=t.join(", "),this.isSafari()&&(this.element.style.webkitTransition=t.join(", "))}}),t.register("ftlabs-fastclick/lib/fastclick.js",function(t,e,i){function l(t){"use strict";var e,i=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=t,!t||!t.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return l.prototype.onClick.apply(i,arguments)},this.onMouse=function(){return l.prototype.onMouse.apply(i,arguments)},this.onTouchStart=function(){return l.prototype.onTouchStart.apply(i,arguments)},this.onTouchMove=function(){return l.prototype.onTouchMove.apply(i,arguments)},this.onTouchEnd=function(){return l.prototype.onTouchEnd.apply(i,arguments)},this.onTouchCancel=function(){return l.prototype.onTouchCancel.apply(i,arguments)},l.notNeeded(t)||(this.deviceIsAndroid&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,i,l){var n=Node.prototype.removeEventListener;"click"===e?n.call(t,e,i.hijacked||i,l):n.call(t,e,i,l)},t.addEventListener=function(e,i,l){var n=Node.prototype.addEventListener;"click"===e?n.call(t,e,i.hijacked||(i.hijacked=function(t){t.propagationStopped||i(t)}),l):n.call(t,e,i,l)}),"function"==typeof t.onclick&&(e=t.onclick,t.addEventListener("click",function(t){e(t)},!1),t.onclick=null))}l.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,l.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),l.prototype.deviceIsIOS4=l.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),l.prototype.deviceIsIOSWithBadTarget=l.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),l.prototype.needsClick=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===t.type||t.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(t.className)},l.prototype.needsFocus=function(t){"use strict";switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},l.prototype.sendClick=function(t,e){"use strict";var i,l;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),l=e.changedTouches[0],i=document.createEvent("MouseEvents"),i.initMouseEvent(this.determineEventType(t),!0,!0,window,1,l.screenX,l.screenY,l.clientX,l.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,t.dispatchEvent(i)},l.prototype.determineEventType=function(t){"use strict";return this.deviceIsAndroid&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},l.prototype.focus=function(t){"use strict";var e;this.deviceIsIOS&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},l.prototype.updateScrollParent=function(t){"use strict";var e,i;if(e=t.fastClickScrollParent,!e||!e.contains(t)){i=t;do{if(i.scrollHeight>i.offsetHeight){e=i,t.fastClickScrollParent=i;break}i=i.parentElement}while(i)}e&&(e.fastClickLastScrollTop=e.scrollTop)},l.prototype.getTargetElementFromEventTarget=function(t){"use strict";return t.nodeType===Node.TEXT_NODE?t.parentNode:t},l.prototype.onTouchStart=function(t){"use strict";var e,i,l;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),i=t.targetTouches[0],this.deviceIsIOS){if(l=window.getSelection(),l.rangeCount&&!l.isCollapsed)return!0;if(!this.deviceIsIOS4){if(i.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=i.pageX,this.touchStartY=i.pageY,t.timeStamp-this.lastClickTime<200&&t.preventDefault(),!0},l.prototype.touchHasMoved=function(t){"use strict";var e=t.changedTouches[0],i=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>i||Math.abs(e.pageY-this.touchStartY)>i},l.prototype.onTouchMove=function(t){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},l.prototype.findControl=function(t){"use strict";return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},l.prototype.onTouchEnd=function(t){"use strict";var e,i,l,n,s,a=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(s=t.changedTouches[0],a=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||a,a.fastClickScrollParent=this.targetElement.fastClickScrollParent),l=a.tagName.toLowerCase(),"label"===l){if(e=this.findControl(a)){if(this.focus(a),this.deviceIsAndroid)return!1;a=e}}else if(this.needsFocus(a))return t.timeStamp-i>100||this.deviceIsIOS&&window.top!==window&&"input"===l?(this.targetElement=null,!1):(this.focus(a),this.deviceIsIOS4&&"select"===l||(this.targetElement=null,t.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(n=a.fastClickScrollParent,n&&n.fastClickLastScrollTop!==n.scrollTop)?!0:(this.needsClick(a)||(t.preventDefault(),this.sendClick(a,t)),!1)},l.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},l.prototype.onMouse=function(t){"use strict";return this.targetElement?t.forwardedTouchEvent?!0:t.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1):!0:!0},l.prototype.onClick=function(t){"use strict";var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail?!0:(e=this.onMouse(t),e||(this.targetElement=null),e)},l.prototype.destroy=function(){"use strict";var t=this.layer;this.deviceIsAndroid&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},l.notNeeded=function(t){"use strict";var e,i;if("undefined"==typeof window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!l.prototype.deviceIsAndroid)return!0;if(e=document.querySelector("meta[name=viewport]")){
if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(i>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===t.style.msTouchAction},l.attach=function(t){"use strict";return new l(t)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return l}):"undefined"!=typeof i&&i.exports?(i.exports=l.attach,i.exports.FastClick=l):window.FastClick=l}),t.register("switchery/switchery.js",function(t,e,i){function l(t,e){if(!(this instanceof l))return new l(t,e);this.element=t,this.options=e||{};for(var i in a)null==this.options[i]&&(this.options[i]=a[i]);null!=this.element&&"checkbox"==this.element.type&&this.init()}var n=e("transitionize"),s=e("fastclick");i.exports=l;var a={color:"#64bd63",secondaryColor:"#dfdfdf",className:"switchery",disabled:!1,disabledOpacity:.5,speed:"0.4s"};l.prototype.hide=function(){this.element.style.display="none"},l.prototype.show=function(){var t=this.create();this.insertAfter(this.element,t)},l.prototype.create=function(){return this.switcher=document.createElement("span"),this.jack=document.createElement("small"),this.switcher.appendChild(this.jack),this.switcher.className=this.options.className,this.switcher},l.prototype.insertAfter=function(t,e){t.parentNode.insertBefore(e,t.nextSibling)},l.prototype.isChecked=function(){return this.element.checked},l.prototype.isDisabled=function(){return this.options.disabled||this.element.disabled},l.prototype.setPosition=function(t){var e=this.isChecked(),i=this.switcher,l=this.jack;t&&e?e=!1:t&&!e&&(e=!0),e===!0?(this.element.checked=!0,window.getComputedStyle?l.style.left=parseInt(window.getComputedStyle(i).width)-parseInt(window.getComputedStyle(l).width)+"px":l.style.left=parseInt(i.currentStyle.width)-parseInt(l.currentStyle.width)+"px",this.options.color&&this.colorize(),this.setSpeed()):(l.style.left=0,this.element.checked=!1,this.switcher.style.boxShadow="inset 0 0 0 0 "+this.options.secondaryColor,this.switcher.style.borderColor=this.options.secondaryColor,this.switcher.style.backgroundColor="",this.setSpeed())},l.prototype.setSpeed=function(){var t={},e={left:this.options.speed.replace(/[a-z]/,"")/2+"s"};t=this.isChecked()?{border:this.options.speed,"box-shadow":this.options.speed,"background-color":3*this.options.speed.replace(/[a-z]/,"")+"s"}:{border:this.options.speed,"box-shadow":this.options.speed},n(this.switcher,t),n(this.jack,e)},l.prototype.setAttributes=function(){var t=this.element.getAttribute("id"),e=this.element.getAttribute("name");t&&this.switcher.setAttribute("id",t),e&&this.switcher.setAttribute("name",e)},l.prototype.colorize=function(){this.switcher.style.backgroundColor=this.options.color,this.switcher.style.borderColor=this.options.color,this.switcher.style.boxShadow="inset 0 0 0 16px "+this.options.color},l.prototype.handleOnchange=function(){if("function"!=typeof Event&&document.fireEvent)this.element.fireEvent("onchange");else{var t=document.createEvent("HTMLEvents");t.initEvent("change",!0,!0),this.element.dispatchEvent(t)}},l.prototype.handleChange=function(){var t=this,e=this.element;e.addEventListener?e.addEventListener("change",function(){t.setPosition()}):e.attachEvent("onchange",function(){t.setPosition()})},l.prototype.handleClick=function(){var t=this,e=this.switcher;this.isDisabled()===!1?(s(e),e.addEventListener?e.addEventListener("click",function(){t.setPosition(!0),t.handleOnchange(t.element.checked)}):e.attachEvent("onclick",function(){t.setPosition(!0),t.handleOnchange(t.element.checked)})):(this.element.disabled=!0,this.switcher.style.opacity=this.options.disabledOpacity)},l.prototype.disableLabel=function(){for(var t=this.element.parentNode,e=document.getElementsByTagName("label"),i=null,l=0;l<e.length;l++)e[l].getAttribute("for")===this.element.id&&(i=!0);i!==!0&&"label"!==t.tagName.toLowerCase()||(t.addEventListener?t.addEventListener("click",function(t){t.preventDefault()}):t.attachEvent("onclick",function(t){t.returnValue=!1}))},l.prototype.markAsSwitched=function(){this.element.setAttribute("data-switchery",!0)},l.prototype.markedAsSwitched=function(){return this.element.getAttribute("data-switchery")},l.prototype.init=function(){this.hide(),this.show(),this.setPosition(),this.setAttributes(),this.markAsSwitched(),this.disableLabel(),this.handleChange(),this.handleClick()}}),t.alias("abpetkov-transitionize/transitionize.js","switchery/deps/transitionize/transitionize.js"),t.alias("abpetkov-transitionize/transitionize.js","switchery/deps/transitionize/index.js"),t.alias("abpetkov-transitionize/transitionize.js","transitionize/index.js"),t.alias("abpetkov-transitionize/transitionize.js","abpetkov-transitionize/index.js"),t.alias("ftlabs-fastclick/lib/fastclick.js","switchery/deps/fastclick/lib/fastclick.js"),t.alias("ftlabs-fastclick/lib/fastclick.js","switchery/deps/fastclick/index.js"),t.alias("ftlabs-fastclick/lib/fastclick.js","fastclick/index.js"),t.alias("ftlabs-fastclick/lib/fastclick.js","ftlabs-fastclick/index.js"),t.alias("switchery/switchery.js","switchery/index.js"),"object"==typeof exports?module.exports=t("switchery"):"function"==typeof define&&define.amd?define(function(){return t("switchery")}):this.Switchery=t("switchery")}(),/*!
 Chosen, a Select Box Enhancer for jQuery and Prototype
 by Patrick Filler for Harvest, http://getharvest.com

 Version 1.1.0
 Full source at https://github.com/harvesthq/chosen
 Copyright (c) 2011 Harvest http://getharvest.com

 MIT License, https://github.com/harvesthq/chosen/blob/master/LICENSE.md
 This file is generated by `grunt build`, do not edit it by hand.
 */
function(){var t,e,i,l,n,s={}.hasOwnProperty,a=function(t,e){function i(){this.constructor=t}for(var l in e)s.call(e,l)&&(t[l]=e[l]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};l=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,l,n,s,a;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:this.escapeExpression(t.label),children:0,disabled:t.disabled}),s=t.childNodes,a=[],l=0,n=s.length;n>l;l++)i=s[l],a.push(this.add_option(i,e,t.disabled));return a},t.prototype.add_option=function(t,e,i){return"OPTION"===t.nodeName.toUpperCase()?(""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:i===!0?i:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},t.prototype.escapeExpression=function(t){var e,i;return null==t||t===!1?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(i,function(t){return e[t]||"&amp;"})):t},t}(),l.select_to_array=function(t){var e,i,n,s,a;for(i=new l,a=t.childNodes,n=0,s=a.length;s>n;n++)e=a[n],i.add_node(e);return i.parsed},e=function(){function t(e,i){this.form_field=e,this.options=null!=i?i:{},t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},t.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(){var t=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return t.blur_test()},100))},t.prototype.results_option_build=function(t){var e,i,l,n,s;for(e="",s=this.results_data,l=0,n=s.length;n>l;l++)i=s[l],e+=i.group?this.result_add_group(i):this.result_add_option(i),(null!=t?t.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(i.text));return e},t.prototype.result_add_option=function(t){var e,i;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),i=document.createElement("li"),i.className=e.join(" "),i.style.cssText=t.style,i.setAttribute("data-option-array-index",t.array_index),i.innerHTML=t.search_text,this.outerHTML(i)):""},t.prototype.result_add_group=function(t){var e;return(t.search_match||t.group_match)&&t.active_options>0?(e=document.createElement("li"),e.className="group-result",e.innerHTML=t.search_text,this.outerHTML(e)):""},t.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},t.prototype.reset_single_select_options=function(){var t,e,i,l,n;for(l=this.results_data,n=[],e=0,i=l.length;i>e;e++)t=l[e],t.selected?n.push(t.selected=!1):n.push(void 0);return n},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(){var t,e,i,l,n,s,a,o,r,h,c,u,d;for(this.no_results_clear(),n=0,a=this.get_search_text(),t=a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=this.search_contains?"":"^",i=new RegExp(l+t,"i"),h=new RegExp(t,"i"),d=this.results_data,c=0,u=d.length;u>c;c++)e=d[c],e.search_match=!1,s=null,this.include_option_in_results(e)&&(e.group&&(e.group_match=!1,e.active_options=0),null!=e.group_array_index&&this.results_data[e.group_array_index]&&(s=this.results_data[e.group_array_index],0===s.active_options&&s.search_match&&(n+=1),s.active_options+=1),e.group&&!this.group_search||(e.search_text=e.group?e.label:e.html,e.search_match=this.search_string_match(e.search_text,i),e.search_match&&!e.group&&(n+=1),e.search_match?(a.length&&(o=e.search_text.search(h),r=e.search_text.substr(0,o+a.length)+"</em>"+e.search_text.substr(o+a.length),e.search_text=r.substr(0,o)+"<em>"+r.substr(o)),null!=s&&(s.group_match=!0)):null!=e.group_array_index&&this.results_data[e.group_array_index].search_match&&(e.search_match=!0)));return this.result_clear_highlight(),1>n&&a.length?(this.update_results_content(""),this.no_results(a)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},t.prototype.search_string_match=function(t,e){var i,l,n,s;if(e.test(t))return!0;if(this.enable_split_word_search&&(t.indexOf(" ")>=0||0===t.indexOf("["))&&(l=t.replace(/\[|\]/g,"").split(" "),l.length))for(n=0,s=l.length;s>n;n++)if(i=l[n],e.test(i))return!0},t.prototype.choices_count=function(){var t,e,i,l;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,l=this.form_field.options,e=0,i=l.length;i>e;e++)t=l[e],t.selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){return t.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},t.prototype.keyup_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},t.prototype.clipboard_event_checker=function(){var t=this;return setTimeout(function(){return t.results_search()},50)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},t.prototype.include_option_in_results=function(t){return this.is_multiple&&!this.display_selected_options&&t.selected?!1:!this.display_disabled_options&&t.disabled?!1:!t.empty},t.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},t.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},t.prototype.search_results_touchend=function(t){return this.touch_started?this.search_results_mouseup(t):void 0},t.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:(e=document.createElement("div"),e.appendChild(t),e.innerHTML)},t.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:!/Android/i.test(window.navigator.userAgent)||!/Mobile/i.test(window.navigator.userAgent)},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),t=jQuery,t.fn.extend({chosen:function(l){return e.browser_is_supported()?this.each(function(){var e,n;e=t(this),n=e.data("chosen"),"destroy"===l&&n?n.destroy():n||e.data("chosen",new i(this,l))}):this}}),i=function(e){function i(){return n=i.__super__.constructor.apply(this,arguments)}return a(i,e),i.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},i.prototype.set_up_html=function(){var e,i;return e=["chosen-container"],e.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),i={"class":e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",i),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){var t=this;return this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e)}),this.search_results.bind("touchstart.chosen",function(e){t.search_results_touchstart(e)}),this.search_results.bind("touchmove.chosen",function(e){t.search_results_touchmove(e)}),this.search_results.bind("touchend.chosen",function(e){t.search_results_touchend(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.form_field_jq.bind("chosen:close.chosen",function(e){t.input_blur(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.search_field.bind("cut.chosen",function(e){t.clipboard_event_checker(e)}),this.search_field.bind("paste.chosen",function(e){t.clipboard_event_checker(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(t){t.preventDefault()})},i.prototype.destroy=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},i.prototype.container_mousedown=function(e){return this.is_disabled||(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null!=e&&t(e.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},i.prototype.container_mouseup=function(t){return"ABBR"!==t.target.nodeName||this.is_disabled?void 0:this.results_reset(t)},i.prototype.search_results_mousewheel=function(t){var e;return t.originalEvent&&(e=-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e?(t.preventDefault(),"DOMMouseScroll"===t.type&&(e=40*e),this.search_results.scrollTop(e+this.search_results.scrollTop())):void 0},i.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},i.prototype.close_field=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(e){var i;return i=t(e.target).closest(".chosen-container"),i.length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=l.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(t){var e,i,l,n,s;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),l=parseInt(this.search_results.css("maxHeight"),10),s=this.search_results.scrollTop(),n=l+s,i=this.result_highlight.position().top+this.search_results.scrollTop(),e=i+this.result_highlight.outerHeight(),e>=n)return this.search_results.scrollTop(e-l>0?e-l:0);if(s>i)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},i.prototype.update_results_content=function(t){return this.search_results.html(t)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(){var t;return this.form_field.tabIndex?(t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t):void 0},i.prototype.set_label_behavior=function(){var e=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()}):void 0},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(e),this.search_field.focus()):void 0},i.prototype.search_results_mouseover=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},i.prototype.search_results_mouseout=function(e){return t(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},i.prototype.choice_build=function(e){var i,l,n=this;return i=t("<li />",{"class":"search-choice"}).html("<span>"+e.html+"</span>"),e.disabled?i.addClass("search-choice-disabled"):(l=t("<a />",{"class":"search-choice-close","data-option-array-index":e.array_index}),l.bind("click.chosen",function(t){return n.choice_destroy_link_click(t)}),i.append(l)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),e.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(t(e.target))},i.prototype.choice_destroy=function(t){return this.result_deselect(t[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()):void 0},i.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(t){var e,i;return this.result_highlight?(e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),i=this.results_data[e[0].getAttribute("data-option-array-index")],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(i.text),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},i.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(t)},i.prototype.result_deselect=function(t){var e;return e=this.results_data[t],this.form_field.options[e.options_index].disabled?!1:(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},i.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":t("<div/>").text(t.trim(this.search_field.val())).html()},i.prototype.winnow_results_set_highlight=function(){var t,e;return e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null!=t?this.result_do_highlight(t):void 0},i.prototype.no_results=function(e){var i;return i=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(e),this.search_results.append(i),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},i.prototype.search_field_scale=function(){var e,i,l,n,s,a,o,r,h;if(this.is_multiple){for(l=0,o=0,s="position:absolute; left: -1000px; top: -1000px; display:none;",a=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],r=0,h=a.length;h>r;r++)n=a[r],s+=n+":"+this.search_field.css(n)+";";return e=t("<div />",{style:s}),e.text(this.search_field.val()),t("body").append(e),o=e.width()+25,e.remove(),i=this.container.outerWidth(),o>i-10&&(o=i-10),this.search_field.css({width:o+"px"})}},i}(e)}.call(this),
//! moment.js
//! version : 2.9.0
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
function(t){function e(t,e,i){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:i;default:throw new Error("Implement me")}}function i(t,e){return St.call(t,e)}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function n(t){wt.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function s(t,e){var i=!0;return f(function(){return i&&(n(t),i=!1),e.apply(this,arguments)},e)}function a(t,e){be[t]||(n(e),be[t]=!0)}function o(t,e){return function(i){return v(t.call(this,i),e)}}function r(t,e){return function(i){return this.localeData().ordinal(t.call(this,i),e)}}function h(t,e){var i,l,n=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(n,"months");return 0>e-s?(i=t.clone().add(n-1,"months"),l=(e-s)/(s-i)):(i=t.clone().add(n+1,"months"),l=(e-s)/(i-s)),-(n+l)}function c(t,e,i){var l;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(l=t.isPM(i),l&&12>e&&(e+=12),l||12!==e||(e=0),e):e}function u(){}function d(t,e){e!==!1&&F(t),m(this,t),this._d=new Date(+t._d),_e===!1&&(_e=!0,wt.updateOffset(this),_e=!1)}function p(t){var e=D(t),i=e.year||0,l=e.quarter||0,n=e.month||0,s=e.week||0,a=e.day||0,o=e.hour||0,r=e.minute||0,h=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*h+6e4*r+36e5*o,this._days=+a+7*s,this._months=+n+3*l+12*i,this._data={},this._locale=wt.localeData(),this._bubble()}function f(t,e){for(var l in e)i(e,l)&&(t[l]=e[l]);return i(e,"toString")&&(t.toString=e.toString),i(e,"valueOf")&&(t.valueOf=e.valueOf),t}function m(t,e){var i,l,n;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),Lt.length>0)for(i in Lt)l=Lt[i],n=e[l],"undefined"!=typeof n&&(t[l]=n);return t}function g(t){return 0>t?Math.ceil(t):Math.floor(t)}function v(t,e,i){for(var l=""+Math.abs(t),n=t>=0;l.length<e;)l="0"+l;return(n?i?"+":"":"-")+l}function b(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function y(t,e){var i;return e=H(e,t),t.isBefore(e)?i=b(t,e):(i=b(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function _(t,e){return function(i,l){var n,s;return null===l||isNaN(+l)||(a(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=i,i=l,l=s),i="string"==typeof i?+i:i,n=wt.duration(i,l),w(this,n,t),this}}function w(t,e,i,l){var n=e._milliseconds,s=e._days,a=e._months;l=null==l?!0:l,n&&t._d.setTime(+t._d+n*i),s&&mt(t,"Date",ft(t,"Date")+s*i),a&&pt(t,ft(t,"Month")+a*i),l&&wt.updateOffset(t,s||a)}function x(t){return"[object Array]"===Object.prototype.toString.call(t)}function k(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function C(t,e,i){var l,n=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),a=0;for(l=0;n>l;l++)(i&&t[l]!==e[l]||!i&&T(t[l])!==T(e[l]))&&a++;return a+s}function M(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=ue[t]||de[e]||e}return t}function D(t){var e,l,n={};for(l in t)i(t,l)&&(e=M(l),e&&(n[e]=t[l]));return n}function S(e){var i,l;if(0===e.indexOf("week"))i=7,l="day";else{if(0!==e.indexOf("month"))return;i=12,l="month"}wt[e]=function(n,s){var a,o,r=wt._locale[e],h=[];if("number"==typeof n&&(s=n,n=t),o=function(t){var e=wt().utc().set(l,t);return r.call(wt._locale,e,n||"")},null!=s)return o(s);for(a=0;i>a;a++)h.push(o(a));return h}}function T(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=e>=0?Math.floor(e):Math.ceil(e)),i}function E(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function A(t,e,i){return ht(wt([t,11,31+e-i]),e,i).week}function I(t){return P(t)?366:365}function P(t){return t%4===0&&t%100!==0||t%400===0}function F(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[Et]<0||t._a[Et]>11?Et:t._a[At]<1||t._a[At]>E(t._a[Tt],t._a[Et])?At:t._a[It]<0||t._a[It]>24||24===t._a[It]&&(0!==t._a[Pt]||0!==t._a[Ft]||0!==t._a[jt])?It:t._a[Pt]<0||t._a[Pt]>59?Pt:t._a[Ft]<0||t._a[Ft]>59?Ft:t._a[jt]<0||t._a[jt]>999?jt:-1,t._pf._overflowDayOfYear&&(Tt>e||e>At)&&(e=At),t._pf.overflow=e)}function j(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length&&e._pf.bigHour===t)),e._isValid}function z(t){return t?t.toLowerCase().replace("_","-"):t}function L(t){for(var e,i,l,n,s=0;s<t.length;){for(n=z(t[s]).split("-"),e=n.length,i=z(t[s+1]),i=i?i.split("-"):null;e>0;){if(l=O(n.slice(0,e).join("-")))return l;if(i&&i.length>=e&&C(n,i,!0)>=e-1)break;e--}s++}return null}function O(t){var e=null;if(!zt[t]&&Ot)try{e=wt.locale(),require("./locale/"+t),wt.locale(e)}catch(i){}return zt[t]}function H(t,e){var i,l;return e._isUTC?(i=e.clone(),l=(wt.isMoment(t)||k(t)?+t:+wt(t))-+i,i._d.setTime(+i._d+l),wt.updateOffset(i,!1),i):wt(t).local()}function N(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function $(t){var e,i,l=t.match(Rt);for(e=0,i=l.length;i>e;e++)l[e]=ve[l[e]]?ve[l[e]]:N(l[e]);return function(n){var s="";for(e=0;i>e;e++)s+=l[e]instanceof Function?l[e].call(n,t):l[e];return s}}function R(t,e){return t.isValid()?(e=W(e,t.localeData()),pe[e]||(pe[e]=$(e)),pe[e](t)):t.localeData().invalidDate()}function W(t,e){function i(t){return e.longDateFormat(t)||t}var l=5;for(Wt.lastIndex=0;l>=0&&Wt.test(t);)t=t.replace(Wt,i),Wt.lastIndex=0,l-=1;return t}function Y(t,e){var i,l=e._strict;switch(t){case"Q":return Jt;case"DDDD":return ee;case"YYYY":case"GGGG":case"gggg":return l?ie:Bt;case"Y":case"G":case"g":return ne;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return l?le:qt;case"S":if(l)return Jt;case"SS":if(l)return te;case"SSS":if(l)return ee;case"DDD":return Ut;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Zt;case"a":case"A":return e._locale._meridiemParse;case"x":return Kt;case"X":return Qt;case"Z":case"ZZ":return Gt;case"T":return Xt;case"SSSS":return Vt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return l?te:Yt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Yt;case"Do":return l?e._locale._ordinalParse:e._locale._ordinalParseLenient;default:return i=new RegExp(Q(K(t.replace("\\","")),"i"))}}function U(t){t=t||"";var e=t.match(Gt)||[],i=e[e.length-1]||[],l=(i+"").match(he)||["-",0,0],n=+(60*l[1])+T(l[2]);return"+"===l[0]?n:-n}function B(t,e,i){var l,n=i._a;switch(t){case"Q":null!=e&&(n[Et]=3*(T(e)-1));break;case"M":case"MM":null!=e&&(n[Et]=T(e)-1);break;case"MMM":case"MMMM":l=i._locale.monthsParse(e,t,i._strict),null!=l?n[Et]=l:i._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(n[At]=T(e));break;case"Do":null!=e&&(n[At]=T(parseInt(e.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=e&&(i._dayOfYear=T(e));break;case"YY":n[Tt]=wt.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":n[Tt]=T(e);break;case"a":case"A":i._meridiem=e;break;case"h":case"hh":i._pf.bigHour=!0;case"H":case"HH":n[It]=T(e);break;case"m":case"mm":n[Pt]=T(e);break;case"s":case"ss":n[Ft]=T(e);break;case"S":case"SS":case"SSS":case"SSSS":n[jt]=T(1e3*("0."+e));break;case"x":i._d=new Date(T(e));break;case"X":i._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":i._useUTC=!0,i._tzm=U(e);break;case"dd":case"ddd":case"dddd":l=i._locale.weekdaysParse(e),null!=l?(i._w=i._w||{},i._w.d=l):i._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(i._w=i._w||{},i._w[t]=T(e));break;case"gg":case"GG":i._w=i._w||{},i._w[t]=wt.parseTwoDigitYear(e)}}function q(t){var i,l,n,s,a,o,r;i=t._w,null!=i.GG||null!=i.W||null!=i.E?(a=1,o=4,l=e(i.GG,t._a[Tt],ht(wt(),1,4).year),n=e(i.W,1),s=e(i.E,1)):(a=t._locale._week.dow,o=t._locale._week.doy,l=e(i.gg,t._a[Tt],ht(wt(),a,o).year),n=e(i.w,1),null!=i.d?(s=i.d,a>s&&++n):s=null!=i.e?i.e+a:a),r=ct(l,n,s,o,a),t._a[Tt]=r.year,t._dayOfYear=r.dayOfYear}function V(t){var i,l,n,s,a=[];if(!t._d){for(n=G(t),t._w&&null==t._a[At]&&null==t._a[Et]&&q(t),t._dayOfYear&&(s=e(t._a[Tt],n[Tt]),t._dayOfYear>I(s)&&(t._pf._overflowDayOfYear=!0),l=st(s,0,t._dayOfYear),t._a[Et]=l.getUTCMonth(),t._a[At]=l.getUTCDate()),i=0;3>i&&null==t._a[i];++i)t._a[i]=a[i]=n[i];for(;7>i;i++)t._a[i]=a[i]=null==t._a[i]?2===i?1:0:t._a[i];24===t._a[It]&&0===t._a[Pt]&&0===t._a[Ft]&&0===t._a[jt]&&(t._nextDay=!0,t._a[It]=0),t._d=(t._useUTC?st:nt).apply(null,a),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[It]=24)}}function Z(t){var e;t._d||(e=D(t._i),t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],V(t))}function G(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function X(e){if(e._f===wt.ISO_8601)return void tt(e);e._a=[],e._pf.empty=!0;var i,l,n,s,a,o=""+e._i,r=o.length,h=0;for(n=W(e._f,e._locale).match(Rt)||[],i=0;i<n.length;i++)s=n[i],l=(o.match(Y(s,e))||[])[0],l&&(a=o.substr(0,o.indexOf(l)),a.length>0&&e._pf.unusedInput.push(a),o=o.slice(o.indexOf(l)+l.length),h+=l.length),ve[s]?(l?e._pf.empty=!1:e._pf.unusedTokens.push(s),B(s,l,e)):e._strict&&!l&&e._pf.unusedTokens.push(s);e._pf.charsLeftOver=r-h,o.length>0&&e._pf.unusedInput.push(o),e._pf.bigHour===!0&&e._a[It]<=12&&(e._pf.bigHour=t),e._a[It]=c(e._locale,e._a[It],e._meridiem),V(e),F(e)}function K(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,l,n){return e||i||l||n})}function Q(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(t){var e,i,n,s,a;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(s=0;s<t._f.length;s++)a=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=l(),e._f=t._f[s],X(e),j(e)&&(a+=e._pf.charsLeftOver,a+=10*e._pf.unusedTokens.length,e._pf.score=a,(null==n||n>a)&&(n=a,i=e));f(t,i||e)}function tt(t){var e,i,l=t._i,n=se.exec(l);if(n){for(t._pf.iso=!0,e=0,i=oe.length;i>e;e++)if(oe[e][1].exec(l)){t._f=oe[e][0]+(n[6]||" ");break}for(e=0,i=re.length;i>e;e++)if(re[e][1].exec(l)){t._f+=re[e][0];break}l.match(Gt)&&(t._f+="Z"),X(t)}else t._isValid=!1}function et(t){tt(t),t._isValid===!1&&(delete t._isValid,wt.createFromInputFallback(t))}function it(t,e){var i,l=[];for(i=0;i<t.length;++i)l.push(e(t[i],i));return l}function lt(e){var i,l=e._i;l===t?e._d=new Date:k(l)?e._d=new Date(+l):null!==(i=Ht.exec(l))?e._d=new Date(+i[1]):"string"==typeof l?et(e):x(l)?(e._a=it(l.slice(0),function(t){return parseInt(t,10)}),V(e)):"object"==typeof l?Z(e):"number"==typeof l?e._d=new Date(l):wt.createFromInputFallback(e)}function nt(t,e,i,l,n,s,a){var o=new Date(t,e,i,l,n,s,a);return 1970>t&&o.setFullYear(t),o}function st(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function at(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function ot(t,e,i,l,n){return n.relativeTime(e||1,!!i,t,l)}function rt(t,e,i){var l=wt.duration(t).abs(),n=Dt(l.as("s")),s=Dt(l.as("m")),a=Dt(l.as("h")),o=Dt(l.as("d")),r=Dt(l.as("M")),h=Dt(l.as("y")),c=n<fe.s&&["s",n]||1===s&&["m"]||s<fe.m&&["mm",s]||1===a&&["h"]||a<fe.h&&["hh",a]||1===o&&["d"]||o<fe.d&&["dd",o]||1===r&&["M"]||r<fe.M&&["MM",r]||1===h&&["y"]||["yy",h];return c[2]=e,c[3]=+t>0,c[4]=i,ot.apply({},c)}function ht(t,e,i){var l,n=i-e,s=i-t.day();return s>n&&(s-=7),n-7>s&&(s+=7),l=wt(t).add(s,"d"),{week:Math.ceil(l.dayOfYear()/7),year:l.year()}}function ct(t,e,i,l,n){var s,a,o=st(t,0,1).getUTCDay();return o=0===o?7:o,i=null!=i?i:n,s=n-o+(o>l?7:0)-(n>o?7:0),a=7*(e-1)+(i-n)+s+1,{year:a>0?t:t-1,dayOfYear:a>0?a:I(t-1)+a}}function ut(e){var i,l=e._i,n=e._f;return e._locale=e._locale||wt.localeData(e._l),null===l||n===t&&""===l?wt.invalid({nullInput:!0}):("string"==typeof l&&(e._i=l=e._locale.preparse(l)),wt.isMoment(l)?new d(l,!0):(n?x(n)?J(e):X(e):lt(e),i=new d(e),i._nextDay&&(i.add(1,"d"),i._nextDay=t),i))}function dt(t,e){var i,l;if(1===e.length&&x(e[0])&&(e=e[0]),!e.length)return wt();for(i=e[0],l=1;l<e.length;++l)e[l][t](i)&&(i=e[l]);return i}function pt(t,e){var i;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(i=Math.min(t.date(),E(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t)}function ft(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function mt(t,e,i){return"Month"===e?pt(t,i):t._d["set"+(t._isUTC?"UTC":"")+e](i)}function gt(t,e){return function(i){return null!=i?(mt(this,t,i),wt.updateOffset(this,e),this):ft(this,t)}}function vt(t){return 400*t/146097}function bt(t){return 146097*t/400}function yt(t){wt.duration.fn[t]=function(){return this._data[t]}}function _t(t){"undefined"==typeof ender&&(xt=Mt.moment,Mt.moment=t?s("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",wt):wt)}for(var wt,xt,kt,Ct="2.9.0",Mt="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,Dt=Math.round,St=Object.prototype.hasOwnProperty,Tt=0,Et=1,At=2,It=3,Pt=4,Ft=5,jt=6,zt={},Lt=[],Ot="undefined"!=typeof module&&module&&module.exports,Ht=/^\/?Date\((\-?\d+)/i,Nt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,$t=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Rt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Wt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Yt=/\d\d?/,Ut=/\d{1,3}/,Bt=/\d{1,4}/,qt=/[+\-]?\d{1,6}/,Vt=/\d+/,Zt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Gt=/Z|[\+\-]\d\d:?\d\d/gi,Xt=/T/i,Kt=/[\+\-]?\d+/,Qt=/[\+\-]?\d+(\.\d{1,3})?/,Jt=/\d/,te=/\d\d/,ee=/\d{3}/,ie=/\d{4}/,le=/[+-]?\d{6}/,ne=/[+-]?\d+/,se=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ae="YYYY-MM-DDTHH:mm:ssZ",oe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],re=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],he=/([\+\-]|\d\d)/gi,ce=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),ue={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},de={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},pe={},fe={s:45,m:45,h:22,d:26,M:11},me="DDD w W M D d".split(" "),ge="M D H h m s w W".split(" "),ve={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return v(this.year()%100,2)},YYYY:function(){return v(this.year(),4)},YYYYY:function(){return v(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+v(Math.abs(t),6)},gg:function(){return v(this.weekYear()%100,2)},gggg:function(){return v(this.weekYear(),4)},ggggg:function(){return v(this.weekYear(),5)},GG:function(){return v(this.isoWeekYear()%100,2)},GGGG:function(){return v(this.isoWeekYear(),4)},GGGGG:function(){return v(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return T(this.milliseconds()/100)},SS:function(){return v(T(this.milliseconds()/10),2)},SSS:function(){return v(this.milliseconds(),3)},SSSS:function(){return v(this.milliseconds(),3)},Z:function(){var t=this.utcOffset(),e="+";return 0>t&&(t=-t,e="-"),e+v(T(t/60),2)+":"+v(T(t)%60,2)},ZZ:function(){var t=this.utcOffset(),e="+";return 0>t&&(t=-t,e="-"),e+v(T(t/60),2)+v(T(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},be={},ye=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],_e=!1;me.length;)kt=me.pop(),ve[kt+"o"]=r(ve[kt],kt);for(;ge.length;)kt=ge.pop(),ve[kt+kt]=o(ve[kt],2);ve.DDDD=o(ve.DDD,3),f(u.prototype,{set:function(t){var e,i;for(i in t)e=t[i],"function"==typeof e?this[i]=e:this["_"+i]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t,e,i){var l,n,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),l=0;12>l;l++){if(n=wt.utc([2e3,l]),i&&!this._longMonthsParse[l]&&(this._longMonthsParse[l]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[l]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),i||this._monthsParse[l]||(s="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[l]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[l].test(t))return l;if(i&&"MMM"===e&&this._shortMonthsParse[l].test(t))return l;if(!i&&this._monthsParse[l].test(t))return l}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,i,l;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(i=wt([2e3,1]).day(e),l="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(l.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e,i){var l=this._calendar[t];return"function"==typeof l?l.apply(e,[i]):l},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,i,l){var n=this._relativeTime[i];return"function"==typeof n?n(t,e,i,l):n.replace(/%d/i,t)},pastFuture:function(t,e){var i=this._relativeTime[t>0?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(t){return t},postformat:function(t){return t},week:function(t){return ht(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),wt=function(e,i,n,s){var a;return"boolean"==typeof n&&(s=n,n=t),a={},a._isAMomentObject=!0,a._i=e,a._f=i,a._l=n,a._strict=s,a._isUTC=!1,a._pf=l(),ut(a)},wt.suppressDeprecationWarnings=!1,wt.createFromInputFallback=s("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),wt.min=function(){var t=[].slice.call(arguments,0);return dt("isBefore",t)},wt.max=function(){var t=[].slice.call(arguments,0);return dt("isAfter",t)},wt.utc=function(e,i,n,s){var a;return"boolean"==typeof n&&(s=n,n=t),a={},a._isAMomentObject=!0,a._useUTC=!0,a._isUTC=!0,a._l=n,a._i=e,a._f=i,a._strict=s,a._pf=l(),ut(a).utc()},wt.unix=function(t){return wt(1e3*t)},wt.duration=function(t,e){var l,n,s,a,o=t,r=null;return wt.isDuration(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(r=Nt.exec(t))?(l="-"===r[1]?-1:1,o={y:0,d:T(r[At])*l,h:T(r[It])*l,m:T(r[Pt])*l,s:T(r[Ft])*l,ms:T(r[jt])*l}):(r=$t.exec(t))?(l="-"===r[1]?-1:1,s=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*l},o={y:s(r[2]),M:s(r[3]),d:s(r[4]),h:s(r[5]),m:s(r[6]),s:s(r[7]),w:s(r[8])}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(a=y(wt(o.from),wt(o.to)),o={},o.ms=a.milliseconds,o.M=a.months),n=new p(o),wt.isDuration(t)&&i(t,"_locale")&&(n._locale=t._locale),n},wt.version=Ct,wt.defaultFormat=ae,wt.ISO_8601=function(){},wt.momentProperties=Lt,wt.updateOffset=function(){},wt.relativeTimeThreshold=function(e,i){return fe[e]===t?!1:i===t?fe[e]:(fe[e]=i,!0)},wt.lang=s("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return wt.locale(t,e)}),wt.locale=function(t,e){var i;return t&&(i="undefined"!=typeof e?wt.defineLocale(t,e):wt.localeData(t),i&&(wt.duration._locale=wt._locale=i)),wt._locale._abbr},wt.defineLocale=function(t,e){return null!==e?(e.abbr=t,zt[t]||(zt[t]=new u),zt[t].set(e),wt.locale(t),zt[t]):(delete zt[t],null)},wt.langData=s("moment.langData is deprecated. Use moment.localeData instead.",function(t){return wt.localeData(t)}),wt.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return wt._locale;if(!x(t)){if(e=O(t))return e;t=[t]}return L(t)},wt.isMoment=function(t){return t instanceof d||null!=t&&i(t,"_isAMomentObject")},wt.isDuration=function(t){return t instanceof p};for(kt=ye.length-1;kt>=0;--kt)S(ye[kt]);wt.normalizeUnits=function(t){return M(t)},wt.invalid=function(t){var e=wt.utc(NaN);return null!=t?f(e._pf,t):e._pf.userInvalidated=!0,e},wt.parseZone=function(){return wt.apply(null,arguments).parseZone()},wt.parseTwoDigitYear=function(t){return T(t)+(T(t)>68?1900:2e3)},wt.isDate=k,f(wt.fn=d.prototype,{clone:function(){return wt(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=wt(this).utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():R(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):R(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return j(this)},isDSTShifted:function(){return this._a?this.isValid()&&C(this._a,(this._isUTC?wt.utc(this._a):wt(this._a)).toArray())>0:!1},parsingFlags:function(){return f({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.utcOffset(0,t)},local:function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(t){var e=R(this,t||wt.defaultFormat);return this.localeData().postformat(e)},add:_(1,"add"),subtract:_(-1,"subtract"),diff:function(t,e,i){var l,n,s=H(t,this),a=6e4*(s.utcOffset()-this.utcOffset());return e=M(e),"year"===e||"month"===e||"quarter"===e?(n=h(this,s),"quarter"===e?n/=3:"year"===e&&(n/=12)):(l=this-s,n="second"===e?l/1e3:"minute"===e?l/6e4:"hour"===e?l/36e5:"day"===e?(l-a)/864e5:"week"===e?(l-a)/6048e5:l),i?n:g(n)},from:function(t,e){return wt.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(wt(),t)},calendar:function(t){var e=t||wt(),i=H(e,this).startOf("day"),l=this.diff(i,"days",!0),n=-6>l?"sameElse":-1>l?"lastWeek":0>l?"lastDay":1>l?"sameDay":2>l?"nextDay":7>l?"nextWeek":"sameElse";return this.format(this.localeData().calendar(n,this,wt(e)))},isLeapYear:function(){return P(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=at(t,this.localeData()),this.add(t-e,"d")):e},month:gt("Month",!0),startOf:function(t){switch(t=M(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(e){return e=M(e),e===t||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")},isAfter:function(t,e){var i;return e=M("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=wt.isMoment(t)?t:wt(t),+this>+t):(i=wt.isMoment(t)?+t:+wt(t),i<+this.clone().startOf(e))},isBefore:function(t,e){var i;return e=M("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=wt.isMoment(t)?t:wt(t),+t>+this):(i=wt.isMoment(t)?+t:+wt(t),+this.clone().endOf(e)<i)},isBetween:function(t,e,i){return this.isAfter(t,i)&&this.isBefore(e,i)},isSame:function(t,e){var i;return e=M(e||"millisecond"),"millisecond"===e?(t=wt.isMoment(t)?t:wt(t),+this===+t):(i=+wt(t),+this.clone().startOf(e)<=i&&i<=+this.clone().endOf(e))},min:s("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=wt.apply(null,arguments),this>t?this:t}),max:s("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return t=wt.apply(null,arguments),t>this?this:t}),zone:s("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),utcOffset:function(t,e){var i,l=this._offset||0;return null!=t?("string"==typeof t&&(t=U(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(i=this._dateUtcOffset()),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),l!==t&&(!e||this._changeInProgress?w(this,wt.duration(t-l,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,wt.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?l:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(U(this._i)),this},hasAlignedHourOffset:function(t){return t=t?wt(t).utcOffset():0,(this.utcOffset()-t)%60===0},daysInMonth:function(){return E(this.year(),this.month())},dayOfYear:function(t){var e=Dt((wt(this).startOf("day")-wt(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=ht(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=ht(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=ht(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return A(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return A(this.year(),t.dow,t.doy)},get:function(t){return t=M(t),this[t]()},set:function(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else t=M(t),"function"==typeof this[t]&&this[t](e);return this},locale:function(e){var i;return e===t?this._locale._abbr:(i=wt.localeData(e),null!=i&&(this._locale=i),this)},lang:s("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===t?this.localeData():this.locale(e)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),wt.fn.millisecond=wt.fn.milliseconds=gt("Milliseconds",!1),wt.fn.second=wt.fn.seconds=gt("Seconds",!1),wt.fn.minute=wt.fn.minutes=gt("Minutes",!1),wt.fn.hour=wt.fn.hours=gt("Hours",!0),wt.fn.date=gt("Date",!0),wt.fn.dates=s("dates accessor is deprecated. Use date instead.",gt("Date",!0)),wt.fn.year=gt("FullYear",!0),wt.fn.years=s("years accessor is deprecated. Use year instead.",gt("FullYear",!0)),wt.fn.days=wt.fn.day,wt.fn.months=wt.fn.month,wt.fn.weeks=wt.fn.week,wt.fn.isoWeeks=wt.fn.isoWeek,wt.fn.quarters=wt.fn.quarter,wt.fn.toJSON=wt.fn.toISOString,wt.fn.isUTC=wt.fn.isUtc,f(wt.duration.fn=p.prototype,{_bubble:function(){var t,e,i,l=this._milliseconds,n=this._days,s=this._months,a=this._data,o=0;a.milliseconds=l%1e3,t=g(l/1e3),a.seconds=t%60,e=g(t/60),a.minutes=e%60,i=g(e/60),a.hours=i%24,n+=g(i/24),o=g(vt(n)),n-=g(bt(o)),s+=g(n/30),n%=30,o+=g(s/12),s%=12,a.days=n,a.months=s,a.years=o},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return g(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*T(this._months/12)},humanize:function(t){var e=rt(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var i=wt.duration(t,e);return this._milliseconds+=i._milliseconds,this._days+=i._days,this._months+=i._months,this._bubble(),this},subtract:function(t,e){var i=wt.duration(t,e);return this._milliseconds-=i._milliseconds,this._days-=i._days,this._months-=i._months,this._bubble(),this},get:function(t){return t=M(t),this[t.toLowerCase()+"s"]()},as:function(t){var e,i;if(t=M(t),"month"===t||"year"===t)return e=this._days+this._milliseconds/864e5,i=this._months+12*vt(e),"month"===t?i:i/12;switch(e=this._days+Math.round(bt(this._months/12)),t){case"week":return e/7+this._milliseconds/6048e5;
case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 24*e*60+this._milliseconds/6e4;case"second":return 24*e*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:wt.fn.lang,locale:wt.fn.locale,toIsoString:s("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),i=Math.abs(this.days()),l=Math.abs(this.hours()),n=Math.abs(this.minutes()),s=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(i?i+"D":"")+(l||n||s?"T":"")+(l?l+"H":"")+(n?n+"M":"")+(s?s+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),wt.duration.fn.toString=wt.duration.fn.toISOString;for(kt in ce)i(ce,kt)&&yt(kt.toLowerCase());wt.duration.fn.asMilliseconds=function(){return this.as("ms")},wt.duration.fn.asSeconds=function(){return this.as("s")},wt.duration.fn.asMinutes=function(){return this.as("m")},wt.duration.fn.asHours=function(){return this.as("h")},wt.duration.fn.asDays=function(){return this.as("d")},wt.duration.fn.asWeeks=function(){return this.as("weeks")},wt.duration.fn.asMonths=function(){return this.as("M")},wt.duration.fn.asYears=function(){return this.as("y")},wt.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===T(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),Ot?module.exports=wt:"function"==typeof define&&define.amd?(define(function(t,e,i){return i.config&&i.config()&&i.config().noGlobal===!0&&(Mt.moment=xt),wt}),_t(!0)):_t()}.call(this),function(){function t(t){return document.createElementNS(h,t)}function e(t){return(10>t?"0":"")+t}function i(t){var e=++v+"";return t?t+e:e}function l(l,o){function h(t,e){var i=d.offset(),l=/^touch/.test(t.type),n=i.left+b,a=i.top+b,h=(l?t.originalEvent.touches[0]:t).pageX-n,u=(l?t.originalEvent.touches[0]:t).pageY-a,p=Math.sqrt(h*h+u*u),g=!1;if(!e||!(y-w>p||p>y+w)){t.preventDefault();var v=setTimeout(function(){s.addClass("clockpicker-moving")},200);c&&d.append(E.canvas),E.setHand(h,u,!e,!0),r.off(f).on(f,function(t){t.preventDefault();var e=/^touch/.test(t.type),i=(e?t.originalEvent.touches[0]:t).pageX-n,l=(e?t.originalEvent.touches[0]:t).pageY-a;(g||i!==h||l!==u)&&(g=!0,E.setHand(i,l,!1,!0))}),r.off(m).on(m,function(t){r.off(m),t.preventDefault();var i=/^touch/.test(t.type),l=(i?t.originalEvent.changedTouches[0]:t).pageX-n,c=(i?t.originalEvent.changedTouches[0]:t).pageY-a;(e||g)&&l===h&&c===u&&E.setHand(l,c),"hours"===E.currentView?E.toggleView("minutes",k/2):o.autoclose&&(E.minutesView.addClass("clockpicker-dial-out"),setTimeout(function(){E.done()},k/2)),d.prepend(O),clearTimeout(v),s.removeClass("clockpicker-moving"),r.off(f)})}}var u=a(C),d=u.find(".clockpicker-plate"),g=u.find(".clockpicker-hours"),v=u.find(".clockpicker-minutes"),M=u.find(".clockpicker-am-pm-block"),D="INPUT"===l.prop("tagName"),S=D?l:l.find("input"),T=l.find(".input-group-addon"),E=this;if(this.id=i("cp"),this.element=l,this.options=o,this.isAppended=!1,this.isShown=!1,this.currentView="hours",this.isInput=D,this.input=S,this.addon=T,this.popover=u,this.plate=d,this.hoursView=g,this.minutesView=v,this.amPmBlock=M,this.spanHours=u.find(".clockpicker-span-hours"),this.spanMinutes=u.find(".clockpicker-span-minutes"),this.spanAmPm=u.find(".clockpicker-span-am-pm"),this.amOrPm="PM",o.twelvehour){var A=['<div class="clockpicker-am-pm-block">','<button type="button" class="btn btn-sm btn-default clockpicker-button clockpicker-am-button">',"AM</button>",'<button type="button" class="btn btn-sm btn-default clockpicker-button clockpicker-pm-button">',"PM</button>","</div>"].join("");a(A);a('<button type="button" class="btn btn-sm btn-default clockpicker-button am-button">AM</button>').on("click",function(){E.amOrPm="AM",a(".clockpicker-span-am-pm").empty().append("AM")}).appendTo(this.amPmBlock),a('<button type="button" class="btn btn-sm btn-default clockpicker-button pm-button">PM</button>').on("click",function(){E.amOrPm="PM",a(".clockpicker-span-am-pm").empty().append("PM")}).appendTo(this.amPmBlock)}o.autoclose||a('<button type="button" class="btn btn-sm btn-default btn-block clockpicker-button">'+o.donetext+"</button>").click(a.proxy(this.done,this)).appendTo(u),"top"!==o.placement&&"bottom"!==o.placement||"top"!==o.align&&"bottom"!==o.align||(o.align="left"),"left"!==o.placement&&"right"!==o.placement||"left"!==o.align&&"right"!==o.align||(o.align="top"),u.addClass(o.placement),u.addClass("clockpicker-align-"+o.align),this.spanHours.click(a.proxy(this.toggleView,this,"hours")),this.spanMinutes.click(a.proxy(this.toggleView,this,"minutes")),S.on("focus.clockpicker click.clockpicker",a.proxy(this.show,this)),T.on("click.clockpicker",a.proxy(this.toggle,this));var I,P,F,j,z=a('<div class="clockpicker-tick"></div>');if(o.twelvehour)for(I=1;13>I;I+=1)P=z.clone(),F=I/6*Math.PI,j=y,P.css("font-size","120%"),P.css({left:b+Math.sin(F)*j-w,top:b-Math.cos(F)*j-w}),P.html(0===I?"00":I),g.append(P),P.on(p,h);else for(I=0;24>I;I+=1){P=z.clone(),F=I/6*Math.PI;var L=I>0&&13>I;j=L?_:y,P.css({left:b+Math.sin(F)*j-w,top:b-Math.cos(F)*j-w}),L&&P.css("font-size","120%"),P.html(0===I?"00":I),g.append(P),P.on(p,h)}for(I=0;60>I;I+=5)P=z.clone(),F=I/30*Math.PI,P.css({left:b+Math.sin(F)*y-w,top:b-Math.cos(F)*y-w}),P.css("font-size","120%"),P.html(e(I)),v.append(P),P.on(p,h);if(d.on(p,function(t){0===a(t.target).closest(".clockpicker-tick").length&&h(t,!0)}),c){var O=u.find(".clockpicker-canvas"),H=t("svg");H.setAttribute("class","clockpicker-svg"),H.setAttribute("width",x),H.setAttribute("height",x);var N=t("g");N.setAttribute("transform","translate("+b+","+b+")");var $=t("circle");$.setAttribute("class","clockpicker-canvas-bearing"),$.setAttribute("cx",0),$.setAttribute("cy",0),$.setAttribute("r",2);var R=t("line");R.setAttribute("x1",0),R.setAttribute("y1",0);var W=t("circle");W.setAttribute("class","clockpicker-canvas-bg"),W.setAttribute("r",w);var Y=t("circle");Y.setAttribute("class","clockpicker-canvas-fg"),Y.setAttribute("r",3.5),N.appendChild(R),N.appendChild(W),N.appendChild(Y),N.appendChild($),H.appendChild(N),O.append(H),this.hand=R,this.bg=W,this.fg=Y,this.bearing=$,this.g=N,this.canvas=O}n(this.options.init)}function n(t){t&&"function"==typeof t&&t()}var s,a=window.jQuery,o=a(window),r=a(document),h="http://www.w3.org/2000/svg",c="SVGAngle"in window&&function(){var t,e=document.createElement("div");return e.innerHTML="<svg/>",t=(e.firstChild&&e.firstChild.namespaceURI)==h,e.innerHTML="",t}(),u=function(){var t=document.createElement("div").style;return"transition"in t||"WebkitTransition"in t||"MozTransition"in t||"msTransition"in t||"OTransition"in t}(),d="ontouchstart"in window,p="mousedown"+(d?" touchstart":""),f="mousemove.clockpicker"+(d?" touchmove.clockpicker":""),m="mouseup.clockpicker"+(d?" touchend.clockpicker":""),g=navigator.vibrate?"vibrate":navigator.webkitVibrate?"webkitVibrate":null,v=0,b=100,y=80,_=54,w=13,x=2*b,k=u?350:1,C=['<div class="popover clockpicker-popover">','<div class="arrow"></div>','<div class="popover-title">','<span class="clockpicker-span-hours text-primary"></span>'," : ",'<span class="clockpicker-span-minutes"></span>','<span class="clockpicker-span-am-pm"></span>',"</div>",'<div class="popover-content">','<div class="clockpicker-plate">','<div class="clockpicker-canvas"></div>','<div class="clockpicker-dial clockpicker-hours"></div>','<div class="clockpicker-dial clockpicker-minutes clockpicker-dial-out"></div>',"</div>",'<span class="clockpicker-am-pm-block">',"</span>","</div>","</div>"].join("");l.DEFAULTS={"default":"",fromnow:0,placement:"bottom",align:"left",donetext:"\u5b8c\u6210",autoclose:!1,twelvehour:!1,vibrate:!0},l.prototype.toggle=function(){this[this.isShown?"hide":"show"]()},l.prototype.locate=function(){var t=this.element,e=this.popover,i=t.offset(),l=t.outerWidth(),n=t.outerHeight(),s=this.options.placement,a=this.options.align,o={};switch(e.show(),s){case"bottom":o.top=i.top+n;break;case"right":o.left=i.left+l;break;case"top":o.top=i.top-e.outerHeight();break;case"left":o.left=i.left-e.outerWidth()}switch(a){case"left":o.left=i.left;break;case"right":o.left=i.left+l-e.outerWidth();break;case"top":o.top=i.top;break;case"bottom":o.top=i.top+n-e.outerHeight()}e.css(o)},l.prototype.show=function(){if(!this.isShown){n(this.options.beforeShow);var t=this;this.isAppended||(s=a(document.body).append(this.popover),o.on("resize.clockpicker"+this.id,function(){t.isShown&&t.locate()}),this.isAppended=!0);var i=((this.input.prop("value")||this.options["default"]||"")+"").split(":");if("now"===i[0]){var l=new Date(+new Date+this.options.fromnow);i=[l.getHours(),l.getMinutes()]}this.hours=+i[0]||0,this.minutes=+i[1]||0,this.spanHours.html(e(this.hours)),this.spanMinutes.html(e(this.minutes)),this.toggleView("hours"),this.locate(),this.isShown=!0,r.on("click.clockpicker."+this.id+" focusin.clockpicker."+this.id,function(e){var i=a(e.target);0===i.closest(t.popover).length&&0===i.closest(t.addon).length&&0===i.closest(t.input).length&&t.hide()}),r.on("keyup.clockpicker."+this.id,function(e){27===e.keyCode&&t.hide()}),n(this.options.afterShow)}},l.prototype.hide=function(){n(this.options.beforeHide),this.isShown=!1,r.off("click.clockpicker."+this.id+" focusin.clockpicker."+this.id),r.off("keyup.clockpicker."+this.id),this.popover.hide(),n(this.options.afterHide)},l.prototype.toggleView=function(t,e){var i=!1;"minutes"===t&&"visible"===a(this.hoursView).css("visibility")&&(n(this.options.beforeHourSelect),i=!0);var l="hours"===t,s=l?this.hoursView:this.minutesView,o=l?this.minutesView:this.hoursView;this.currentView=t,this.spanHours.toggleClass("text-primary",l),this.spanMinutes.toggleClass("text-primary",!l),o.addClass("clockpicker-dial-out"),s.css("visibility","visible").removeClass("clockpicker-dial-out"),this.resetClock(e),clearTimeout(this.toggleViewTimer),this.toggleViewTimer=setTimeout(function(){o.css("visibility","hidden")},k),i&&n(this.options.afterHourSelect)},l.prototype.resetClock=function(t){var e=this.currentView,i=this[e],l="hours"===e,n=Math.PI/(l?6:30),s=i*n,a=l&&i>0&&13>i?_:y,o=Math.sin(s)*a,r=-Math.cos(s)*a,h=this;c&&t?(h.canvas.addClass("clockpicker-canvas-out"),setTimeout(function(){h.canvas.removeClass("clockpicker-canvas-out"),h.setHand(o,r)},t)):this.setHand(o,r)},l.prototype.setHand=function(t,i,l,n){var s,o=Math.atan2(t,-i),r="hours"===this.currentView,h=Math.PI/(r||l?6:30),u=Math.sqrt(t*t+i*i),d=this.options,p=r&&(y+_)/2>u,f=p?_:y;if(d.twelvehour&&(f=y),0>o&&(o=2*Math.PI+o),s=Math.round(o/h),o=s*h,d.twelvehour?r?0===s&&(s=12):(l&&(s*=5),60===s&&(s=0)):r?(12===s&&(s=0),s=p?0===s?12:s:0===s?0:s+12):(l&&(s*=5),60===s&&(s=0)),this[this.currentView]!==s&&g&&this.options.vibrate&&(this.vibrateTimer||(navigator[g](10),this.vibrateTimer=setTimeout(a.proxy(function(){this.vibrateTimer=null},this),100))),this[this.currentView]=s,this[r?"spanHours":"spanMinutes"].html(e(s)),!c)return void this[r?"hoursView":"minutesView"].find(".clockpicker-tick").each(function(){var t=a(this);t.toggleClass("active",s===+t.html())});n||!r&&s%5?(this.g.insertBefore(this.hand,this.bearing),this.g.insertBefore(this.bg,this.fg),this.bg.setAttribute("class","clockpicker-canvas-bg clockpicker-canvas-bg-trans")):(this.g.insertBefore(this.hand,this.bg),this.g.insertBefore(this.fg,this.bg),this.bg.setAttribute("class","clockpicker-canvas-bg"));var m=Math.sin(o)*f,v=-Math.cos(o)*f;this.hand.setAttribute("x2",m),this.hand.setAttribute("y2",v),this.bg.setAttribute("cx",m),this.bg.setAttribute("cy",v),this.fg.setAttribute("cx",m),this.fg.setAttribute("cy",v)},l.prototype.done=function(){n(this.options.beforeDone),this.hide();var t=this.input.prop("value"),i=e(this.hours)+":"+e(this.minutes);this.options.twelvehour&&(i+=this.amOrPm),this.input.prop("value",i),i!==t&&(this.input.triggerHandler("change"),this.isInput||this.element.trigger("change")),this.options.autoclose&&this.input.trigger("blur"),n(this.options.afterDone)},l.prototype.remove=function(){this.element.removeData("clockpicker"),this.input.off("focus.clockpicker click.clockpicker"),this.addon.off("click.clockpicker"),this.isShown&&this.hide(),this.isAppended&&(o.off("resize.clockpicker"+this.id),this.popover.remove())},a.fn.clockpicker=function(t){var e=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=a(this),n=i.data("clockpicker");if(n)"function"==typeof n[t]&&n[t].apply(n,e);else{var s=a.extend({},l.DEFAULTS,i.data(),"object"==typeof t&&t);i.data("clockpicker",new l(i,s))}})}}(),/**
* @version: 1.3.21
* @author: Dan Grossman http://www.dangrossman.info/
* @copyright: Copyright (c) 2012-2015 Dan Grossman. All rights reserved.
* @license: Licensed under the MIT license. See http://www.opensource.org/licenses/mit-license.php
* @website: https://www.improvely.com/
*/
function(t,e){if("function"==typeof define&&define.amd)define(["moment","jquery","exports"],function(i,l,n){t.daterangepicker=e(t,n,i,l)});else if("undefined"!=typeof exports){var i,l=require("moment");try{i=require("jquery")}catch(n){if(i=window.jQuery,!i)throw new Error("jQuery dependency not found")}e(t,exports,l,i)}else t.daterangepicker=e(t,{},t.moment,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e,i,l){var n=function(t,e,i){this.parentEl="body",this.element=l(t),this.isShowing=!1;var n='<div class="daterangepicker dropdown-menu"><div class="calendar first left"></div><div class="calendar second right"></div><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input"><label for="daterangepicker_start"></label><input class="input-mini" type="text" name="daterangepicker_start" value="" /></div><div class="daterangepicker_end_input"><label for="daterangepicker_end"></label><input class="input-mini" type="text" name="daterangepicker_end" value="" /></div><button class="applyBtn" disabled="disabled"></button>&nbsp;<button class="cancelBtn"></button></div></div></div>';"object"==typeof e&&null!==e||(e={}),this.parentEl=l("object"==typeof e&&e.parentEl&&l(e.parentEl).length?e.parentEl:this.parentEl),this.container=l(n).appendTo(this.parentEl),this.setOptions(e,i),this.container.find(".calendar").on("click.daterangepicker",".prev",l.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",l.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",l.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",l.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",l.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",l.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.monthselect",l.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",l.proxy(this.updateTime,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",l.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",l.proxy(this.clickCancel,this)).on("click.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",l.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",l.proxy(this.inputsChanged,this)).on("keydown.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",l.proxy(this.inputsKeydown,this)).on("click.daterangepicker","li",l.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",l.proxy(this.enterRange,this)).on("mouseleave.daterangepicker","li",l.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":l.proxy(this.show,this),"focus.daterangepicker":l.proxy(this.show,this),"keyup.daterangepicker":l.proxy(this.updateFromControl,this),"keydown.daterangepicker":l.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",l.proxy(this.toggle,this))};n.prototype={constructor:n,setOptions:function(t,e){if(this.startDate=i().startOf("day"),this.endDate=i().endOf("day"),this.timeZone=i().utcOffset(),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePickerSeconds=!1,this.timePickerIncrement=30,this.timePicker12Hour=!0,this.singleDatePicker=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses=["btn","btn-small btn-sm"],this.applyClass="btn-success",this.cancelClass="btn-default",this.format="MM/DD/YYYY",this.separator=" - ",this.locale={applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:i.weekdaysMin(),monthNames:i.monthsShort(),firstDay:i.localeData()._week.dow},this.cb=function(){},"string"==typeof t.format&&(this.format=t.format),"string"==typeof t.separator&&(this.separator=t.separator),"string"==typeof t.startDate&&(this.startDate=i(t.startDate,this.format)),"string"==typeof t.endDate&&(this.endDate=i(t.endDate,this.format)),"string"==typeof t.minDate&&(this.minDate=i(t.minDate,this.format)),"string"==typeof t.maxDate&&(this.maxDate=i(t.maxDate,this.format)),"object"==typeof t.startDate&&(this.startDate=i(t.startDate)),"object"==typeof t.endDate&&(this.endDate=i(t.endDate)),"object"==typeof t.minDate&&(this.minDate=i(t.minDate)),"object"==typeof t.maxDate&&(this.maxDate=i(t.maxDate)),"string"==typeof t.applyClass&&(this.applyClass=t.applyClass),"string"==typeof t.cancelClass&&(this.cancelClass=t.cancelClass),"object"==typeof t.dateLimit&&(this.dateLimit=t.dateLimit),"object"==typeof t.locale&&("object"==typeof t.locale.daysOfWeek&&(this.locale.daysOfWeek=t.locale.daysOfWeek.slice()),"object"==typeof t.locale.monthNames&&(this.locale.monthNames=t.locale.monthNames.slice()),"number"==typeof t.locale.firstDay&&(this.locale.firstDay=t.locale.firstDay),"string"==typeof t.locale.applyLabel&&(this.locale.applyLabel=t.locale.applyLabel),"string"==typeof t.locale.cancelLabel&&(this.locale.cancelLabel=t.locale.cancelLabel),"string"==typeof t.locale.fromLabel&&(this.locale.fromLabel=t.locale.fromLabel),"string"==typeof t.locale.toLabel&&(this.locale.toLabel=t.locale.toLabel),"string"==typeof t.locale.weekLabel&&(this.locale.weekLabel=t.locale.weekLabel),"string"==typeof t.locale.customRangeLabel&&(this.locale.customRangeLabel=t.locale.customRangeLabel)),"string"==typeof t.opens&&(this.opens=t.opens),"string"==typeof t.drops&&(this.drops=t.drops),"boolean"==typeof t.showWeekNumbers&&(this.showWeekNumbers=t.showWeekNumbers),"string"==typeof t.buttonClasses&&(this.buttonClasses=[t.buttonClasses]),"object"==typeof t.buttonClasses&&(this.buttonClasses=t.buttonClasses),"boolean"==typeof t.showDropdowns&&(this.showDropdowns=t.showDropdowns),"boolean"==typeof t.singleDatePicker&&(this.singleDatePicker=t.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof t.timePicker&&(this.timePicker=t.timePicker),"boolean"==typeof t.timePickerSeconds&&(this.timePickerSeconds=t.timePickerSeconds),"number"==typeof t.timePickerIncrement&&(this.timePickerIncrement=t.timePickerIncrement),"boolean"==typeof t.timePicker12Hour&&(this.timePicker12Hour=t.timePicker12Hour),0!=this.locale.firstDay)for(var n=this.locale.firstDay;n>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),n--;var s,a,o;if("undefined"==typeof t.startDate&&"undefined"==typeof t.endDate&&l(this.element).is("input[type=text]")){var r=l(this.element).val(),h=r.split(this.separator);s=a=null,2==h.length?(s=i(h[0],this.format),a=i(h[1],this.format)):this.singleDatePicker&&""!==r&&(s=i(r,this.format),a=i(r,this.format)),null!==s&&null!==a&&(this.startDate=s,this.endDate=a)}if("string"==typeof t.timeZone||"number"==typeof t.timeZone?("string"==typeof t.timeZone&&"undefined"!=typeof i.tz?this.timeZone=-1*i.tz.zone(t.timeZone).parse(new Date):this.timeZone=t.timeZone,this.startDate.utcOffset(this.timeZone),this.endDate.utcOffset(this.timeZone)):this.timeZone=i(this.startDate).utcOffset(),"object"==typeof t.ranges){for(o in t.ranges)s="string"==typeof t.ranges[o][0]?i(t.ranges[o][0],this.format):i(t.ranges[o][0]),a="string"==typeof t.ranges[o][1]?i(t.ranges[o][1],this.format):i(t.ranges[o][1]),this.minDate&&s.isBefore(this.minDate)&&(s=i(this.minDate)),this.maxDate&&a.isAfter(this.maxDate)&&(a=i(this.maxDate)),this.minDate&&a.isBefore(this.minDate)||this.maxDate&&s.isAfter(this.maxDate)||(this.ranges[o]=[s,a]);var c="<ul>";for(o in this.ranges)c+="<li>"+o+"</li>";c+="<li>"+this.locale.customRangeLabel+"</li>",c+="</ul>",this.container.find(".ranges ul").remove(),this.container.find(".ranges").prepend(c)}if("function"==typeof e&&(this.cb=e),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day")),this.singleDatePicker?(this.opens="right",this.container.addClass("single"),this.container.find(".calendar.right").show(),this.container.find(".calendar.left").hide(),this.timePicker?this.container.find(".ranges .daterangepicker_start_input, .ranges .daterangepicker_end_input").hide():this.container.find(".ranges").hide(),this.container.find(".calendar.right").hasClass("single")||this.container.find(".calendar.right").addClass("single")):(this.container.removeClass("single"),this.container.find(".calendar.right").removeClass("single"),this.container.find(".ranges").show()),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.oldChosenLabel=this.chosenLabel,this.leftCalendar={month:i([this.startDate.year(),this.startDate.month(),1,this.startDate.hour(),this.startDate.minute(),this.startDate.second()]),calendar:[]},this.rightCalendar={month:i([this.endDate.year(),this.endDate.month(),1,this.endDate.hour(),this.endDate.minute(),this.endDate.second()]),calendar:[]},"right"==this.opens||"center"==this.opens){var u=this.container.find(".calendar.first"),d=this.container.find(".calendar.second");d.hasClass("single")&&(d.removeClass("single"),u.addClass("single")),u.removeClass("left").addClass("right"),d.removeClass("right").addClass("left"),this.singleDatePicker&&(u.show(),d.hide())}"undefined"!=typeof t.ranges||this.singleDatePicker||this.container.addClass("show-calendar"),this.container.removeClass("opensleft opensright").addClass("opens"+this.opens),this.updateView(),this.updateCalendars();var p=this.container;l.each(this.buttonClasses,function(t,e){p.find("button").addClass(e)}),this.container.find(".daterangepicker_start_input label").html(this.locale.fromLabel),this.container.find(".daterangepicker_end_input label").html(this.locale.toLabel),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel)},setStartDate:function(t){"string"==typeof t&&(this.startDate=i(t,this.format).utcOffset(this.timeZone)),"object"==typeof t&&(this.startDate=i(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.oldStartDate=this.startDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},setEndDate:function(t){"string"==typeof t&&(this.endDate=i(t,this.format).utcOffset(this.timeZone)),"object"==typeof t&&(this.endDate=i(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.oldEndDate=this.endDate.clone(),this.updateView(),this.updateCalendars(),this.updateInputText()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateFormInputs()},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.format)),this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.format)),this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},updateFromControl:function(){if(this.element.is("input")&&this.element.val().length){var t=this.element.val().split(this.separator),e=null,l=null;2===t.length&&(e=i(t[0],this.format).utcOffset(this.timeZone),l=i(t[1],this.format).utcOffset(this.timeZone)),(this.singleDatePicker||null===e||null===l)&&(e=i(this.element.val(),this.format).utcOffset(this.timeZone),l=e),l.isBefore(e)||(this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.startDate=e,this.endDate=l,this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.updateCalendars())}},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide()},notify:function(){this.updateView(),this.cb(this.startDate,this.endDate,this.chosenLabel)},move:function(){var t,e={top:0,left:0},i=l(window).width();this.parentEl.is("body")||(e={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},i=this.parentEl[0].clientWidth+this.parentEl.offset().left),t="up"==this.drops?this.element.offset().top-this.container.outerHeight()-e.top:this.element.offset().top+this.element.outerHeight()-e.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:t,right:i-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:t,left:this.element.offset().left-e.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:t,left:this.element.offset().left-e.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>l(window).width()&&this.container.css({left:"auto",right:0}))},toggle:function(){this.element.hasClass("active")?this.hide():this.show()},show:function(){this.isShowing||(this.element.addClass("active"),this.container.show(),this.move(),this._outsideClickProxy=l.proxy(function(t){this.outsideClick(t)},this),l(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),this.isShowing=!0,this.element.trigger("show.daterangepicker",this))},outsideClick:function(t){var e=l(t.target);"focusin"==t.type||e.closest(this.element).length||e.closest(this.container).length||e.closest(".calendar-date").length||this.hide()},hide:function(){this.isShowing&&(l(document).off(".daterangepicker"),this.element.removeClass("active"),this.container.hide(),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.isShowing=!1,this.element.trigger("hide.daterangepicker",this))},enterRange:function(t){var e=t.target.innerHTML;if(e==this.locale.customRangeLabel)this.updateView();else{var i=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(i[0].format(this.format)),this.container.find("input[name=daterangepicker_end]").val(i[1].format(this.format))}},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},inputsChanged:function(t){var e=l(t.target),n=i(e.val(),this.format);if(n.isValid()){var s,a;"daterangepicker_start"===e.attr("name")?(s=!1!==this.minDate&&n.isBefore(this.minDate)?this.minDate:n,a=this.endDate):(s=this.startDate,a=!1!==this.maxDate&&n.isAfter(this.maxDate)?this.maxDate:n),this.setCustomDates(s,a)}},inputsKeydown:function(t){13===t.keyCode&&(this.inputsChanged(t),this.notify())},updateInputText:function(){this.element.is("input")&&!this.singleDatePicker?(this.element.val(this.startDate.format(this.format)+this.separator+this.endDate.format(this.format)),this.element.trigger("change")):this.element.is("input")&&(this.element.val(this.endDate.format(this.format)),this.element.trigger("change"))},clickRange:function(t){var e=t.target.innerHTML;if(this.chosenLabel=e,e==this.locale.customRangeLabel)this.showCalendars();else{var i=this.ranges[e];this.startDate=i[0],this.endDate=i[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateCalendars(),this.updateInputText(),this.hideCalendars(),this.hide(),this.element.trigger("apply.daterangepicker",this)}},clickPrev:function(t){var e=l(t.target).parents(".calendar");e.hasClass("left")?this.leftCalendar.month.subtract(1,"month"):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){var e=l(t.target).parents(".calendar");e.hasClass("left")?this.leftCalendar.month.add(1,"month"):this.rightCalendar.month.add(1,"month"),this.updateCalendars()},hoverDate:function(t){var e=l(t.target).attr("data-title"),i=e.substr(1,1),n=e.substr(3,1),s=l(t.target).parents(".calendar");s.hasClass("left")?this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[i][n].format(this.format)):this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[i][n].format(this.format))},setCustomDates:function(t,e){if(this.chosenLabel=this.locale.customRangeLabel,t.isAfter(e)){var l=this.endDate.diff(this.startDate);e=i(t).add(l,"ms"),this.maxDate&&e.isAfter(this.maxDate)&&(e=this.maxDate.clone())}this.startDate=t,this.endDate=e,this.updateView(),this.updateCalendars()},clickDate:function(t){var e,n,s=l(t.target).attr("data-title"),a=s.substr(1,1),o=s.substr(3,1),r=l(t.target).parents(".calendar");if(r.hasClass("left")){if(e=this.leftCalendar.calendar[a][o],n=this.endDate,"object"==typeof this.dateLimit){var h=i(e).add(this.dateLimit).startOf("day");n.isAfter(h)&&(n=h)}}else if(e=this.startDate,n=this.rightCalendar.calendar[a][o],"object"==typeof this.dateLimit){var c=i(n).subtract(this.dateLimit).startOf("day");e.isBefore(c)&&(e=c)}this.singleDatePicker&&r.hasClass("left")?n=e.clone():this.singleDatePicker&&r.hasClass("right")&&(e=n.clone()),r.find("td").removeClass("active"),l(t.target).addClass("active"),this.setCustomDates(e,n),this.timePicker||n.endOf("day"),this.singleDatePicker&&!this.timePicker&&this.clickApply()},clickApply:function(){this.updateInputText(),this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.chosenLabel=this.oldChosenLabel,this.updateView(),this.updateCalendars(),this.hide(),this.element.trigger("cancel.daterangepicker",this)},updateMonthYear:function(t){var e=l(t.target).closest(".calendar").hasClass("left"),i=e?"left":"right",n=this.container.find(".calendar."+i),s=parseInt(n.find(".monthselect").val(),10),a=n.find(".yearselect").val();e||this.singleDatePicker||(a<this.startDate.year()||a==this.startDate.year()&&s<this.startDate.month())&&(s=this.startDate.month(),a=this.startDate.year()),this.minDate&&(a<this.minDate.year()||a==this.minDate.year()&&s<this.minDate.month())&&(s=this.minDate.month(),a=this.minDate.year()),this.maxDate&&(a>this.maxDate.year()||a==this.maxDate.year()&&s>this.maxDate.month())&&(s=this.maxDate.month(),a=this.maxDate.year()),this[i+"Calendar"].month.month(s).year(a),this.updateCalendars()},updateTime:function(t){var e=l(t.target).closest(".calendar"),i=e.hasClass("left"),n=parseInt(e.find(".hourselect").val(),10),s=parseInt(e.find(".minuteselect").val(),10),a=0;if(this.timePickerSeconds&&(a=parseInt(e.find(".secondselect").val(),10)),this.timePicker12Hour){var o=e.find(".ampmselect").val();"PM"===o&&12>n&&(n+=12),"AM"===o&&12===n&&(n=0)}if(i){var r=this.startDate.clone();r.hour(n),r.minute(s),r.second(a),this.startDate=r,this.leftCalendar.month.hour(n).minute(s).second(a),this.singleDatePicker&&(this.endDate=r.clone())}else{var h=this.endDate.clone();h.hour(n),h.minute(s),h.second(a),this.endDate=h,this.singleDatePicker&&(this.startDate=h.clone()),this.rightCalendar.month.hour(n).minute(s).second(a)}this.updateView(),this.updateCalendars()},updateCalendars:function(){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),this.leftCalendar.month.hour(),this.leftCalendar.month.minute(),this.leftCalendar.month.second(),"left"),this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),this.rightCalendar.month.hour(),this.rightCalendar.month.minute(),this.rightCalendar.month.second(),"right"),this.container.find(".calendar.left").empty().html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate,"left")),this.container.find(".calendar.right").empty().html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.singleDatePicker?this.minDate:this.startDate,this.maxDate,"right")),this.container.find(".ranges li").removeClass("active");var t=!0,e=0;for(var i in this.ranges)this.timePicker?this.startDate.isSame(this.ranges[i][0])&&this.endDate.isSame(this.ranges[i][1])&&(t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html()):this.startDate.format("YYYY-MM-DD")==this.ranges[i][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[i][1].format("YYYY-MM-DD")&&(t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html()),e++;t&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},buildCalendar:function(t,e,l,n,s,a){var o,r=i([e,t]).daysInMonth(),h=i([e,t,1]),c=i([e,t,r]),u=i(h).subtract(1,"month").month(),d=i(h).subtract(1,"month").year(),p=i([d,u]).daysInMonth(),f=h.day(),m=[];for(m.firstDay=h,m.lastDay=c,o=0;6>o;o++)m[o]=[];var g=p-f+this.locale.firstDay+1;g>p&&(g-=7),f==this.locale.firstDay&&(g=p-6);var v,b,y=i([d,u,g,12,n,s]).utcOffset(this.timeZone);for(o=0,v=0,b=0;42>o;o++,v++,y=i(y).add(24,"hour"))o>0&&v%7===0&&(v=0,b++),m[b][v]=y.clone().hour(l),y.hour(12),this.minDate&&m[b][v].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&m[b][v].isBefore(this.minDate)&&"left"==a&&(m[b][v]=this.minDate.clone()),this.maxDate&&m[b][v].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&m[b][v].isAfter(this.maxDate)&&"right"==a&&(m[b][v]=this.maxDate.clone());return m},renderDropdowns:function(t,e,i){for(var l=t.month(),n=t.year(),s=i&&i.year()||n+5,a=e&&e.year()||n-50,o='<select class="monthselect">',r=n==a,h=n==s,c=0;12>c;c++)(!r||c>=e.month())&&(!h||c<=i.month())&&(o+="<option value='"+c+"'"+(c===l?" selected='selected'":"")+">"+this.locale.monthNames[c]+"</option>");o+="</select>";for(var u='<select class="yearselect">',d=a;s>=d;d++)u+='<option value="'+d+'"'+(d===n?' selected="selected"':"")+">"+d+"</option>";return u+="</select>",o+u},renderCalendar:function(t,e,i,n,s){var a='<div class="calendar-date">';a+='<table class="table-condensed">',a+="<thead>",a+="<tr>",this.showWeekNumbers&&(a+="<th></th>"),a+=!i||i.isBefore(t.firstDay)?'<th class="prev available"><i class="fa fa-arrow-left icon icon-arrow-left glyphicon glyphicon-arrow-left"></i></th>':"<th></th>";var o=this.locale.monthNames[t[1][1].month()]+t[1][1].format(" YYYY");this.showDropdowns&&(o=this.renderDropdowns(t[1][1],i,n)),a+='<th colspan="5" class="month">'+o+"</th>",a+=!n||n.isAfter(t.lastDay)?'<th class="next available"><i class="fa fa-arrow-right icon icon-arrow-right glyphicon glyphicon-arrow-right"></i></th>':"<th></th>",a+="</tr>",a+="<tr>",this.showWeekNumbers&&(a+='<th class="week">'+this.locale.weekLabel+"</th>"),l.each(this.locale.daysOfWeek,function(t,e){a+="<th>"+e+"</th>"}),a+="</tr>",a+="</thead>",a+="<tbody>";for(var r=0;6>r;r++){a+="<tr>",this.showWeekNumbers&&(a+='<td class="week">'+t[r][0].week()+"</td>");for(var h=0;7>h;h++){var c="available ";c+=t[r][h].month()==t[1][1].month()?"":"off",i&&t[r][h].isBefore(i,"day")||n&&t[r][h].isAfter(n,"day")?c=" off disabled ":t[r][h].format("YYYY-MM-DD")==e.format("YYYY-MM-DD")?(c+=" active ",t[r][h].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&(c+=" start-date "),t[r][h].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&(c+=" end-date ")):t[r][h]>=this.startDate&&t[r][h]<=this.endDate&&(c+=" in-range ",t[r][h].isSame(this.startDate)&&(c+=" start-date "),t[r][h].isSame(this.endDate)&&(c+=" end-date "));var u="r"+r+"c"+h;a+='<td class="'+c.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+u+'">'+t[r][h].date()+"</td>"}a+="</tr>"}a+="</tbody>",a+="</table>",a+="</div>";var d;if(this.timePicker){a+='<div class="calendar-time">',a+='<select class="hourselect">';var p=0,f=23;i&&("left"==s||this.singleDatePicker)&&e.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&(p=i.hour(),e.hour()<p&&e.hour(p),this.timePicker12Hour&&p>=12&&e.hour()>=12&&(p-=12),this.timePicker12Hour&&12==p&&(p=1)),n&&("right"==s||this.singleDatePicker)&&e.format("YYYY-MM-DD")==n.format("YYYY-MM-DD")&&(f=n.hour(),e.hour()>f&&e.hour(f),this.timePicker12Hour&&f>=12&&e.hour()>=12&&(f-=12));var m=0,g=23,v=e.hour();for(this.timePicker12Hour&&(m=1,g=12,v>=12&&(v-=12),0===v&&(v=12)),d=m;g>=d;d++)a+=d==v?'<option value="'+d+'" selected="selected">'+d+"</option>":p>d||d>f?'<option value="'+d+'" disabled="disabled" class="disabled">'+d+"</option>":'<option value="'+d+'">'+d+"</option>";a+="</select> : ",a+='<select class="minuteselect">';var b=0,y=59;for(i&&("left"==s||this.singleDatePicker)&&e.format("YYYY-MM-DD h A")==i.format("YYYY-MM-DD h A")&&(b=i.minute(),e.minute()<b&&e.minute(b)),n&&("right"==s||this.singleDatePicker)&&e.format("YYYY-MM-DD h A")==n.format("YYYY-MM-DD h A")&&(y=n.minute(),e.minute()>y&&e.minute(y)),d=0;60>d;d+=this.timePickerIncrement){var _=d;10>_&&(_="0"+_),a+=d==e.minute()?'<option value="'+d+'" selected="selected">'+_+"</option>":b>d||d>y?'<option value="'+d+'" disabled="disabled" class="disabled">'+_+"</option>":'<option value="'+d+'">'+_+"</option>"}if(a+="</select> ",this.timePickerSeconds){for(a+=': <select class="secondselect">',d=0;60>d;d+=this.timePickerIncrement){var _=d;10>_&&(_="0"+_),a+=d==e.second()?'<option value="'+d+'" selected="selected">'+_+"</option>":'<option value="'+d+'">'+_+"</option>"}a+="</select>"}if(this.timePicker12Hour){a+='<select class="ampmselect">';var w="",x="";i&&("left"==s||this.singleDatePicker)&&e.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&i.hour()>=12&&(w=' disabled="disabled" class="disabled"'),n&&("right"==s||this.singleDatePicker)&&e.format("YYYY-MM-DD")==n.format("YYYY-MM-DD")&&n.hour()<12&&(x=' disabled="disabled" class="disabled"'),a+=e.hour()>=12?'<option value="AM"'+w+'>AM</option><option value="PM" selected="selected"'+x+">PM</option>":'<option value="AM" selected="selected"'+w+'>AM</option><option value="PM"'+x+">PM</option>",a+="</select>"}a+="</div>"}return a},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData("daterangepicker")}},l.fn.daterangepicker=function(t,e){return this.each(function(){var i=l(this);i.data("daterangepicker")&&i.data("daterangepicker").remove(),i.data("daterangepicker",new n(i,t,e))}),this}}),/*! Select2 4.0.0 | https://github.com/select2/select2/blob/master/LICENSE.md */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var e;return function(){if(!e||!e.requirejs){e?i=e:e={};var t,i,l;!function(e){function n(t,e){return _.call(t,e)}function s(t,e){var i,l,n,s,a,o,r,h,c,u,d,p=e&&e.split("/"),f=b.map,m=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(p=p.slice(0,p.length-1),t=t.split("/"),a=t.length-1,b.nodeIdCompat&&x.test(t[a])&&(t[a]=t[a].replace(x,"")),t=p.concat(t),c=0;c<t.length;c+=1)if(d=t[c],"."===d)t.splice(c,1),c-=1;else if(".."===d){if(1===c&&(".."===t[2]||".."===t[0]))break;c>0&&(t.splice(c-1,2),c-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((p||m)&&f){for(i=t.split("/"),c=i.length;c>0;c-=1){if(l=i.slice(0,c).join("/"),p)for(u=p.length;u>0;u-=1)if(n=f[p.slice(0,u).join("/")],n&&(n=n[l])){s=n,o=c;break}if(s)break;!r&&m&&m[l]&&(r=m[l],h=c)}!s&&r&&(s=r,o=h),s&&(i.splice(0,o,s),t=i.join("/"))}return t}function a(t,i){return function(){return p.apply(e,w.call(arguments,0).concat([t,i]))}}function o(t){return function(e){return s(e,t)}}function r(t){return function(e){g[t]=e}}function h(t){if(n(v,t)){var i=v[t];delete v[t],y[t]=!0,d.apply(e,i)}if(!n(g,t)&&!n(y,t))throw new Error("No "+t);return g[t]}function c(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function u(t){return function(){return b&&b.config&&b.config[t]||{}}}var d,p,f,m,g={},v={},b={},y={},_=Object.prototype.hasOwnProperty,w=[].slice,x=/\.js$/;f=function(t,e){var i,l=c(t),n=l[0];return t=l[1],n&&(n=s(n,e),i=h(n)),n?t=i&&i.normalize?i.normalize(t,o(e)):s(t,e):(t=s(t,e),l=c(t),n=l[0],t=l[1],n&&(i=h(n))),{f:n?n+"!"+t:t,n:t,pr:n,p:i}},m={require:function(t){return a(t)},exports:function(t){var e=g[t];return"undefined"!=typeof e?e:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:u(t)}}},d=function(t,i,l,s){var o,c,u,d,p,b,_=[],w=typeof l;if(s=s||t,"undefined"===w||"function"===w){for(i=!i.length&&l.length?["require","exports","module"]:i,p=0;p<i.length;p+=1)if(d=f(i[p],s),c=d.f,"require"===c)_[p]=m.require(t);else if("exports"===c)_[p]=m.exports(t),b=!0;else if("module"===c)o=_[p]=m.module(t);else if(n(g,c)||n(v,c)||n(y,c))_[p]=h(c);else{if(!d.p)throw new Error(t+" missing "+c);d.p.load(d.n,a(s,!0),r(c),{}),_[p]=g[c]}u=l?l.apply(g[t],_):void 0,t&&(o&&o.exports!==e&&o.exports!==g[t]?g[t]=o.exports:u===e&&b||(g[t]=u))}else t&&(g[t]=l)},t=i=p=function(t,i,l,n,s){if("string"==typeof t)return m[t]?m[t](i):h(f(t,i).f);if(!t.splice){if(b=t,b.deps&&p(b.deps,b.callback),!i)return;i.splice?(t=i,i=l,l=null):t=e}return i=i||function(){},"function"==typeof l&&(l=n,n=s),n?d(e,t,i,l):setTimeout(function(){d(e,t,i,l)},4),p},p.config=function(t){return p(t)},t._defined=g,l=function(t,e,i){e.splice||(i=e,e=[]),n(g,t)||n(v,t)||(v[t]=[t,e,i])},l.amd={jQuery:!0}}(),e.requirejs=t,e.require=i,e.define=l}}(),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(t){function e(t){var e=t.prototype,i=[];for(var l in e){var n=e[l];"function"==typeof n&&"constructor"!==l&&i.push(l)}return i}var i={};i.Extend=function(t,e){function i(){this.constructor=t}var l={}.hasOwnProperty;for(var n in e)l.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},i.Decorate=function(t,i){function l(){var e=Array.prototype.unshift,l=i.prototype.constructor.length,n=t.prototype.constructor;l>0&&(e.call(arguments,t.prototype.constructor),n=i.prototype.constructor),n.apply(this,arguments)}function n(){this.constructor=l}var s=e(i),a=e(t);i.displayName=t.displayName,l.prototype=new n;for(var o=0;o<a.length;o++){var r=a[o];l.prototype[r]=t.prototype[r]}for(var h=(function(t){var e=function(){};t in l.prototype&&(e=l.prototype[t]);var n=i.prototype[t];return function(){var t=Array.prototype.unshift;return t.call(arguments,e),n.apply(this,arguments)}}),c=0;c<s.length;c++){var u=s[c];l.prototype[u]=h(u)}return l};var l=function(){this.listeners={}};return l.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},l.prototype.trigger=function(t){var e=Array.prototype.slice;this.listeners=this.listeners||{},t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},l.prototype.invoke=function(t,e){for(var i=0,l=t.length;l>i;i++)t[i].apply(this,e)},i.Observable=l,i.generateChars=function(t){for(var e="",i=0;t>i;i++){var l=Math.floor(36*Math.random());e+=l.toString(36)}return e},i.bind=function(t,e){return function(){t.apply(e,arguments)}},i._convertData=function(t){for(var e in t){var i=e.split("-"),l=t;if(1!==i.length){for(var n=0;n<i.length;n++){var s=i[n];s=s.substring(0,1).toLowerCase()+s.substring(1),s in l||(l[s]={}),n==i.length-1&&(l[s]=t[e]),l=l[s]}delete t[e]}}return t},i.hasScroll=function(e,i){var l=t(i),n=i.style.overflowX,s=i.style.overflowY;return n!==s||"hidden"!==s&&"visible"!==s?"scroll"===n||"scroll"===s?!0:l.innerHeight()<i.scrollHeight||l.innerWidth()<i.scrollWidth:!1},i.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},i.appendMany=function(e,i){if("1.7"===t.fn.jquery.substr(0,3)){var l=t();t.map(i,function(t){l=l.add(t)}),i=l}e.append(i)},i}),e.define("select2/results",["jquery","./utils"],function(t,e){function i(t,e,l){this.$element=t,this.data=l,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(e){var i=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var l=t('<li role="treeitem" class="select2-results__option"></li>'),n=this.options.get("translations").get(e.message);l.append(i(n(e.args))),this.$results.append(l)},i.prototype.append=function(t){this.hideLoading();var e=[];if(null==t.results||0===t.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));t.results=this.sort(t.results);for(var i=0;i<t.results.length;i++){var l=t.results[i],n=this.option(l);e.push(n)}this.$results.append(e)},i.prototype.position=function(t,e){var i=e.find(".select2-results");i.append(t)},i.prototype.sort=function(t){var e=this.options.get("sorter");return e(t)},i.prototype.setClasses=function(){var e=this;this.data.current(function(i){var l=t.map(i,function(t){return t.id.toString()}),n=e.$results.find(".select2-results__option[aria-selected]");n.each(function(){var e=t(this),i=t.data(this,"data"),n=""+i.id;null!=i.element&&i.element.selected||null==i.element&&t.inArray(n,l)>-1?e.attr("aria-selected","true"):e.attr("aria-selected","false")});var s=n.filter("[aria-selected=true]");s.length>0?s.first().trigger("mouseenter"):n.first().trigger("mouseenter")})},i.prototype.showLoading=function(t){this.hideLoading();var e=this.options.get("translations").get("searching"),i={disabled:!0,loading:!0,text:e(t)},l=this.option(i);l.className+=" loading-results",this.$results.prepend(l)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(e){var i=document.createElement("li");i.className="select2-results__option";var l={role:"treeitem","aria-selected":"false"};e.disabled&&(delete l["aria-selected"],l["aria-disabled"]="true"),null==e.id&&delete l["aria-selected"],null!=e._resultId&&(i.id=e._resultId),e.title&&(i.title=e.title),e.children&&(l.role="group",l["aria-label"]=e.text,delete l["aria-selected"]);for(var n in l){var s=l[n];i.setAttribute(n,s)}if(e.children){var a=t(i),o=document.createElement("strong");o.className="select2-results__group",t(o),this.template(e,o);for(var r=[],h=0;h<e.children.length;h++){var c=e.children[h],u=this.option(c);r.push(u)}var d=t("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});d.append(r),a.append(o),a.append(d)}else this.template(e,i);return t.data(i,"data",e),i},i.prototype.bind=function(e){var i=this,l=e.id+"-results";this.$results.attr("id",l),e.on("results:all",function(t){i.clear(),i.append(t.data),e.isOpen()&&i.setClasses()}),e.on("results:append",function(t){i.append(t.data),e.isOpen()&&i.setClasses()}),e.on("query",function(t){i.showLoading(t)}),e.on("select",function(){e.isOpen()&&i.setClasses()}),e.on("unselect",function(){e.isOpen()&&i.setClasses()}),e.on("open",function(){i.$results.attr("aria-expanded","true"),i.$results.attr("aria-hidden","false"),i.setClasses(),i.ensureHighlightVisible()}),e.on("close",function(){i.$results.attr("aria-expanded","false"),i.$results.attr("aria-hidden","true"),i.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=i.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=i.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?i.trigger("close"):i.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=i.getHighlightedResults(),e=i.$results.find("[aria-selected]"),l=e.index(t);if(0!==l){var n=l-1;0===t.length&&(n=0);var s=e.eq(n);s.trigger("mouseenter");var a=i.$results.offset().top,o=s.offset().top,r=i.$results.scrollTop()+(o-a);0===n?i.$results.scrollTop(0):0>o-a&&i.$results.scrollTop(r)}}),e.on("results:next",function(){var t=i.getHighlightedResults(),e=i.$results.find("[aria-selected]"),l=e.index(t),n=l+1;if(!(n>=e.length)){var s=e.eq(n);s.trigger("mouseenter");var a=i.$results.offset().top+i.$results.outerHeight(!1),o=s.offset().top+s.outerHeight(!1),r=i.$results.scrollTop()+o-a;0===n?i.$results.scrollTop(0):o>a&&i.$results.scrollTop(r)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){i.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=i.$results.scrollTop(),l=i.$results.get(0).scrollHeight-i.$results.scrollTop()+t.deltaY,n=t.deltaY>0&&e-t.deltaY<=0,s=t.deltaY<0&&l<=i.$results.height();n?(i.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):s&&(i.$results.scrollTop(i.$results.get(0).scrollHeight-i.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var l=t(this),n=l.data("data");return"true"===l.attr("aria-selected")?void(i.options.get("multiple")?i.trigger("unselect",{originalEvent:e,data:n}):i.trigger("close")):void i.trigger("select",{originalEvent:e,data:n})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var e=t(this).data("data");i.getHighlightedResults().removeClass("select2-results__option--highlighted"),i.trigger("results:focus",{data:e,element:t(this)})})},i.prototype.getHighlightedResults=function(){var t=this.$results.find(".select2-results__option--highlighted");return t},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]"),i=e.index(t),l=this.$results.offset().top,n=t.offset().top,s=this.$results.scrollTop()+(n-l),a=n-l;s-=2*t.outerHeight(!1),2>=i?this.$results.scrollTop(0):(a>this.$results.outerHeight()||0>a)&&this.$results.scrollTop(s)}},i.prototype.template=function(e,i){var l=this.options.get("templateResult"),n=this.options.get("escapeMarkup"),s=l(e);null==s?i.style.display="none":"string"==typeof s?i.innerHTML=n(s):t(i).append(s)},i}),e.define("select2/keys",[],function(){var t={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return t}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,i){function l(t,e){this.$element=t,this.options=e,l.__super__.constructor.call(this)}return e.Extend(l,e.Observable),l.prototype.render=function(){var e=t('<span class="select2-selection" role="combobox" aria-autocomplete="list" aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e,e},l.prototype.bind=function(t){var e=this,l=(t.id+"-container",t.id+"-results");this.container=t,this.$selection.on("focus",function(t){e.trigger("focus",t)}),this.$selection.on("blur",function(t){e.trigger("blur",t)}),this.$selection.on("keydown",function(t){e.trigger("keypress",t),t.which===i.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){e.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){e.update(t.data)}),t.on("open",function(){e.$selection.attr("aria-expanded","true"),e.$selection.attr("aria-owns",l),e._attachCloseHandler(t)}),t.on("close",function(){e.$selection.attr("aria-expanded","false"),e.$selection.removeAttr("aria-activedescendant"),e.$selection.removeAttr("aria-owns"),e.$selection.focus(),e._detachCloseHandler(t)}),t.on("enable",function(){e.$selection.attr("tabindex",e._tabindex)}),t.on("disable",function(){e.$selection.attr("tabindex","-1")})},l.prototype._attachCloseHandler=function(e){t(document.body).on("mousedown.select2."+e.id,function(e){var i=t(e.target),l=i.closest(".select2"),n=t(".select2.select2-container--open");n.each(function(){var e=t(this);if(this!=l[0]){var i=e.data("element");i.select2("close")}})})},l.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},l.prototype.position=function(t,e){var i=e.find(".selection");i.append(t)},l.prototype.destroy=function(){this._detachCloseHandler(this.container)},l.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.")},l}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,i){function l(){l.__super__.constructor.apply(this,arguments)}return i.Extend(l,e),l.prototype.render=function(){var t=l.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},l.prototype.bind=function(t){var e=this;l.__super__.bind.apply(this,arguments);var i=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(t){1===t.which&&e.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(){}),this.$selection.on("blur",function(){}),t.on("selection:update",function(t){e.update(t.data)})},l.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},l.prototype.display=function(t){var e=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(e(t))},l.prototype.selectionContainer=function(){return t("<span></span>")},l.prototype.update=function(t){if(0===t.length)return void this.clear();var e=t[0],i=this.display(e),l=this.$selection.find(".select2-selection__rendered");l.empty().append(i),l.prop("title",e.title||e.text)},l}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,i){function l(){l.__super__.constructor.apply(this,arguments)}return i.Extend(l,e),l.prototype.render=function(){var t=l.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},l.prototype.bind=function(){var e=this;l.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){e.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(i){var l=t(this),n=l.parent(),s=n.data("data");e.trigger("unselect",{originalEvent:i,data:s})})},l.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},l.prototype.display=function(t){var e=this.options.get("templateSelection"),i=this.options.get("escapeMarkup");return i(e(t))},l.prototype.selectionContainer=function(){var e=t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return e},l.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],l=0;l<t.length;l++){var n=t[l],s=this.display(n),a=this.selectionContainer();a.append(s),a.prop("title",n.title||n.text),a.data("data",n),e.push(a)}var o=this.$selection.find(".select2-selection__rendered");i.appendMany(o,e)}},l}),e.define("select2/selection/placeholder",["../utils"],function(){function t(t,e,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i)}return t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.createPlaceholder=function(t,e){var i=this.selectionContainer();return i.html(this.display(e)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},t.prototype.update=function(t,e){var i=1==e.length&&e[0].id!=this.placeholder.id,l=e.length>1;if(l||i)return t.call(this,e);this.clear();var n=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(n)},t}),e.define("select2/selection/allowClear",["jquery","../keys"],function(t,e){function i(){}return i.prototype.bind=function(t,e,i){var l=this;t.call(this,e,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){l._handleClear(t)}),e.on("keypress",function(t){l._handleKeyboardClear(t,e)})},i.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){e.stopPropagation();for(var l=i.data("data"),n=0;n<l.length;n++){var s={data:l[n]};if(this.trigger("unselect",s),s.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle")}}},i.prototype._handleKeyboardClear=function(t,i,l){l.isOpen()||(i.which==e.DELETE||i.which==e.BACKSPACE)&&this._handleClear(i)},i.prototype.update=function(e,i){if(e.call(this,i),!(this.$selection.find(".select2-selection__placeholder").length>0||0===i.length)){var l=t('<span class="select2-selection__clear">&times;</span>');l.data("data",i),this.$selection.find(".select2-selection__rendered").prepend(l)}},i}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,i){function l(t,e,i){t.call(this,e,i)}return l.prototype.render=function(e){var i=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></li>');this.$searchContainer=i,this.$search=i.find("input");var l=e.call(this);return l},l.prototype.bind=function(t,e,l){var n=this;t.call(this,e,l),e.on("open",function(){n.$search.attr("tabindex",0),n.$search.focus()}),e.on("close",function(){n.$search.attr("tabindex",-1),n.$search.val(""),n.$search.focus()}),e.on("enable",function(){n.$search.prop("disabled",!1)}),e.on("disable",function(){n.$search.prop("disabled",!0)}),this.$selection.on("focusin",".select2-search--inline",function(t){n.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){n.trigger("blur",t)}),this.$selection.on("keydown",".select2-search--inline",function(t){t.stopPropagation(),n.trigger("keypress",t),n._keyUpPrevented=t.isDefaultPrevented();var e=t.which;if(e===i.BACKSPACE&&""===n.$search.val()){var l=n.$searchContainer.prev(".select2-selection__choice");if(l.length>0){var s=l.data("data");n.searchRemoveChoice(s),t.preventDefault()}}}),this.$selection.on("input",".select2-search--inline",function(){n.$selection.off("keyup.search")}),this.$selection.on("keyup.search input",".select2-search--inline",function(t){n.handleSearch(t)})},l.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},l.prototype.update=function(t,e){this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch()},l.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},l.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.trigger("open"),this.$search.val(e.text+" ")},l.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";if(""!==this.$search.attr("placeholder"))t=this.$selection.find(".select2-selection__rendered").innerWidth();else{var e=this.$search.val().length+1;t=.75*e+"em"}this.$search.css("width",t)},l}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,i,l){var n=this,s=["open","opening","close","closing","select","selecting","unselect","unselecting"],a=["opening","closing","selecting","unselecting"];e.call(this,i,l),i.on("*",function(e,i){if(-1!==t.inArray(e,s)){i=i||{};var l=t.Event("select2:"+e,{params:i});n.$element.trigger(l),-1!==t.inArray(e,a)&&(i.prevented=l.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function i(t){this.dict=t||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(t){return this.dict[t]},i.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},i._cache={},i.loadPath=function(t){if(!(t in i._cache)){var l=e(t);i._cache[t]=l}return new i(i._cache[t])},i}),e.define("select2/diacritics",[],function(){var t={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x",
"\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03c9":"\u03c9","\u03c2":"\u03c3"};return t}),e.define("select2/data/base",["../utils"],function(t){function e(){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,i){var l=e.id+"-result-";return l+=t.generateChars(4),l+=null!=i.id?"-"+i.id.toString():"-"+t.generateChars(4)},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,i){function l(t,e){this.$element=t,this.options=e,l.__super__.constructor.call(this)}return e.Extend(l,t),l.prototype.current=function(t){var e=[],l=this;this.$element.find(":selected").each(function(){var t=i(this),n=l.item(t);e.push(n)}),t(e)},l.prototype.select=function(t){var e=this;if(t.selected=!0,i(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(l){var n=[];t=[t],t.push.apply(t,l);for(var s=0;s<t.length;s++){var a=t[s].id;-1===i.inArray(a,n)&&n.push(a)}e.$element.val(n),e.$element.trigger("change")});else{var l=t.id;this.$element.val(l),this.$element.trigger("change")}},l.prototype.unselect=function(t){var e=this;return this.$element.prop("multiple")?(t.selected=!1,i(t.element).is("option")?(t.element.selected=!1,void this.$element.trigger("change")):void this.current(function(l){for(var n=[],s=0;s<l.length;s++){var a=l[s].id;a!==t.id&&-1===i.inArray(a,n)&&n.push(a)}e.$element.val(n),e.$element.trigger("change")})):void 0},l.prototype.bind=function(t){var e=this;this.container=t,t.on("select",function(t){e.select(t.data)}),t.on("unselect",function(t){e.unselect(t.data)})},l.prototype.destroy=function(){this.$element.find("*").each(function(){i.removeData(this,"data")})},l.prototype.query=function(t,e){var l=[],n=this,s=this.$element.children();s.each(function(){var e=i(this);if(e.is("option")||e.is("optgroup")){var s=n.item(e),a=n.matches(t,s);null!==a&&l.push(a)}}),e({results:l})},l.prototype.addOptions=function(t){e.appendMany(this.$element,t)},l.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup"),e.label=t.text):(e=document.createElement("option"),void 0!==e.textContent?e.textContent=t.text:e.innerText=t.text),t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var l=i(e),n=this._normalizeItem(t);return n.element=e,i.data(e,"data",n),l},l.prototype.item=function(t){var e={};if(e=i.data(t[0],"data"),null!=e)return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var l=t.children("option"),n=[],s=0;s<l.length;s++){var a=i(l[s]),o=this.item(a);n.push(o)}e.children=n}return e=this._normalizeItem(e),e.element=t[0],i.data(t[0],"data",e),e},l.prototype._normalizeItem=function(t){i.isPlainObject(t)||(t={id:t,text:t}),t=i.extend({},{text:""},t);var e={selected:!1,disabled:!1};return null!=t.id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),i.extend({},e,t)},l.prototype.matches=function(t,e){var i=this.options.get("matcher");return i(t,e)},l}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,i){function l(t,e){var i=e.get("data")||[];l.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(i))}return e.Extend(l,t),l.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,i){return i.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),l.__super__.select.call(this,t)},l.prototype.convertToOptions=function(t){function l(t){return function(){return i(this).val()==t.id}}for(var n=this,s=this.$element.find("option"),a=s.map(function(){return n.item(i(this)).id}).get(),o=[],r=0;r<t.length;r++){var h=this._normalizeItem(t[r]);if(i.inArray(h.id,a)>=0){var c=s.filter(l(h)),u=this.item(c),d=(i.extend(!0,{},u,h),this.option(u));c.replaceWith(d)}else{var p=this.option(h);if(h.children){var f=this.convertToOptions(h.children);e.appendMany(p,f)}o.push(p)}}return o},l}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,i){function l(e,i){this.ajaxOptions=this._applyDefaults(i.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),t.__super__.constructor.call(this,e,i)}return e.Extend(l,t),l.prototype._applyDefaults=function(t){var e={data:function(t){return{q:t.term}},transport:function(t,e,l){var n=i.ajax(t);return n.then(e),n.fail(l),n}};return i.extend({},e,t,!0)},l.prototype.processResults=function(t){return t},l.prototype.query=function(t,e){function l(){var l=s.transport(s,function(l){var s=n.processResults(l,t);n.options.get("debug")&&window.console&&console.error&&(s&&s.results&&i.isArray(s.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(s)},function(){});n._request=l}var n=this;null!=this._request&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var s=i.extend({type:"GET"},this.ajaxOptions);"function"==typeof s.url&&(s.url=s.url(t)),"function"==typeof s.data&&(s.data=s.data(t)),this.ajaxOptions.delay&&""!==t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(l,this.ajaxOptions.delay)):l()},l}),e.define("select2/data/tags",["jquery"],function(t){function e(e,i,l){var n=l.get("tags"),s=l.get("createTag");if(void 0!==s&&(this.createTag=s),e.call(this,i,l),t.isArray(n))for(var a=0;a<n.length;a++){var o=n[a],r=this._normalizeItem(o),h=this.option(r);this.$element.append(h)}}return e.prototype.query=function(t,e,i){function l(t,s){for(var a=t.results,o=0;o<a.length;o++){var r=a[o],h=null!=r.children&&!l({results:r.children},!0),c=r.text===e.term;if(c||h)return s?!1:(t.data=a,void i(t))}if(s)return!0;var u=n.createTag(e);if(null!=u){var d=n.option(u);d.attr("data-select2-tag",!0),n.addOptions([d]),n.insertTag(a,u)}t.results=a,i(t)}var n=this;return this._removeOldTags(),null==e.term||null!=e.page?void t.call(this,e,i):void t.call(this,e,l)},e.prototype.createTag=function(e,i){var l=t.trim(i.term);return""===l?null:{id:l,text:l}},e.prototype.insertTag=function(t,e,i){e.unshift(i)},e.prototype._removeOldTags=function(){var e=(this._lastTag,this.$element.find("option[data-select2-tag]"));e.each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,i){var l=i.get("tokenizer");void 0!==l&&(this.tokenizer=l),t.call(this,e,i)}return e.prototype.bind=function(t,e,i){t.call(this,e,i),this.$search=e.dropdown.$search||e.selection.$search||i.find(".select2-search__field")},e.prototype.query=function(t,e,i){function l(t){n.select(t)}var n=this;e.term=e.term||"";var s=this.tokenizer(e,this.options,l);s.term!==e.term&&(this.$search.length&&(this.$search.val(s.term),this.$search.focus()),e.term=s.term),t.call(this,e,i)},e.prototype.tokenizer=function(e,i,l,n){for(var s=l.get("tokenSeparators")||[],a=i.term,o=0,r=this.createTag||function(t){return{id:t.term,text:t.term}};o<a.length;){var h=a[o];if(-1!==t.inArray(h,s)){var c=a.substr(0,o),u=t.extend({},i,{term:c}),d=r(u);n(d),a=a.substr(o+1)||"",o=0}else o++}return{term:a}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,i){this.minimumInputLength=i.get("minimumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){return e.term=e.term||"",e.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):void t.call(this,e,i)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,i){this.maximumInputLength=i.get("maximumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){return e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):void t.call(this,e,i)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){var l=this;this.current(function(n){var s=null!=n?n.length:0;return l.maximumSelectionLength>0&&s>=l.maximumSelectionLength?void l.trigger("results:message",{message:"maximumSelected",args:{maximum:l.maximumSelectionLength}}):void t.call(l,e,i)})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},i.prototype.position=function(){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),e.define("select2/dropdown/search",["jquery","../utils"],function(t){function e(){}return e.prototype.render=function(e){var i=e.call(this),l=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=l,this.$search=l.find("input"),i.prepend(l),i},e.prototype.bind=function(e,i,l){var n=this;e.call(this,i,l),this.$search.on("keydown",function(t){n.trigger("keypress",t),n._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(){t(this).off("keyup")}),this.$search.on("keyup input",function(t){n.handleSearch(t)}),i.on("open",function(){n.$search.attr("tabindex",0),n.$search.focus(),window.setTimeout(function(){n.$search.focus()},0)}),i.on("close",function(){n.$search.attr("tabindex",-1),n.$search.val("")}),i.on("results:all",function(t){if(null==t.query.term||""===t.query.term){var e=n.showSearch(t);e?n.$searchContainer.removeClass("select2-search--hide"):n.$searchContainer.addClass("select2-search--hide")}})},e.prototype.handleSearch=function(){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},e.prototype.showSearch=function(){return!0},e}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,i,l){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i,l)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var i=e.slice(0),l=e.length-1;l>=0;l--){var n=e[l];this.placeholder.id===n.id&&i.splice(l,1)}return i},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,i,l){this.lastParams={},t.call(this,e,i,l),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,i,l){var n=this;e.call(this,i,l),i.on("query",function(t){n.lastParams=t,n.loading=!0}),i.on("query:append",function(t){n.lastParams=t,n.loading=!0}),this.$results.on("scroll",function(){var e=t.contains(document.documentElement,n.$loadingMore[0]);if(!n.loading&&e){var i=n.$results.offset().top+n.$results.outerHeight(!1),l=n.$loadingMore.offset().top+n.$loadingMore.outerHeight(!1);i+50>=l&&n.loadMore()}})},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="option load-more" role="treeitem"></li>'),i=this.options.get("translations").get("loadingMore");return e.html(i(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function i(t,e,i){this.$dropdownParent=i.get("dropdownParent")||document.body,t.call(this,e,i)}return i.prototype.bind=function(t,e,i){var l=this,n=!1;t.call(this,e,i),e.on("open",function(){l._showDropdown(),l._attachPositioningHandler(e),n||(n=!0,e.on("results:all",function(){l._positionDropdown(),l._resizeDropdown()}),e.on("results:append",function(){l._positionDropdown(),l._resizeDropdown()}))}),e.on("close",function(){l._hideDropdown(),l._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},i.prototype.position=function(t,e,i){e.attr("class",i.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=i},i.prototype.render=function(e){var i=t("<span></span>"),l=e.call(this);return i.append(l),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},i.prototype._attachPositioningHandler=function(i){var l=this,n="scroll.select2."+i.id,s="resize.select2."+i.id,a="orientationchange.select2."+i.id,o=this.$container.parents().filter(e.hasScroll);o.each(function(){t(this).data("select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),o.on(n,function(){var e=t(this).data("select2-scroll-position");t(this).scrollTop(e.y)}),t(window).on(n+" "+s+" "+a,function(){l._positionDropdown(),l._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i){var l="scroll.select2."+i.id,n="resize.select2."+i.id,s="orientationchange.select2."+i.id,a=this.$container.parents().filter(e.hasScroll);a.off(l),t(window).off(l+" "+n+" "+s)},i.prototype._positionDropdown=function(){var e=t(window),i=this.$dropdown.hasClass("select2-dropdown--above"),l=this.$dropdown.hasClass("select2-dropdown--below"),n=null,s=(this.$container.position(),this.$container.offset());s.bottom=s.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=s.top,a.bottom=s.top+a.height;var o={height:this.$dropdown.outerHeight(!1)},r={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},h=r.top<s.top-o.height,c=r.bottom>s.bottom+o.height,u={left:s.left,top:a.bottom};i||l||(n="below"),c||!h||i?!h&&c&&i&&(n="below"):n="above",("above"==n||i&&"below"!==n)&&(u.top=a.top-o.height),null!=n&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+n),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+n)),this.$dropdownContainer.css(u)},i.prototype._resizeDropdown=function(){this.$dropdownContainer.width();var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.width="auto"),this.$dropdown.css(t)},i.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},i}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(e){for(var i=0,l=0;l<e.length;l++){var n=e[l];n.children?i+=t(n.children):i++}return i}function e(t,e,i,l){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,i,l)}return e.prototype.showSearch=function(e,i){return t(i.data.results)<this.minimumResultsForSearch?!1:e.call(this,i)},e}),e.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var l=this;t.call(this,e,i),e.on("close",function(){l._handleSelectOnClose()})},t.prototype._handleSelectOnClose=function(){var t=this.getHighlightedResults();t.length<1||this.trigger("select",{data:t.data("data")})},t}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var l=this;t.call(this,e,i),e.on("select",function(t){l._selectTriggered(t)}),e.on("unselect",function(t){l._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var i=e.originalEvent;i&&i.ctrlKey||this.trigger("close")},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,i="Please delete "+e+" character";return 1!=e&&(i+="s"),i},inputTooShort:function(t){var e=t.minimum-t.input.length,i="Please enter "+e+" or more characters";return i},loadingMore:function(){return"Loading more results\u2026"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching\u2026"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,i,l,n,s,a,o,r,h,c,u,d,p,f,m,g,v,b,y,_,w,x,k,C,M,D,S,T){function E(){this.reset()}E.prototype.apply=function(u){if(u=t.extend({},this.defaults,u),null==u.dataAdapter){if(u.dataAdapter=null!=u.ajax?f:null!=u.data?p:d,u.minimumInputLength>0&&(u.dataAdapter=h.Decorate(u.dataAdapter,v)),u.maximumInputLength>0&&(u.dataAdapter=h.Decorate(u.dataAdapter,b)),u.maximumSelectionLength>0&&(u.dataAdapter=h.Decorate(u.dataAdapter,y)),u.tags&&(u.dataAdapter=h.Decorate(u.dataAdapter,m)),(null!=u.tokenSeparators||null!=u.tokenizer)&&(u.dataAdapter=h.Decorate(u.dataAdapter,g)),null!=u.query){var T=e(u.amdBase+"compat/query");u.dataAdapter=h.Decorate(u.dataAdapter,T)}if(null!=u.initSelection){var E=e(u.amdBase+"compat/initSelection");u.dataAdapter=h.Decorate(u.dataAdapter,E)}}if(null==u.resultsAdapter&&(u.resultsAdapter=i,null!=u.ajax&&(u.resultsAdapter=h.Decorate(u.resultsAdapter,k)),null!=u.placeholder&&(u.resultsAdapter=h.Decorate(u.resultsAdapter,x)),u.selectOnClose&&(u.resultsAdapter=h.Decorate(u.resultsAdapter,D))),null==u.dropdownAdapter){if(u.multiple)u.dropdownAdapter=_;else{var A=h.Decorate(_,w);u.dropdownAdapter=A}if(0!==u.minimumResultsForSearch&&(u.dropdownAdapter=h.Decorate(u.dropdownAdapter,M)),u.closeOnSelect&&(u.dropdownAdapter=h.Decorate(u.dropdownAdapter,S)),null!=u.dropdownCssClass||null!=u.dropdownCss||null!=u.adaptDropdownCssClass){var I=e(u.amdBase+"compat/dropdownCss");u.dropdownAdapter=h.Decorate(u.dropdownAdapter,I)}u.dropdownAdapter=h.Decorate(u.dropdownAdapter,C)}if(null==u.selectionAdapter){if(u.selectionAdapter=u.multiple?n:l,null!=u.placeholder&&(u.selectionAdapter=h.Decorate(u.selectionAdapter,s)),u.allowClear&&(u.selectionAdapter=h.Decorate(u.selectionAdapter,a)),u.multiple&&(u.selectionAdapter=h.Decorate(u.selectionAdapter,o)),null!=u.containerCssClass||null!=u.containerCss||null!=u.adaptContainerCssClass){var P=e(u.amdBase+"compat/containerCss");u.selectionAdapter=h.Decorate(u.selectionAdapter,P)}u.selectionAdapter=h.Decorate(u.selectionAdapter,r)}if("string"==typeof u.language)if(u.language.indexOf("-")>0){var F=u.language.split("-"),j=F[0];u.language=[u.language,j]}else u.language=[u.language];if(t.isArray(u.language)){var z=new c;u.language.push("en");for(var L=u.language,O=0;O<L.length;O++){var H=L[O],N={};try{N=c.loadPath(H)}catch($){try{H=this.defaults.amdLanguageBase+H,N=c.loadPath(H)}catch(R){u.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+H+'" could not be automatically loaded. A fallback will be used instead.');continue}}z.extend(N)}u.translations=z}else{var W=c.loadPath(this.defaults.amdLanguageBase+"en"),Y=new c(u.language);Y.extend(W),u.translations=Y}return u},E.prototype.reset=function(){function e(t){function e(t){return u[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function i(l,n){if(""===t.trim(l.term))return n;if(n.children&&n.children.length>0){for(var s=t.extend(!0,{},n),a=n.children.length-1;a>=0;a--){var o=n.children[a],r=i(l,o);null==r&&s.children.splice(a,1)}return s.children.length>0?s:i(l,s)}var h=e(n.text).toUpperCase(),c=e(l.term).toUpperCase();return h.indexOf(c)>-1?n:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:h.escapeMarkup,language:T,matcher:i,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},E.prototype.set=function(e,i){var l=t.camelCase(e),n={};n[l]=i;var s=h._convertData(n);t.extend(this.defaults,s)};var A=new E;return A}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,i,l){function n(e,n){if(this.options=e,null!=n&&this.fromElement(n),this.options=i.apply(this.options),n&&n.is("input")){var s=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=l.Decorate(this.options.dataAdapter,s)}}return n.prototype.fromElement=function(t){var i=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(this.options.dir=t.prop("dir")?t.prop("dir"):t.closest("[dir]").prop("dir")?t.closest("[dir]").prop("dir"):"ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var n={};n=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset?e.extend(!0,{},t[0].dataset,t.data()):t.data();var s=e.extend(!0,{},n);s=l._convertData(s);for(var a in s)e.inArray(a,i)>-1||(e.isPlainObject(this.options[a])?e.extend(this.options[a],s[a]):this.options[a]=s[a]);return this},n.prototype.get=function(t){return this.options[t]},n.prototype.set=function(t,e){this.options[t]=e},n}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,i,l){var n=function(t,i){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),i=i||{},this.options=new e(i,t),n.__super__.constructor.call(this);var l=t.attr("tabindex")||0;t.data("old-tabindex",l),t.attr("tabindex","-1");var s=this.options.get("dataAdapter");this.dataAdapter=new s(t,this.options);var a=this.render();this._placeContainer(a);var o=this.options.get("selectionAdapter");this.selection=new o(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,a);var r=this.options.get("dropdownAdapter");this.dropdown=new r(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,a);var h=this.options.get("resultsAdapter");this.results=new h(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var c=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){c.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return i.Extend(n,i.Observable),n.prototype._generateId=function(t){var e="";return e=null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+i.generateChars(2):i.generateChars(4),e="select2-"+e},n.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},n.prototype._resolveWidth=function(t,e){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var l=this._resolveWidth(t,"style");return null!=l?l:this._resolveWidth(t,"element")}if("element"==e){var n=t.outerWidth(!1);return 0>=n?"auto":n+"px"}if("style"==e){var s=t.attr("style");if("string"!=typeof s)return null;for(var a=s.split(";"),o=0,r=a.length;r>o;o+=1){var h=a[o].replace(/\s/g,""),c=h.match(i);if(null!==c&&c.length>=1)return c[1]}return null}return e},n.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},n.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this._sync=i.bind(this._syncAttributes,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var l=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=l?(this._observer=new l(function(i){t.each(i,e._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",e._sync,!1)},n.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,i){t.trigger(e,i)})},n.prototype._registerSelectionEvents=function(){var e=this,i=["toggle"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("*",function(l,n){-1===t.inArray(l,i)&&e.trigger(l,n)})},n.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,i){t.trigger(e,i)})},n.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,i){t.trigger(e,i)})},n.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("focus",function(){t.$container.addClass("select2-container--focus")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open"),this.dataAdapter.query(e,function(i){t.trigger("results:all",{data:i,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(i){t.trigger("results:append",{data:i,query:e})})}),this.on("keypress",function(e){var i=e.which;t.isOpen()?i===l.ENTER?(t.trigger("results:select"),e.preventDefault()):i===l.SPACE&&e.ctrlKey?(t.trigger("results:toggle"),e.preventDefault()):i===l.UP?(t.trigger("results:previous"),e.preventDefault()):i===l.DOWN?(t.trigger("results:next"),e.preventDefault()):(i===l.ESC||i===l.TAB)&&(t.close(),e.preventDefault()):(i===l.ENTER||i===l.SPACE||(i===l.DOWN||i===l.UP)&&e.altKey)&&(t.open(),e.preventDefault())})},n.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable")):this.trigger("enable")},n.prototype.trigger=function(t,e){var i=n.__super__.trigger,l={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(t in l){var s=l[t],a={prevented:!1,name:t,args:e};if(i.call(this,s,a),a.prevented)return void(e.prevented=!0)}i.call(this,t,e)},n.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},n.prototype.open=function(){this.isOpen()||(this.trigger("query",{}),this.trigger("open"))},n.prototype.close=function(){this.isOpen()&&this.trigger("close")},n.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},n.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==t||0===t.length)&&(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},n.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},n.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var i=e[0];t.isArray(i)&&(i=t.map(i,function(t){return t.toString()})),this.$element.val(i).trigger("change")},n.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1),this._sync=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},n.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},n}),e.define("select2/compat/utils",["jquery"],function(t){function e(e,i,l){var n,s,a=[];n=t.trim(e.attr("class")),n&&(n=""+n,t(n.split(/\s+/)).each(function(){0===this.indexOf("select2-")&&a.push(this)})),n=t.trim(i.attr("class")),n&&(n=""+n,t(n.split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&(s=l(this),null!=s&&a.push(s))})),e.attr("class",a.join(" "))}return{syncCssClasses:e}}),e.define("select2/compat/containerCss",["jquery","./utils"],function(t,e){function i(){return null}function l(){}return l.prototype.render=function(l){var n=l.call(this),s=this.options.get("containerCssClass")||"";t.isFunction(s)&&(s=s(this.$element));var a=this.options.get("adaptContainerCssClass");if(a=a||i,-1!==s.indexOf(":all:")){s=s.replace(":all","");var o=a;a=function(t){var e=o(t);return null!=e?e+" "+t:t;
}}var r=this.options.get("containerCss")||{};return t.isFunction(r)&&(r=r(this.$element)),e.syncCssClasses(n,this.$element,a),n.css(r),n.addClass(s),n},l}),e.define("select2/compat/dropdownCss",["jquery","./utils"],function(t,e){function i(){return null}function l(){}return l.prototype.render=function(l){var n=l.call(this),s=this.options.get("dropdownCssClass")||"";t.isFunction(s)&&(s=s(this.$element));var a=this.options.get("adaptDropdownCssClass");if(a=a||i,-1!==s.indexOf(":all:")){s=s.replace(":all","");var o=a;a=function(t){var e=o(t);return null!=e?e+" "+t:t}}var r=this.options.get("dropdownCss")||{};return t.isFunction(r)&&(r=r(this.$element)),e.syncCssClasses(n,this.$element,a),n.css(r),n.addClass(s),n},l}),e.define("select2/compat/initSelection",["jquery"],function(t){function e(t,e,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=i.get("initSelection"),this._isInitialized=!1,t.call(this,e,i)}return e.prototype.current=function(e,i){var l=this;return this._isInitialized?void e.call(this,i):void this.initSelection.call(null,this.$element,function(e){l._isInitialized=!0,t.isArray(e)||(e=[e]),i(e)})},e}),e.define("select2/compat/inputData",["jquery"],function(t){function e(t,e,i){this._currentData=[],this._valueSeparator=i.get("valueSeparator")||",","hidden"===e.prop("type")&&i.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),t.call(this,e,i)}return e.prototype.current=function(e,i){function l(e,i){var n=[];return e.selected||-1!==t.inArray(e.id,i)?(e.selected=!0,n.push(e)):e.selected=!1,e.children&&n.push.apply(n,l(e.children,i)),n}for(var n=[],s=0;s<this._currentData.length;s++){var a=this._currentData[s];n.push.apply(n,l(a,this.$element.val().split(this._valueSeparator)))}i(n)},e.prototype.select=function(e,i){if(this.options.get("multiple")){var l=this.$element.val();l+=this._valueSeparator+i.id,this.$element.val(l),this.$element.trigger("change")}else this.current(function(e){t.map(e,function(t){t.selected=!1})}),this.$element.val(i.id),this.$element.trigger("change")},e.prototype.unselect=function(t,e){var i=this;e.selected=!1,this.current(function(t){for(var l=[],n=0;n<t.length;n++){var s=t[n];e.id!=s.id&&l.push(s.id)}i.$element.val(l.join(i._valueSeparator)),i.$element.trigger("change")})},e.prototype.query=function(t,e,i){for(var l=[],n=0;n<this._currentData.length;n++){var s=this._currentData[n],a=this.matches(e,s);null!==a&&l.push(a)}i({results:l})},e.prototype.addOptions=function(e,i){var l=t.map(i,function(e){return t.data(e[0],"data")});this._currentData.push.apply(this._currentData,l)},e}),e.define("select2/compat/matcher",["jquery"],function(t){function e(e){function i(i,l){var n=t.extend(!0,{},l);if(null==i.term||""===t.trim(i.term))return n;if(l.children){for(var s=l.children.length-1;s>=0;s--){var a=l.children[s],o=e(i.term,a.text,a);o||n.children.splice(s,1)}if(n.children.length>0)return n}return e(i.term,l.text,l)?n:null}return i}return e}),e.define("select2/compat/query",[],function(){function t(t,e,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),t.call(this,e,i)}return t.prototype.query=function(t,e,i){e.callback=i;var l=this.options.get("query");l.call(null,e)},t}),e.define("select2/dropdown/attachContainer",[],function(){function t(t,e,i){t.call(this,e,i)}return t.prototype.position=function(t,e,i){var l=i.find(".dropdown-wrapper");l.append(e),e.addClass("select2-dropdown--below"),i.addClass("select2-container--below")},t}),e.define("select2/dropdown/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,i){t.call(this,e,i);var l=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(l.join(" "),function(t){t.stopPropagation()})},t}),e.define("select2/selection/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,i){t.call(this,e,i);var l=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(l.join(" "),function(t){t.stopPropagation()})},t}),e.define("jquery.select2",["jquery","require","./select2/core","./select2/defaults"],function(t,e,i,l){if(e("jquery.mousewheel"),null==t.fn.select2){var n=["open","close","destroy"];t.fn.select2=function(e){if(e=e||{},"object"==typeof e)return this.each(function(){var l=t.extend({},e,!0);new i(t(this),l)}),this;if("string"==typeof e){var l=this.data("select2");null==l&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2.");var s=Array.prototype.slice.call(arguments,1),a=l[e](s);return t.inArray(e,n)>-1?this:a}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=l),i}),function(i){"function"==typeof e.define&&e.define.amd?e.define("jquery.mousewheel",["jquery"],i):"object"==typeof exports?module.exports=i:i(t)}(function(t){function e(e){var a=e||window.event,o=r.call(arguments,1),h=0,u=0,d=0,p=0,f=0,m=0;if(e=t.event.fix(a),e.type="mousewheel","detail"in a&&(d=-1*a.detail),"wheelDelta"in a&&(d=a.wheelDelta),"wheelDeltaY"in a&&(d=a.wheelDeltaY),"wheelDeltaX"in a&&(u=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(u=-1*d,d=0),h=0===d?u:d,"deltaY"in a&&(d=-1*a.deltaY,h=d),"deltaX"in a&&(u=a.deltaX,0===d&&(h=-1*u)),0!==d||0!==u){if(1===a.deltaMode){var g=t.data(this,"mousewheel-line-height");h*=g,d*=g,u*=g}else if(2===a.deltaMode){var v=t.data(this,"mousewheel-page-height");h*=v,d*=v,u*=v}if(p=Math.max(Math.abs(d),Math.abs(u)),(!s||s>p)&&(s=p,l(a,p)&&(s/=40)),l(a,p)&&(h/=40,u/=40,d/=40),h=Math[h>=1?"floor":"ceil"](h/s),u=Math[u>=1?"floor":"ceil"](u/s),d=Math[d>=1?"floor":"ceil"](d/s),c.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();f=e.clientX-b.left,m=e.clientY-b.top}return e.deltaX=u,e.deltaY=d,e.deltaFactor=s,e.offsetX=f,e.offsetY=m,e.deltaMode=0,o.unshift(e,h,u,d),n&&clearTimeout(n),n=setTimeout(i,200),(t.event.dispatch||t.event.handle).apply(this,o)}}function i(){s=null}function l(t,e){return c.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120===0}var n,s,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],r=Array.prototype.slice;if(t.event.fixHooks)for(var h=a.length;h;)t.event.fixHooks[a[--h]]=t.event.mouseHooks;var c=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=o.length;i;)this.addEventListener(o[--i],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",c.getLineHeight(this)),t.data(this,"mousewheel-page-height",c.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=o.length;i;)this.removeEventListener(o[--i],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var i=t(e),l=i["offsetParent"in t.fn?"offsetParent":"parent"]();return l.length||(l=t("body")),parseInt(l.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),{define:e.define,require:e.require}}(),i=e.require("jquery.select2");return t.fn.select2.amd=e,i}),!function(t){"use strict";function e(t,e){return t+".touchspin_"+e}function i(i,l){return t.map(i,function(t){return e(t,l)})}var l=0;t.fn.TouchSpin=function(e){if("destroy"===e)return void this.each(function(){var e=t(this),l=e.data();t(document).off(i(["mouseup","touchend","touchcancel","mousemove","touchmove","scroll","scrollstart"],l.spinnerid).join(" "))});var n={min:0,max:100,initval:"",step:1,decimals:0,stepinterval:100,forcestepdivisibility:"round",stepintervaldelay:500,verticalbuttons:!1,verticalupclass:"glyphicon glyphicon-chevron-up",verticaldownclass:"glyphicon glyphicon-chevron-down",prefix:"",postfix:"",prefix_extraclass:"",postfix_extraclass:"",booster:!0,boostat:10,maxboostedstep:!1,mousewheel:!0,buttondown_class:"btn btn-default",buttonup_class:"btn btn-default",buttondown_txt:"-",buttonup_txt:"+"},s={min:"min",max:"max",initval:"init-val",step:"step",decimals:"decimals",stepinterval:"step-interval",verticalbuttons:"vertical-buttons",verticalupclass:"vertical-up-class",verticaldownclass:"vertical-down-class",forcestepdivisibility:"force-step-divisibility",stepintervaldelay:"step-interval-delay",prefix:"prefix",postfix:"postfix",prefix_extraclass:"prefix-extra-class",postfix_extraclass:"postfix-extra-class",booster:"booster",boostat:"boostat",maxboostedstep:"max-boosted-step",mousewheel:"mouse-wheel",buttondown_class:"button-down-class",buttonup_class:"button-up-class",buttondown_txt:"button-down-txt",buttonup_txt:"button-up-txt"};return this.each(function(){function a(){if(!z.data("alreadyinitialized")){if(z.data("alreadyinitialized",!0),l+=1,z.data("spinnerid",l),!z.is("input"))return void console.log("Must be an input.");h(),o(),_(),d(),m(),g(),v(),b(),E.input.css("display","block")}}function o(){""!==S.initval&&""===z.val()&&z.val(S.initval)}function r(t){u(t),_();var e=E.input.val();""!==e&&(e=Number(E.input.val()),E.input.val(e.toFixed(S.decimals)))}function h(){S=t.extend({},n,L,c(),e)}function c(){var e={};return t.each(s,function(t,i){var l="bts-"+i;z.is("[data-"+l+"]")&&(e[t]=z.data(l))}),e}function u(e){S=t.extend({},S,e)}function d(){var t=z.val(),e=z.parent();""!==t&&(t=Number(t).toFixed(S.decimals)),z.data("initvalue",t).val(t),z.addClass("form-control"),e.hasClass("input-group")?p(e):f()}function p(e){e.addClass("bootstrap-touchspin");var i,l,n=z.prev(),s=z.next(),a='<span class="input-group-addon bootstrap-touchspin-prefix">'+S.prefix+"</span>",o='<span class="input-group-addon bootstrap-touchspin-postfix">'+S.postfix+"</span>";n.hasClass("input-group-btn")?(i='<button class="'+S.buttondown_class+' bootstrap-touchspin-down" type="button">'+S.buttondown_txt+"</button>",n.append(i)):(i='<span class="input-group-btn"><button class="'+S.buttondown_class+' bootstrap-touchspin-down" type="button">'+S.buttondown_txt+"</button></span>",t(i).insertBefore(z)),s.hasClass("input-group-btn")?(l='<button class="'+S.buttonup_class+' bootstrap-touchspin-up" type="button">'+S.buttonup_txt+"</button>",s.prepend(l)):(l='<span class="input-group-btn"><button class="'+S.buttonup_class+' bootstrap-touchspin-up" type="button">'+S.buttonup_txt+"</button></span>",t(l).insertAfter(z)),t(a).insertBefore(z),t(o).insertAfter(z),T=e}function f(){var e;e=S.verticalbuttons?'<div class="input-group bootstrap-touchspin"><span class="input-group-addon bootstrap-touchspin-prefix">'+S.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+S.postfix+'</span><span class="input-group-btn-vertical"><button class="'+S.buttondown_class+' bootstrap-touchspin-up" type="button"><i class="'+S.verticalupclass+'"></i></button><button class="'+S.buttonup_class+' bootstrap-touchspin-down" type="button"><i class="'+S.verticaldownclass+'"></i></button></span></div>':'<div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="'+S.buttondown_class+' bootstrap-touchspin-down" type="button">'+S.buttondown_txt+'</button></span><span class="input-group-addon bootstrap-touchspin-prefix">'+S.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+S.postfix+'</span><span class="input-group-btn"><button class="'+S.buttonup_class+' bootstrap-touchspin-up" type="button">'+S.buttonup_txt+"</button></span></div>",T=t(e).insertBefore(z),t(".bootstrap-touchspin-prefix",T).after(z),z.hasClass("input-sm")?T.addClass("input-group-sm"):z.hasClass("input-lg")&&T.addClass("input-group-lg")}function m(){E={down:t(".bootstrap-touchspin-down",T),up:t(".bootstrap-touchspin-up",T),input:t("input",T),prefix:t(".bootstrap-touchspin-prefix",T).addClass(S.prefix_extraclass),postfix:t(".bootstrap-touchspin-postfix",T).addClass(S.postfix_extraclass)}}function g(){""===S.prefix&&E.prefix.hide(),""===S.postfix&&E.postfix.hide()}function v(){z.on("keydown",function(t){var e=t.keyCode||t.which;38===e?("up"!==H&&(x(),M()),t.preventDefault()):40===e&&("down"!==H&&(k(),C()),t.preventDefault())}),z.on("keyup",function(t){var e=t.keyCode||t.which;38===e?D():40===e&&D()}),z.on("blur",function(){_()}),E.down.on("keydown",function(t){var e=t.keyCode||t.which;(32===e||13===e)&&("down"!==H&&(k(),C()),t.preventDefault())}),E.down.on("keyup",function(t){var e=t.keyCode||t.which;(32===e||13===e)&&D()}),E.up.on("keydown",function(t){var e=t.keyCode||t.which;(32===e||13===e)&&("up"!==H&&(x(),M()),t.preventDefault())}),E.up.on("keyup",function(t){var e=t.keyCode||t.which;(32===e||13===e)&&D()}),E.down.on("mousedown.touchspin",function(t){E.down.off("touchstart.touchspin"),z.is(":disabled")||(k(),C(),t.preventDefault(),t.stopPropagation())}),E.down.on("touchstart.touchspin",function(t){E.down.off("mousedown.touchspin"),z.is(":disabled")||(k(),C(),t.preventDefault(),t.stopPropagation())}),E.up.on("mousedown.touchspin",function(t){E.up.off("touchstart.touchspin"),z.is(":disabled")||(x(),M(),t.preventDefault(),t.stopPropagation())}),E.up.on("touchstart.touchspin",function(t){E.up.off("mousedown.touchspin"),z.is(":disabled")||(x(),M(),t.preventDefault(),t.stopPropagation())}),E.up.on("mouseout touchleave touchend touchcancel",function(t){H&&(t.stopPropagation(),D())}),E.down.on("mouseout touchleave touchend touchcancel",function(t){H&&(t.stopPropagation(),D())}),E.down.on("mousemove touchmove",function(t){H&&(t.stopPropagation(),t.preventDefault())}),E.up.on("mousemove touchmove",function(t){H&&(t.stopPropagation(),t.preventDefault())}),t(document).on(i(["mouseup","touchend","touchcancel"],l).join(" "),function(t){H&&(t.preventDefault(),D())}),t(document).on(i(["mousemove","touchmove","scroll","scrollstart"],l).join(" "),function(t){H&&(t.preventDefault(),D())}),z.on("mousewheel DOMMouseScroll",function(t){if(S.mousewheel&&z.is(":focus")){var e=t.originalEvent.wheelDelta||-t.originalEvent.deltaY||-t.originalEvent.detail;t.stopPropagation(),t.preventDefault(),0>e?k():x()}})}function b(){z.on("touchspin.uponce",function(){D(),x()}),z.on("touchspin.downonce",function(){D(),k()}),z.on("touchspin.startupspin",function(){M()}),z.on("touchspin.startdownspin",function(){C()}),z.on("touchspin.stopspin",function(){D()}),z.on("touchspin.updatesettings",function(t,e){r(e)})}function y(t){switch(S.forcestepdivisibility){case"round":return(Math.round(t/S.step)*S.step).toFixed(S.decimals);case"floor":return(Math.floor(t/S.step)*S.step).toFixed(S.decimals);case"ceil":return(Math.ceil(t/S.step)*S.step).toFixed(S.decimals);default:return t}}function _(){var t,e,i;t=z.val(),""!==t&&(S.decimals>0&&"."===t||(e=parseFloat(t),isNaN(e)&&(e=0),i=e,e.toString()!==t&&(i=e),e<S.min&&(i=S.min),e>S.max&&(i=S.max),i=y(i),Number(t).toString()!==i.toString()&&(z.val(i),z.trigger("change"))))}function w(){if(S.booster){var t=Math.pow(2,Math.floor(O/S.boostat))*S.step;return S.maxboostedstep&&t>S.maxboostedstep&&(t=S.maxboostedstep,A=Math.round(A/t)*t),Math.max(S.step,t)}return S.step}function x(){_(),A=parseFloat(E.input.val()),isNaN(A)&&(A=0);var t=A,e=w();A+=e,A>S.max&&(A=S.max,z.trigger("touchspin.on.max"),D()),E.input.val(Number(A).toFixed(S.decimals)),t!==A&&z.trigger("change")}function k(){_(),A=parseFloat(E.input.val()),isNaN(A)&&(A=0);var t=A,e=w();A-=e,A<S.min&&(A=S.min,z.trigger("touchspin.on.min"),D()),E.input.val(A.toFixed(S.decimals)),t!==A&&z.trigger("change")}function C(){D(),O=0,H="down",z.trigger("touchspin.on.startspin"),z.trigger("touchspin.on.startdownspin"),F=setTimeout(function(){I=setInterval(function(){O++,k()},S.stepinterval)},S.stepintervaldelay)}function M(){D(),O=0,H="up",z.trigger("touchspin.on.startspin"),z.trigger("touchspin.on.startupspin"),j=setTimeout(function(){P=setInterval(function(){O++,x()},S.stepinterval)},S.stepintervaldelay)}function D(){switch(clearTimeout(F),clearTimeout(j),clearInterval(I),clearInterval(P),H){case"up":z.trigger("touchspin.on.stopupspin"),z.trigger("touchspin.on.stopspin");break;case"down":z.trigger("touchspin.on.stopdownspin"),z.trigger("touchspin.on.stopspin")}O=0,H=!1}var S,T,E,A,I,P,F,j,z=t(this),L=z.data(),O=0,H=!1;a()})}}(jQuery),/* ===================================================
 * bootstrap-markdown.js v2.9.0
 * http://github.com/toopay/bootstrap-markdown
 * ===================================================
 * Copyright 2013-2015 Taufan Aditya
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){"use strict";var e=function(e,i){var l=["autofocus","savable","hideable","width","height","resize","iconlibrary","language","footer","fullscreen","hiddenButtons","disabledButtons"];t.each(l,function(l,n){"undefined"!=typeof t(e).data(n)&&(i="object"==typeof i?i:{},i[n]=t(e).data(n))}),this.$ns="bootstrap-markdown",this.$element=t(e),this.$editable={el:null,type:null,attrKeys:[],attrValues:[],content:null},this.$options=t.extend(!0,{},t.fn.markdown.defaults,i,this.$element.data("options")),this.$oldContent=null,this.$isPreview=!1,this.$isFullscreen=!1,this.$editor=null,this.$textarea=null,this.$handler=[],this.$callback=[],this.$nextTab=[],this.showEditor()};e.prototype={constructor:e,__alterButtons:function(e,i){var l=this.$handler,n="all"==e,s=this;t.each(l,function(t,l){var a=!0;a=n?!1:l.indexOf(e)<0,a===!1&&i(s.$editor.find('button[data-handler="'+l+'"]'))})},__buildButtons:function(e,i){var l,n=this.$ns,s=this.$handler,a=this.$callback;for(l=0;l<e.length;l++){var o,r=e[l];for(o=0;o<r.length;o++){var h,c=r[o].data,u=t("<div/>",{"class":"btn-group"});for(h=0;h<c.length;h++){var d,p,f=c[h],m=n+"-"+f.name,g=this.__getIcon(f.icon),v=f.btnText?f.btnText:"",b=f.btnClass?f.btnClass:"btn",y=f.tabIndex?f.tabIndex:"-1",_="undefined"!=typeof f.hotkey?f.hotkey:"",w="undefined"!=typeof jQuery.hotkeys&&""!==_?" ("+_+")":"";d=t("<button></button>"),d.text(" "+this.__localize(v)).addClass("btn-default btn-sm").addClass(b),b.match(/btn\-(primary|success|info|warning|danger|link)/)&&d.removeClass("btn-default"),d.attr({type:"button",title:this.__localize(f.title)+w,tabindex:y,"data-provider":n,"data-handler":m,"data-hotkey":_}),f.toggle===!0&&d.attr("data-toggle","button"),p=t("<span/>"),p.addClass(g),p.prependTo(d),u.append(d),s.push(m),a.push(f.callback)}i.append(u)}}return i},__setListener:function(){var e="undefined"!=typeof this.$textarea.attr("rows"),i=this.$textarea.val().split("\n").length>5?this.$textarea.val().split("\n").length:"5",l=e?this.$textarea.attr("rows"):i;this.$textarea.attr("rows",l),this.$options.resize&&this.$textarea.css("resize",this.$options.resize),this.$textarea.on("focus",t.proxy(this.focus,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)).on("change",t.proxy(this.change,this)).on("select",t.proxy(this.select,this)),this.eventSupported("keydown")&&this.$textarea.on("keydown",t.proxy(this.keydown,this)),this.$textarea.data("markdown",this)},__handle:function(e){var i=t(e.currentTarget),l=this.$handler,n=this.$callback,s=i.attr("data-handler"),a=l.indexOf(s),o=n[a];t(e.currentTarget).focus(),o(this),this.change(this),s.indexOf("cmdSave")<0&&this.$textarea.focus(),e.preventDefault()},__localize:function(e){var i=t.fn.markdown.messages,l=this.$options.language;return"undefined"!=typeof i&&"undefined"!=typeof i[l]&&"undefined"!=typeof i[l][e]?i[l][e]:e},__getIcon:function(t){return"object"==typeof t?t[this.$options.iconlibrary]:t},setFullscreen:function(e){var i=this.$editor,l=this.$textarea;e===!0?(i.addClass("md-fullscreen-mode"),t("body").addClass("md-nooverflow"),this.$options.onFullscreen(this)):(i.removeClass("md-fullscreen-mode"),t("body").removeClass("md-nooverflow"),1==this.$isPreview&&this.hidePreview().showPreview()),this.$isFullscreen=e,l.focus()},showEditor:function(){var e,i=this,l=this.$ns,n=this.$element,s=(n.css("height"),n.css("width"),this.$editable),a=this.$handler,o=this.$callback,r=this.$options,h=t("<div/>",{"class":"md-editor",click:function(){i.focus()}});if(null===this.$editor){var c=t("<div/>",{"class":"md-header btn-toolbar"}),u=[];if(r.buttons.length>0&&(u=u.concat(r.buttons[0])),r.additionalButtons.length>0&&t.each(r.additionalButtons[0],function(e,i){var l=t.grep(u,function(t){return t.name===i.name});l.length>0?l[0].data=l[0].data.concat(i.data):u.push(r.additionalButtons[0][e])}),r.reorderButtonGroups.length>0&&(u=u.filter(function(t){return r.reorderButtonGroups.indexOf(t.name)>-1}).sort(function(t,e){return r.reorderButtonGroups.indexOf(t.name)<r.reorderButtonGroups.indexOf(e.name)?-1:r.reorderButtonGroups.indexOf(t.name)>r.reorderButtonGroups.indexOf(e.name)?1:0})),u.length>0&&(c=this.__buildButtons([u],c)),r.fullscreen.enable&&c.append('<div class="md-controls"><a class="md-control md-control-fullscreen" href="#"><span class="'+this.__getIcon(r.fullscreen.icons.fullscreenOn)+'"></span></a></div>').on("click",".md-control-fullscreen",function(t){t.preventDefault(),i.setFullscreen(!0)}),h.append(c),n.is("textarea"))n.before(h),e=n,e.addClass("md-input"),h.append(e);else{var d="function"==typeof toMarkdown?toMarkdown(n.html()):n.html(),p=t.trim(d);e=t("<textarea/>",{"class":"md-input",val:p}),h.append(e),s.el=n,s.type=n.prop("tagName").toLowerCase(),s.content=n.html(),t(n[0].attributes).each(function(){s.attrKeys.push(this.nodeName),s.attrValues.push(this.nodeValue)}),n.replaceWith(h)}var f=t("<div/>",{"class":"md-footer"}),m=!1,g="";if(r.savable){m=!0;var v="cmdSave";a.push(v),o.push(r.onSave),f.append('<button class="btn btn-success" data-provider="'+l+'" data-handler="'+v+'"><i class="icon icon-white icon-ok"></i> '+this.__localize("Save")+"</button>")}if(g="function"==typeof r.footer?r.footer(this):r.footer,""!==t.trim(g)&&(m=!0,f.append(g)),m&&h.append(f),r.width&&"inherit"!==r.width&&(jQuery.isNumeric(r.width)?(h.css("display","table"),e.css("width",r.width+"px")):h.addClass(r.width)),r.height&&"inherit"!==r.height)if(jQuery.isNumeric(r.height)){var b=r.height;c&&(b=Math.max(0,b-c.outerHeight())),f&&(b=Math.max(0,b-f.outerHeight())),e.css("height",b+"px")}else h.addClass(r.height);this.$editor=h,this.$textarea=e,this.$editable=s,this.$oldContent=this.getContent(),this.__setListener(),this.$editor.attr("id",(new Date).getTime()),this.$editor.on("click",'[data-provider="bootstrap-markdown"]',t.proxy(this.__handle,this)),(this.$element.is(":disabled")||this.$element.is("[readonly]"))&&(this.$editor.addClass("md-editor-disabled"),this.disableButtons("all")),this.eventSupported("keydown")&&"object"==typeof jQuery.hotkeys&&c.find('[data-provider="bootstrap-markdown"]').each(function(){var i=t(this),l=i.attr("data-hotkey");""!==l.toLowerCase()&&e.bind("keydown",l,function(){return i.trigger("click"),!1})}),"preview"===r.initialstate?this.showPreview():"fullscreen"===r.initialstate&&r.fullscreen.enable&&this.setFullscreen(!0)}else this.$editor.show();return r.autofocus&&(this.$textarea.focus(),this.$editor.addClass("active")),r.fullscreen.enable&&r.fullscreen!==!1&&(this.$editor.append('<div class="md-fullscreen-controls"><a href="#" class="exit-fullscreen" title="Exit fullscreen"><span class="'+this.__getIcon(r.fullscreen.icons.fullscreenOff)+'"></span></a></div>'),this.$editor.on("click",".exit-fullscreen",function(t){t.preventDefault(),i.setFullscreen(!1)})),this.hideButtons(r.hiddenButtons),this.disableButtons(r.disabledButtons),r.onShow(this),this},parseContent:function(t){var e,t=t||this.$textarea.val();return e=this.$options.parser?this.$options.parser(t):"object"==typeof markdown?markdown.toHTML(t):"function"==typeof marked?marked(t):t},showPreview:function(){var e,i,l=this.$options,n=this.$textarea,s=n.next(),a=t("<div/>",{"class":"md-preview","data-provider":"markdown-preview"});return 1==this.$isPreview?this:(this.$isPreview=!0,this.disableButtons("all").enableButtons("cmdPreview"),i=l.onPreview(this),e="string"==typeof i?i:this.parseContent(),a.html(e),s&&"md-footer"==s.attr("class")?a.insertBefore(s):n.parent().append(a),a.css({width:n.outerWidth()+"px",height:n.outerHeight()+"px"}),this.$options.resize&&a.css("resize",this.$options.resize),n.hide(),a.data("markdown",this),(this.$element.is(":disabled")||this.$element.is("[readonly]"))&&(this.$editor.addClass("md-editor-disabled"),this.disableButtons("all")),this)},hidePreview:function(){this.$isPreview=!1;var t=this.$editor.find('div[data-provider="markdown-preview"]');return t.remove(),this.enableButtons("all"),this.disableButtons(this.$options.disabledButtons),this.$textarea.show(),this.__setListener(),this},isDirty:function(){return this.$oldContent!=this.getContent()},getContent:function(){return this.$textarea.val()},setContent:function(t){return this.$textarea.val(t),this},findSelection:function(t){var e,i=this.getContent();if(e=i.indexOf(t),e>=0&&t.length>0){var l,n=this.getSelection();return this.setSelection(e,e+t.length),l=this.getSelection(),this.setSelection(n.start,n.end),l}return null},getSelection:function(){var t=this.$textarea[0];return("selectionStart"in t&&function(){var e=t.selectionEnd-t.selectionStart;return{start:t.selectionStart,end:t.selectionEnd,length:e,text:t.value.substr(t.selectionStart,e)}}||function(){return null})()},setSelection:function(t,e){var i=this.$textarea[0];return("selectionStart"in i&&function(){i.selectionStart=t,i.selectionEnd=e}||function(){return null})()},replaceSelection:function(t){var e=this.$textarea[0];return("selectionStart"in e&&function(){return e.value=e.value.substr(0,e.selectionStart)+t+e.value.substr(e.selectionEnd,e.value.length),e.selectionStart=e.value.length,this}||function(){return e.value+=t,jQuery(e)})()},getNextTab:function(){if(0===this.$nextTab.length)return null;var t,e=this.$nextTab.shift();return"function"==typeof e?t=e():"object"==typeof e&&e.length>0&&(t=e),t},setNextTab:function(t,e){if("string"==typeof t){var i=this;this.$nextTab.push(function(){return i.findSelection(t)})}else if("number"==typeof t&&"number"==typeof e){var l=this.getSelection();this.setSelection(t,e),this.$nextTab.push(this.getSelection()),this.setSelection(l.start,l.end)}},__parseButtonNameParam:function(t){return"string"==typeof t?t.split(" "):t},enableButtons:function(e){var i=this.__parseButtonNameParam(e),l=this;return t.each(i,function(t){l.__alterButtons(i[t],function(t){t.removeAttr("disabled")})}),this},disableButtons:function(e){var i=this.__parseButtonNameParam(e),l=this;return t.each(i,function(t){l.__alterButtons(i[t],function(t){t.attr("disabled","disabled")})}),this},hideButtons:function(e){var i=this.__parseButtonNameParam(e),l=this;return t.each(i,function(t){l.__alterButtons(i[t],function(t){t.addClass("hidden")})}),this},showButtons:function(e){var i=this.__parseButtonNameParam(e),l=this;return t.each(i,function(t){l.__alterButtons(i[t],function(t){t.removeClass("hidden")})}),this},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},keyup:function(t){var e=!1;switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:var i;if(i=this.getNextTab(),null!==i){var l=this;setTimeout(function(){l.setSelection(i.start,i.end)},500),e=!0}else{var n=this.getSelection();n.start==n.end&&n.end==this.getContent().length?e=!1:(this.setSelection(this.getContent().length,this.getContent().length),e=!0)}break;case 13:e=!1;break;case 27:this.$isFullscreen&&this.setFullscreen(!1),e=!1;break;default:e=!1}e&&(t.stopPropagation(),t.preventDefault()),this.$options.onChange(this)},change:function(){return this.$options.onChange(this),this},select:function(){return this.$options.onSelect(this),this},focus:function(){var e=this.$options,i=(e.hideable,this.$editor);return i.addClass("active"),t(document).find(".md-editor").each(function(){if(t(this).attr("id")!==i.attr("id")){var e;e=t(this).find("textarea").data("markdown"),null===e&&(e=t(this).find('div[data-provider="markdown-preview"]').data("markdown")),e&&e.blur()}}),e.onFocus(this),this},blur:function(){var e=this.$options,i=e.hideable,l=this.$editor,n=this.$editable;if(l.hasClass("active")||0===this.$element.parent().length){if(l.removeClass("active"),i)if(null!==n.el){var s=t("<"+n.type+"/>"),a=this.getContent(),o=this.parseContent(a);t(n.attrKeys).each(function(t){s.attr(n.attrKeys[t],n.attrValues[t])}),s.html(o),l.replaceWith(s)}else l.hide();e.onBlur(this)}return this}};var i=t.fn.markdown;t.fn.markdown=function(i){return this.each(function(){var l=t(this),n=l.data("markdown"),s="object"==typeof i&&i;n||l.data("markdown",n=new e(this,s))})},t.fn.markdown.messages={},t.fn.markdown.defaults={autofocus:!1,hideable:!1,savable:!1,width:"inherit",height:"inherit",resize:"none",iconlibrary:"glyph",language:"en",initialstate:"editor",parser:null,buttons:[[{name:"groupFont",data:[{name:"cmdBold",hotkey:"Ctrl+B",title:"Bold",icon:{glyph:"glyphicon glyphicon-bold",fa:"fa fa-bold","fa-3":"icon-bold"},callback:function(t){var e,i,l=t.getSelection(),n=t.getContent();e=0===l.length?t.__localize("strong text"):l.text,"**"===n.substr(l.start-2,2)&&"**"===n.substr(l.end,2)?(t.setSelection(l.start-2,l.end+2),t.replaceSelection(e),i=l.start-2):(t.replaceSelection("**"+e+"**"),i=l.start+2),t.setSelection(i,i+e.length)}},{name:"cmdItalic",title:"Italic",hotkey:"Ctrl+I",icon:{glyph:"glyphicon glyphicon-italic",fa:"fa fa-italic","fa-3":"icon-italic"},callback:function(t){var e,i,l=t.getSelection(),n=t.getContent();e=0===l.length?t.__localize("emphasized text"):l.text,"_"===n.substr(l.start-1,1)&&"_"===n.substr(l.end,1)?(t.setSelection(l.start-1,l.end+1),t.replaceSelection(e),i=l.start-1):(t.replaceSelection("_"+e+"_"),i=l.start+1),t.setSelection(i,i+e.length)}},{name:"cmdHeading",title:"Heading",hotkey:"Ctrl+H",icon:{glyph:"glyphicon glyphicon-header",fa:"fa fa-header","fa-3":"icon-font"},callback:function(t){var e,i,l,n,s=t.getSelection(),a=t.getContent();e=0===s.length?t.__localize("heading text"):s.text+"\n",l=4,"### "===a.substr(s.start-l,l)||(l=3,"###"===a.substr(s.start-l,l))?(t.setSelection(s.start-l,s.end),t.replaceSelection(e),i=s.start-l):s.start>0&&(n=a.substr(s.start-1,1),!!n&&"\n"!=n)?(t.replaceSelection("\n\n### "+e),i=s.start+6):(t.replaceSelection("### "+e),i=s.start+4),t.setSelection(i,i+e.length)}}]},{name:"groupLink",data:[{name:"cmdUrl",title:"URL/Link",hotkey:"Ctrl+L",icon:{glyph:"glyphicon glyphicon-link",fa:"fa fa-link","fa-3":"icon-link"},callback:function(e){var i,l,n,s=e.getSelection();e.getContent();i=0===s.length?e.__localize("enter link description here"):s.text,n=prompt(e.__localize("Insert Hyperlink"),"http://");var a=new RegExp("^((http|https)://|(mailto:)|(//))[a-z0-9]","i");if(null!==n&&""!==n&&"http://"!==n&&a.test(n)){var o=t("<div>"+n+"</div>").text();e.replaceSelection("["+i+"]("+o+")"),l=s.start+1,e.setSelection(l,l+i.length)}}},{name:"cmdImage",title:"Image",hotkey:"Ctrl+G",icon:{glyph:"glyphicon glyphicon-picture",fa:"fa fa-picture-o","fa-3":"icon-picture"},callback:function(e){var i,l,n,s=e.getSelection();e.getContent();i=0===s.length?e.__localize("enter image description here"):s.text,n=prompt(e.__localize("Insert Image Hyperlink"),"http://");var a=new RegExp("^((http|https)://|(//))[a-z0-9]","i");if(null!==n&&""!==n&&"http://"!==n&&a.test(n)){var o=t("<div>"+n+"</div>").text();e.replaceSelection("!["+i+"]("+o+' "'+e.__localize("enter image title here")+'")'),l=s.start+2,e.setNextTab(e.__localize("enter image title here")),e.setSelection(l,l+i.length)}}}]},{name:"groupMisc",data:[{name:"cmdList",hotkey:"Ctrl+U",title:"Unordered List",icon:{glyph:"glyphicon glyphicon-list",fa:"fa fa-list","fa-3":"icon-list-ul"},callback:function(e){var i,l,n=e.getSelection();e.getContent();if(0===n.length)i=e.__localize("list text here"),e.replaceSelection("- "+i),l=n.start+2;else if(n.text.indexOf("\n")<0)i=n.text,e.replaceSelection("- "+i),l=n.start+2;else{var s=[];s=n.text.split("\n"),i=s[0],t.each(s,function(t,e){s[t]="- "+e}),e.replaceSelection("\n\n"+s.join("\n")),l=n.start+4}e.setSelection(l,l+i.length)}},{name:"cmdListO",hotkey:"Ctrl+O",title:"Ordered List",icon:{glyph:"glyphicon glyphicon-th-list",fa:"fa fa-list-ol","fa-3":"icon-list-ol"},callback:function(e){var i,l,n=e.getSelection();e.getContent();if(0===n.length)i=e.__localize("list text here"),e.replaceSelection("1. "+i),l=n.start+3;else if(n.text.indexOf("\n")<0)i=n.text,e.replaceSelection("1. "+i),l=n.start+3;else{var s=[];s=n.text.split("\n"),i=s[0],t.each(s,function(t,e){s[t]="1. "+e}),e.replaceSelection("\n\n"+s.join("\n")),l=n.start+5}e.setSelection(l,l+i.length)}},{name:"cmdCode",hotkey:"Ctrl+K",title:"Code",icon:{glyph:"glyphicon glyphicon-asterisk",fa:"fa fa-code","fa-3":"icon-code"},callback:function(t){var e,i,l=t.getSelection(),n=t.getContent();e=0===l.length?t.__localize("code text here"):l.text,"```\n"===n.substr(l.start-4,4)&&"\n```"===n.substr(l.end,4)?(t.setSelection(l.start-4,l.end+4),t.replaceSelection(e),i=l.start-4):"`"===n.substr(l.start-1,1)&&"`"===n.substr(l.end,1)?(t.setSelection(l.start-1,l.end+1),t.replaceSelection(e),i=l.start-1):n.indexOf("\n")>-1?(t.replaceSelection("```\n"+e+"\n```"),i=l.start+4):(t.replaceSelection("`"+e+"`"),i=l.start+1),t.setSelection(i,i+e.length)}},{name:"cmdQuote",hotkey:"Ctrl+Q",title:"Quote",icon:{glyph:"glyphicon glyphicon-comment",fa:"fa fa-quote-left","fa-3":"icon-quote-left"},callback:function(e){var i,l,n=e.getSelection();e.getContent();if(0===n.length)i=e.__localize("quote here"),e.replaceSelection("> "+i),l=n.start+2;else if(n.text.indexOf("\n")<0)i=n.text,e.replaceSelection("> "+i),l=n.start+2;else{var s=[];s=n.text.split("\n"),i=s[0],t.each(s,function(t,e){s[t]="> "+e}),e.replaceSelection("\n\n"+s.join("\n")),l=n.start+4}e.setSelection(l,l+i.length)}}]},{name:"groupUtil",data:[{name:"cmdPreview",toggle:!0,hotkey:"Ctrl+P",title:"Preview",btnText:"Preview",btnClass:"btn btn-primary btn-sm",icon:{glyph:"glyphicon glyphicon-search",fa:"fa fa-search","fa-3":"icon-search"},callback:function(t){var e=t.$isPreview;e===!1?t.showPreview():t.hidePreview()}}]}]],additionalButtons:[],reorderButtonGroups:[],hiddenButtons:[],disabledButtons:[],footer:"",fullscreen:{enable:!0,icons:{fullscreenOn:{fa:"fa fa-expand",glyph:"glyphicon glyphicon-fullscreen","fa-3":"icon-resize-full"},fullscreenOff:{fa:"fa fa-compress",glyph:"glyphicon glyphicon-fullscreen","fa-3":"icon-resize-small"}}},onShow:function(){},onPreview:function(){},onSave:function(){},onBlur:function(){},onFocus:function(){},onChange:function(){},onFullscreen:function(){},onSelect:function(){}},t.fn.markdown.Constructor=e,t.fn.markdown.noConflict=function(){return t.fn.markdown=i,this};var l=function(t){var e=t;return e.data("markdown")?void e.data("markdown").showEditor():void e.markdown()},n=function(){var e=t(document.activeElement);t(document).find(".md-editor").each(function(){var i=t(this),l=e.closest(".md-editor")[0]===this,n=i.find("textarea").data("markdown")||i.find('div[data-provider="markdown-preview"]').data("markdown");n&&!l&&n.blur()})};t(document).on("click.markdown.data-api",'[data-provide="markdown-editable"]',function(e){l(t(this)),e.preventDefault()}).on("click focusin",function(t){n(t)}).ready(function(){t('textarea[data-provide="markdown"]').each(function(){l(t(this))})})}),
// Copyright (c) 2009-2010 Dominic Baggott
// Copyright (c) 2009-2010 Ash Berlin
// Copyright (c) 2011 Christoph Dorn <christoph@christophdorn.com> (http://www.christophdorn.com)
function(t){function e(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function i(){var t=require("util");return"Markdown.mk_block( "+t.inspect(this.toString())+", "+t.inspect(this.trailing)+", "+t.inspect(this.lineNumber)+" )"}function l(t){for(var e=0,i=-1;-1!==(i=t.indexOf("\n",i+1));)e++;return e}function n(t,e){function i(t){this.len_after=t,this.name="close_"+e}var l=t+"_state",n="strong"==t?"em_state":"strong_state";return function(s){if(this[l][0]==e)return this[l].shift(),[s.length,new i(s.length-e.length)];var a=this[n].slice(),o=this[l].slice();this[l].unshift(e);var r=this.processInline(s.substr(e.length)),h=r[r.length-1];this[l].shift();if(h instanceof i){r.pop();var c=s.length-h.len_after;return[c,[t].concat(r)]}return this[n]=a,this[l]=o,[e.length,e]}}function s(t){for(var e=t.split(""),i=[""],l=!1;e.length;){var n=e.shift();switch(n){case" ":l?i[i.length-1]+=n:i.push("");break;case"'":case'"':l=!l;break;case"\\":n=e.shift();default:i[i.length-1]+=n}}return i}function o(t){return g(t)&&t.length>1&&"object"==typeof t[1]&&!g(t[1])?t[1]:void 0}function r(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function h(t){if("string"==typeof t)return r(t);var e=t.shift(),i={},l=[];for(!t.length||"object"!=typeof t[0]||t[0]instanceof Array||(i=t.shift());t.length;)l.push(arguments.callee(t.shift()));var n="";for(var s in i)n+=" "+s+'="'+r(i[s])+'"';return"img"==e||"br"==e||"hr"==e?"<"+e+n+"/>":"<"+e+n+">"+l.join("")+"</"+e+">"}function c(t,e,i){var l;i=i||{};var n=t.slice(0);"function"==typeof i.preprocessTreeNode&&(n=i.preprocessTreeNode(n,e));var s=o(n);if(s){n[1]={};for(l in s)n[1][l]=s[l];s=n[1]}if("string"==typeof n)return n;switch(n[0]){case"header":n[0]="h"+n[1].level,delete n[1].level;break;case"bulletlist":n[0]="ul";break;case"numberlist":n[0]="ol";break;case"listitem":n[0]="li";break;case"para":n[0]="p";break;case"markdown":n[0]="html",s&&delete s.references;break;case"code_block":n[0]="pre",l=s?2:1;var a=["code"];a.push.apply(a,n.splice(l)),n[l]=a;break;case"inlinecode":n[0]="code";break;case"img":n[1].src=n[1].href,delete n[1].href;break;case"linebreak":n[0]="br";break;case"link":n[0]="a";break;case"link_ref":n[0]="a";var r=e[s.ref];if(!r)return s.original;delete s.ref,s.href=r.href,r.title&&(s.title=r.title),delete s.original;break;case"img_ref":n[0]="img";var r=e[s.ref];if(!r)return s.original;delete s.ref,s.src=r.href,r.title&&(s.title=r.title),delete s.original}if(l=1,s){for(var h in n[1])l=2;1===l&&n.splice(l,1)}for(;l<n.length;++l)n[l]=arguments.callee(n[l],e,i);return n}function u(t){for(var e=o(t)?2:1;e<t.length;)"string"==typeof t[e]?e+1<t.length&&"string"==typeof t[e+1]?t[e]+=t.splice(e+1,1)[0]:++e:(arguments.callee(t[e]),++e)}var d=t.Markdown=function v(t){switch(typeof t){case"undefined":this.dialect=v.dialects.Gruber;break;case"object":this.dialect=t;break;default:if(!(t in v.dialects))throw new Error("Unknown Markdown dialect '"+String(t)+"'");this.dialect=v.dialects[t]}this.em_state=[],this.strong_state=[],this.debug_indent=""};t.parse=function(t,e){var i=new d(e);return i.toTree(t)},t.toHTML=function(e,i,l){var n=t.toHTMLTree(e,i,l);return t.renderJsonML(n)},t.toHTMLTree=function(t,e,i){"string"==typeof t&&(t=this.parse(t,e));var l=o(t),n={};l&&l.references&&(n=l.references);var s=c(t,n,i);return u(s),s};var f=d.mk_block=function(t,l,n){1==arguments.length&&(l="\n\n");var s=new String(t);return s.trailing=l,s.inspect=i,s.toSource=e,void 0!=n&&(s.lineNumber=n),s};d.prototype.split_blocks=function(t){var e,i=/([\s\S]+?)($|\n(?:\s*\n|$)+)/g,n=[],s=1;for(null!=(e=/^(\s*\n)/.exec(t))&&(s+=l(e[0]),i.lastIndex=e[0].length);null!==(e=i.exec(t));)n.push(f(e[1],e[2],s)),s+=l(e[0]);return n},d.prototype.processBlock=function(t,e){var i=this.dialect.block,l=i.__order__;if("__call__"in i)return i.__call__.call(this,t,e);for(var n=0;n<l.length;n++){var s=i[l[n]].call(this,t,e);if(s)return(!g(s)||s.length>0&&!g(s[0]))&&this.debug(l[n],"didn't return a proper array"),s}return[]},d.prototype.processInline=function(t){return this.dialect.inline.__call__.call(this,String(t))},d.prototype.toTree=function(t,e){var i=t instanceof Array?t:this.split_blocks(t),l=this.tree;try{for(this.tree=e||this.tree||["markdown"];i.length;){var n=this.processBlock(i.shift(),i);n.length&&this.tree.push.apply(this.tree,n)}return this.tree}finally{e&&(this.tree=l)}},d.prototype.debug=function(){var t=Array.prototype.slice.call(arguments);t.unshift(this.debug_indent),"undefined"!=typeof print&&print.apply(print,t),"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log.apply(null,t)},d.prototype.loop_re_over_block=function(t,e,i){for(var l,n=e.valueOf();n.length&&null!=(l=t.exec(n));)n=n.substr(l[0].length),i.call(this,l);return n},d.dialects={},d.dialects.Gruber={block:{atxHeader:function(t,e){var i=t.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(i){var l=["header",{level:i[1].length}];return Array.prototype.push.apply(l,this.processInline(i[2])),i[0].length<t.length&&e.unshift(f(t.substr(i[0].length),t.trailing,t.lineNumber+2)),[l]}},setextHeader:function(t,e){var i=t.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(i){var l="="===i[2]?1:2,n=["header",{level:l},i[1]];return i[0].length<t.length&&e.unshift(f(t.substr(i[0].length),t.trailing,t.lineNumber+2)),[n]}},code:function(t,e){var i=[],l=/^(?: {0,3}\t| {4})(.*)\n?/;if(t.match(l)){t:for(;;){var n=this.loop_re_over_block(l,t.valueOf(),function(t){i.push(t[1])});if(n.length){e.unshift(f(n,t.trailing));break t}if(!e.length)break t;if(!e[0].match(l))break t;i.push(t.trailing.replace(/[^\n]/g,"").substring(2)),t=e.shift()}return[["code_block",i.join("\n")]]}},horizRule:function(t,e){var i=t.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(i){var l=[["hr"]];return i[1]&&l.unshift.apply(l,this.processBlock(i[1],[])),i[3]&&e.unshift(f(i[3])),l}},lists:function(){function t(t){return new RegExp("(?:^("+r+"{0,"+t+"} {0,3})("+s+")\\s+)|(^"+r+"{0,"+(t-1)+"}[ ]{0,4})")}function e(t){return t.replace(/ {0,3}\t/g,"    ")}function i(t,e,i,l){if(e)return void t.push(["para"].concat(i));var n=t[t.length-1]instanceof Array&&"para"==t[t.length-1][0]?t[t.length-1]:t;l&&t.length>1&&i.unshift(l);for(var s=0;s<i.length;s++){var a=i[s],o="string"==typeof a;o&&n.length>1&&"string"==typeof n[n.length-1]?n[n.length-1]+=a:n.push(a)}}function l(t,e){for(var i=new RegExp("^("+r+"{"+t+"}.*?\\n?)*$"),l=new RegExp("^"+r+"{"+t+"}","gm"),n=[];e.length>0;){if(i.exec(e[0])){var s=e.shift(),a=s.replace(l,"");n.push(f(a,s.trailing,s.lineNumber))}break}return n}function n(t,e,i){var l=t.list,n=l[l.length-1];if(!(n[1]instanceof Array&&"para"==n[1][0]))if(e+1==i.length)n.push(["para"].concat(n.splice(1)));else{var s=n.pop();n.push(["para"].concat(n.splice(1)),s)}}var s="[*+-]|\\d+\\.",a=/[*+-]/,o=new RegExp("^( {0,3})("+s+")[ 	]+"),r="(?: {0,3}\\t| {4})";return function(s,r){function h(t){var e=a.exec(t[2])?["bulletlist"]:["numberlist"];return p.push({list:e,indent:t[1]}),e}var c=s.match(o);if(c){for(var u,d,p=[],f=h(c),g=!1,v=[p[0].list];;){for(var b=s.split(/(?=\n)/),y="",_=0;_<b.length;_++){var w="",x=b[_].replace(/^\n/,function(t){return w=t,""}),k=t(p.length);if(c=x.match(k),void 0!==c[1]){y.length&&(i(u,g,this.processInline(y),w),g=!1,y=""),c[1]=e(c[1]);var C=Math.floor(c[1].length/4)+1;if(C>p.length)f=h(c),u.push(f),u=f[1]=["listitem"];else{var M=!1;for(d=0;d<p.length;d++)if(p[d].indent==c[1]){f=p[d].list,p.splice(d+1),M=!0;break}M||(C++,C<=p.length?(p.splice(C),f=p[C-1].list):(f=h(c),u.push(f))),u=["listitem"],f.push(u)}w=""}x.length>c[0].length&&(y+=w+x.substr(c[0].length))}y.length&&(i(u,g,this.processInline(y),w),g=!1,y="");var D=l(p.length,r);D.length>0&&(m(p,n,this),u.push.apply(u,this.toTree(D,[])));var S=r[0]&&r[0].valueOf()||"";if(!S.match(o)&&!S.match(/^ /))break;s=r.shift();var T=this.dialect.block.horizRule(s,r);if(T){v.push.apply(v,T);break}m(p,n,this),g=!0}return v}}}(),blockquote:function(t,e){if(t.match(/^>/m)){var i=[];if(">"!=t[0]){for(var l=t.split(/\n/),n=[];l.length&&">"!=l[0][0];)n.push(l.shift());t=l.join("\n"),i.push.apply(i,this.processBlock(n.join("\n"),[]))}for(;e.length&&">"==e[0][0];){var s=e.shift();t=new String(t+t.trailing+s),t.trailing=s.trailing}var a=t.replace(/^> ?/gm,"");this.tree;return i.push(this.toTree(a,["blockquote"])),i}},referenceDefn:function(t,e){var i=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(t.match(i)){o(this.tree)||this.tree.splice(1,0,{});var l=o(this.tree);void 0===l.references&&(l.references={});var n=this.loop_re_over_block(i,t,function(t){t[2]&&"<"==t[2][0]&&">"==t[2][t[2].length-1]&&(t[2]=t[2].substring(1,t[2].length-1));var e=l.references[t[1].toLowerCase()]={href:t[2]};void 0!==t[4]?e.title=t[4]:void 0!==t[5]&&(e.title=t[5])});return n.length&&e.unshift(f(n,t.trailing)),[]}},para:function(t){return[["para"].concat(this.processInline(t))]}}},d.dialects.Gruber.inline={__oneElement__:function(t,e,i){var l,n;e=e||this.dialect.inline.__patterns__;var s=new RegExp("([\\s\\S]*?)("+(e.source||e)+")");if(l=s.exec(t),!l)return[t.length,t];if(l[1])return[l[1].length,l[1]];var n;return l[2]in this.dialect.inline&&(n=this.dialect.inline[l[2]].call(this,t.substr(l.index),l,i||[])),n=n||[l[2].length,l[2]]},__call__:function(t,e){function i(t){"string"==typeof t&&"string"==typeof n[n.length-1]?n[n.length-1]+=t:n.push(t)}for(var l,n=[];t.length>0;)l=this.dialect.inline.__oneElement__.call(this,t,e,n),t=t.substr(l.shift()),m(l,i);return n},"]":function(){},"}":function(){},"\\":function(t){return t.match(/^\\[\\`\*_{}\[\]()#\+.!\-]/)?[2,t[1]]:[1,"\\"]},"![":function(t){var e=t.match(/^!\[(.*?)\][ \t]*\([ \t]*(\S*)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(e){e[2]&&"<"==e[2][0]&&">"==e[2][e[2].length-1]&&(e[2]=e[2].substring(1,e[2].length-1)),e[2]=this.dialect.inline.__call__.call(this,e[2],/\\/)[0];var i={alt:e[1],href:e[2]||""};return void 0!==e[4]&&(i.title=e[4]),[e[0].length,["img",i]]}return e=t.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/),e?[e[0].length,["img_ref",{alt:e[1],ref:e[2].toLowerCase(),original:e[0]}]]:[2,"!["]},"[":function b(t){var e=String(t),i=d.DialectHelpers.inline_until_char.call(this,t.substr(1),"]");if(!i)return[1,"["];var b,l,n=1+i[0],s=i[1];t=t.substr(n);var a=t.match(/^\s*\([ \t]*(\S+)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(a){var o=a[1];if(n+=a[0].length,o&&"<"==o[0]&&">"==o[o.length-1]&&(o=o.substring(1,o.length-1)),!a[3])for(var r=1,h=0;h<o.length;h++)switch(o[h]){case"(":r++;break;case")":0==--r&&(n-=o.length-h,o=o.substring(0,h))}return o=this.dialect.inline.__call__.call(this,o,/\\/)[0],l={href:o||""},void 0!==a[3]&&(l.title=a[3]),b=["link",l].concat(s),[n,b]}return a=t.match(/^\s*\[(.*?)\]/),a?(n+=a[0].length,l={ref:(a[1]||String(s)).toLowerCase(),original:e.substr(0,n)},b=["link_ref",l].concat(s),[n,b]):1==s.length&&"string"==typeof s[0]?(l={ref:s[0].toLowerCase(),original:e.substr(0,n)},b=["link_ref",l,s[0]],[n,b]):[1,"["]},"<":function(t){var e;return null!=(e=t.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?e[3]?[e[0].length,["link",{href:"mailto:"+e[3]},e[3]]]:"mailto"==e[2]?[e[0].length,["link",{href:e[1]},e[1].substr("mailto:".length)]]:[e[0].length,["link",{href:e[1]},e[1]]]:[1,"<"]},"`":function(t){var e=t.match(/(`+)(([\s\S]*?)\1)/);return e&&e[2]?[e[1].length+e[2].length,["inlinecode",e[3]]]:[1,"`"]},"  \n":function(){return[3,["linebreak"]]}},d.dialects.Gruber.inline["**"]=n("strong","**"),d.dialects.Gruber.inline.__=n("strong","__"),d.dialects.Gruber.inline["*"]=n("em","*"),d.dialects.Gruber.inline._=n("em","_"),d.buildBlockOrder=function(t){var e=[];for(var i in t)"__order__"!=i&&"__call__"!=i&&e.push(i);t.__order__=e},d.buildInlinePatterns=function(t){var e=[];for(var i in t)if(!i.match(/^__.*__$/)){var l=i.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");e.push(1==i.length?l:"(?:"+l+")")}e=e.join("|"),t.__patterns__=e;var n=t.__call__;t.__call__=function(t,i){return void 0!=i?n.call(this,t,i):n.call(this,t,e)}},d.DialectHelpers={},d.DialectHelpers.inline_until_char=function(t,e){for(var i=0,l=[];;){if(t[i]==e)return i++,[i,l];if(i>=t.length)return null;var n=this.dialect.inline.__oneElement__.call(this,t.substr(i));i+=n[0],l.push.apply(l,n.slice(1))}},d.subclassDialect=function(t){function e(){}function i(){}return e.prototype=t.block,i.prototype=t.inline,{block:new e,inline:new i}},d.buildBlockOrder(d.dialects.Gruber.block),d.buildInlinePatterns(d.dialects.Gruber.inline),d.dialects.Maruku=d.subclassDialect(d.dialects.Gruber),d.dialects.Maruku.processMetaHash=function(t){for(var e=s(t),i={},l=0;l<e.length;++l)if(/^#/.test(e[l]))i.id=e[l].substring(1);else if(/^\./.test(e[l]))i["class"]?i["class"]=i["class"]+e[l].replace(/./," "):i["class"]=e[l].substring(1);else if(/\=/.test(e[l])){var n=e[l].split(/\=/);i[n[0]]=n[1]}return i},d.dialects.Maruku.block.document_meta=function(t){if(!(t.lineNumber>1)&&t.match(/^(?:\w+:.*\n)*\w+:.*$/)){o(this.tree)||this.tree.splice(1,0,{});var e=t.split(/\n/);for(p in e){var i=e[p].match(/(\w+):\s*(.*)$/),l=i[1].toLowerCase(),n=i[2];this.tree[1][l]=n}return[]}},d.dialects.Maruku.block.block_meta=function(t){var e=t.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(e){var i,l=this.dialect.processMetaHash(e[2]);if(""===e[1]){var n=this.tree[this.tree.length-1];if(i=o(n),"string"==typeof n)return;i||(i={},n.splice(1,0,i));for(a in l)i[a]=l[a];return[]}var s=t.replace(/\n.*$/,""),r=this.processBlock(s,[]);i=o(r[0]),i||(i={},r[0].splice(1,0,i));for(a in l)i[a]=l[a];return r}},d.dialects.Maruku.block.definition_list=function(t,e){var i,l=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,n=["dl"];if(o=t.match(l)){for(var s=[t];e.length&&l.exec(e[0]);)s.push(e.shift());for(var a=0;a<s.length;++a){var o=s[a].match(l),r=o[1].replace(/\n$/,"").split(/\n/),h=o[2].split(/\n:\s+/);for(i=0;i<r.length;++i)n.push(["dt",r[i]]);for(i=0;i<h.length;++i)n.push(["dd"].concat(this.processInline(h[i].replace(/(\n)\s+/,"$1"))))}return[n]}},d.dialects.Maruku.inline["{:"]=function(t,e,i){if(!i.length)return[2,"{:"];var l=i[i.length-1];if("string"==typeof l)return[2,"{:"];var n=t.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!n)return[2,"{:"];var s=this.dialect.processMetaHash(n[1]),a=o(l);a||(a={},l.splice(1,0,a));for(var r in s)a[r]=s[r];return[n[0].length,""]},d.buildBlockOrder(d.dialects.Maruku.block),d.buildInlinePatterns(d.dialects.Maruku.inline);var m,g=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)};m=Array.prototype.forEach?function(t,e,i){return t.forEach(e,i)}:function(t,e,i){for(var l=0;l<t.length;l++)e.call(i||t,t[l],l,t)},t.renderJsonML=function(t,e){e=e||{},e.root=e.root||!1;var i=[];if(e.root)i.push(h(t));else for(t.shift(),!t.length||"object"!=typeof t[0]||t[0]instanceof Array||t.shift();t.length;)i.push(h(t.shift()));return i.join("\n\n")}}(function(){return"undefined"==typeof exports?(window.markdown={},window.markdown):exports}());